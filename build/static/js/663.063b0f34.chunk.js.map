{"version":3,"file":"static/js/663.063b0f34.chunk.js","mappings":"mTAEO,SAASA,EAAuBC,GACrC,OAAOC,EAAAA,EAAAA,IAAqB,aAAcD,EAC5C,EACuBE,EAAAA,EAAAA,GAAuB,aAAc,CAAC,OAAQ,WAAY,YAAa,QAAS,SAAU,WAAY,QAAS,WAAY,eAAgB,uBAAwB,iBAAkB,gBAAiB,UAAW,oB,aCL3N,MAAAC,EAAA,8GA4BPC,GAAcC,EAAAA,EAAAA,IAAO,MAAO,CAChCC,KAAM,aACNN,KAAM,OACNO,kBAAmBA,CAACC,EAAOC,KACzB,MAAM,WACJC,GACEF,EACJ,MAAO,CAACC,EAAOE,KAAMD,EAAWE,UAAYH,EAAOG,SAAUH,EAAOC,EAAWG,SAAUH,EAAWI,OAASL,EAAOK,MAAkC,aAA3BJ,EAAWK,aAA8BN,EAAOO,SAAUN,EAAWO,UAAYR,EAAOQ,SAAUP,EAAWQ,UAAYT,EAAOU,aAAcT,EAAWQ,UAAuC,aAA3BR,EAAWK,aAA8BN,EAAOW,qBAA+C,UAAzBV,EAAWW,WAAoD,aAA3BX,EAAWK,aAA8BN,EAAOa,eAAyC,SAAzBZ,EAAWW,WAAmD,aAA3BX,EAAWK,aAA8BN,EAAOc,iBAP7gBlB,EASjBmB,EAAAA,EAAAA,GAAUC,IAAA,IAAC,MACZC,GACDD,EAAA,MAAM,CACLE,OAAQ,EAERC,WAAY,EACZC,YAAa,EACbC,YAAa,QACbC,aAAcL,EAAMM,MAAQN,GAAOO,QAAQC,QAC3CC,kBAAmB,OACnBC,SAAU,CAAC,CACT5B,MAAO,CACLI,UAAU,GAEZyB,MAAO,CACLC,SAAU,WACVC,OAAQ,EACRC,KAAM,EACNC,MAAO,SAER,CACDjC,MAAO,CACLM,OAAO,GAETuB,MAAO,CACLN,YAAaL,EAAMgB,OAAOhB,EAAMM,MAAQN,GAAOO,QAAQC,QAAS,OAEjE,CACD1B,MAAO,CACLK,QAAS,SAEXwB,MAAO,CACLM,WAAY,KAEb,CACDnC,MAAO,CACLK,QAAS,SACTE,YAAa,cAEfsB,MAAO,CACLM,WAAYjB,EAAMkB,QAAQ,GAC1BC,YAAanB,EAAMkB,QAAQ,KAE5B,CACDpC,MAAO,CACLK,QAAS,SACTE,YAAa,YAEfsB,MAAO,CACLS,UAAWpB,EAAMkB,QAAQ,GACzBG,aAAcrB,EAAMkB,QAAQ,KAE7B,CACDpC,MAAO,CACLO,YAAa,YAEfsB,MAAO,CACLW,OAAQ,OACRb,kBAAmB,EACnBc,iBAAkB,SAEnB,CACDzC,MAAO,CACLS,UAAU,GAEZoB,MAAO,CACLa,UAAW,UACXF,OAAQ,SAET,CACDxC,MAAO2C,IAAA,IAAC,WACNzC,GACDyC,EAAA,QAAOzC,EAAWQ,UACnBmB,MAAO,CACLe,QAAS,OACT/B,UAAW,SACXgC,OAAQ,EACRC,eAAgB,QAChBC,gBAAiB,QACjB,sBAAuB,CACrBC,QAAS,KACTN,UAAW,YAGd,CACD1C,MAAOiD,IAAA,IAAC,WACN/C,GACD+C,EAAA,OAAK/C,EAAWQ,UAAuC,aAA3BR,EAAWK,aACxCsB,MAAO,CACL,sBAAuB,CACrBI,MAAO,OACPiB,UAAW,cAAFC,QAAiBjC,EAAMM,MAAQN,GAAOO,QAAQC,SACvDoB,eAAgB,aAGnB,CACD9C,MAAOoD,IAAA,IAAC,WACNlD,GACDkD,EAAA,MAAgC,aAA3BlD,EAAWK,aAA8BL,EAAWQ,UAC1DmB,MAAO,CACLwB,cAAe,SACf,sBAAuB,CACrBb,OAAQ,OACRc,WAAY,cAAFH,QAAiBjC,EAAMM,MAAQN,GAAOO,QAAQC,SACxDqB,gBAAiB,aAGpB,CACD/C,MAAOuD,IAAA,IAAC,WACNrD,GACDqD,EAAA,MAA8B,UAAzBrD,EAAWW,WAAoD,aAA3BX,EAAWK,aACrDsB,MAAO,CACL,YAAa,CACXI,MAAO,OAET,WAAY,CACVA,MAAO,SAGV,CACDjC,MAAOwD,IAAA,IAAC,WACNtD,GACDsD,EAAA,MAA8B,SAAzBtD,EAAWW,WAAmD,aAA3BX,EAAWK,aACpDsB,MAAO,CACL,YAAa,CACXI,MAAO,OAET,WAAY,CACVA,MAAO,cAKTwB,GAAiB5D,EAAAA,EAAAA,IAAO,OAAQ,CACpCC,KAAM,aACNN,KAAM,UACNO,kBAAmBA,CAACC,EAAOC,KACzB,MAAM,WACJC,GACEF,EACJ,MAAO,CAACC,EAAOyD,QAAoC,aAA3BxD,EAAWK,aAA8BN,EAAO0D,mBAPrD9D,EASpBmB,EAAAA,EAAAA,GAAU4C,IAAA,IAAC,MACZ1C,GACD0C,EAAA,MAAM,CACLhB,QAAS,eACTiB,YAAa,QAAFV,OAAUjC,EAAMkB,QAAQ,GAAE,WACrC0B,aAAc,QAAFX,OAAUjC,EAAMkB,QAAQ,GAAE,WACtC2B,WAAY,SACZnC,SAAU,CAAC,CACT5B,MAAO,CACLO,YAAa,YAEfsB,MAAO,CACLmC,WAAY,QAAFb,OAAUjC,EAAMkB,QAAQ,GAAE,WACpC6B,cAAe,QAAFd,OAAUjC,EAAMkB,QAAQ,GAAE,kBAIvC8B,EAAuBC,EAAAA,WAAiB,SAAiBC,EAASC,GACtE,MAAMrE,GAAQsE,EAAAA,EAAAA,GAAgB,CAC5BtE,MAAOoE,EACPtE,KAAM,gBAEF,SACJM,GAAW,EAAK,SAChBM,EAAQ,UACR6D,EAAS,YACThE,EAAc,aAAY,UAC1BiE,GAAY9D,GAA4B,aAAhBH,EAA6B,MAAQ,MAAI,SACjEE,GAAW,EAAK,MAChBH,GAAQ,EAAK,KACbmE,GAAqB,OAAdD,EAAqB,iBAAcE,GAAS,UACnD7D,EAAY,SAAQ,QACpBR,EAAU,aAERL,EADC2E,GAAKC,EAAAA,EAAAA,GACN5E,EAAKL,GACHO,GAAU2E,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACX7E,GAAK,IACRI,WACAoE,YACA/D,WACAH,QACAC,cACAkE,OACA5D,YACAR,YAEIyE,EAtNkB5E,KACxB,MAAM,SACJE,EAAQ,SACRM,EAAQ,QACRoE,EAAO,SACPrE,EAAQ,MACRH,EAAK,YACLC,EAAW,UACXM,EAAS,QACTR,GACEH,EACE6E,EAAQ,CACZ5E,KAAM,CAAC,OAAQC,GAAY,WAAYC,EAASC,GAAS,QAAyB,aAAhBC,GAA8B,WAAYE,GAAY,WAAYC,GAAY,eAAgBA,GAA4B,aAAhBH,GAA8B,uBAAsC,UAAdM,GAAyC,aAAhBN,GAA8B,iBAAgC,SAAdM,GAAwC,aAAhBN,GAA8B,iBACjWmD,QAAS,CAAC,UAA2B,aAAhBnD,GAA8B,oBAErD,OAAOyE,EAAAA,EAAAA,GAAeD,EAAOxF,EAAwBuF,IAuMrCG,CAAkB/E,GAClC,OAAoBgF,EAAAA,EAAAA,KAAKtF,GAAWiF,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CAClCM,GAAIX,EACJD,WAAWa,EAAAA,EAAAA,GAAKN,EAAQ3E,KAAMoE,GAC9BE,KAAMA,EACNJ,IAAKA,EACLnE,WAAYA,EACZ,mBAA6B,cAATuE,GAAuC,OAAdD,GAAsC,aAAhBjE,OAA4CmE,EAAdnE,GAC9FoE,GAAK,IACRjE,SAAUA,GAAwBwE,EAAAA,EAAAA,KAAKzB,EAAgB,CACrDc,UAAWO,EAAQpB,QACnBxD,WAAYA,EACZQ,SAAUA,IACP,OAET,GAMIwD,IACFA,EAAQmB,sBAAuB,GAiEjC,U,mICpSA,MAAMC,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WAGjEC,EAASC,KAAKC,GAAK,IACnBC,EAAyB1F,IAC7B,MAAM,GACJ2F,EAAE,GAAEC,EAAE,SAAEC,EAAQ,YAAEC,EAAW,QAAEC,EAAO,MAAEC,EAAK,QAAEC,GAC7CjG,EACEkG,EAASJ,EAAc,GACvBK,EAAIR,EAAKO,EAASV,KAAKY,KAAKP,EAAWN,GACvCc,EAAIT,EAAKM,EAASV,KAAKc,KAAKT,EAAWN,GACvCzF,GAAc,OAAPmG,QAAO,IAAPA,OAAO,EAAPA,EAASnG,QAAe,OAAPmG,QAAO,IAAPA,OAAO,EAAPA,EAASM,QAAK,SAAApD,OAAa6C,EAAQ,GAC3DQ,EAAaL,EAAIR,EAAK,QAAU,MACtC,OACEc,EAAAA,EAAAA,MAAA,KAAA/F,SAAA,EAEEwE,EAAAA,EAAAA,KAAA,YACEwB,OAAM,GAAAvD,OAAKwC,GAAMG,EAAc,GAAKN,KAAKY,KAAKP,EAAWN,GAAO,KAAApC,OAAIyC,GAAME,EAAc,GAAKN,KAAKc,KAAKT,EAAWN,GAAO,KAAApC,OAAIwC,GAAMG,EAAc,GAAKN,KAAKY,KAAKP,EAAWN,GAAO,KAAApC,OAAIyC,GAAME,EAAc,GAAKN,KAAKc,KAAKT,EAAWN,GAAO,KAAApC,OAAIgD,EAAC,KAAAhD,OAAIkD,GACpPM,KAAK,OACLC,OAAO,UACPC,YAAa,KAEf3B,EAAAA,EAAAA,KAAA,QAAMiB,EAAGA,EAAGE,EAAGA,EAAGM,KAAK,UAAUH,WAAYA,EAAYM,iBAAiB,UAAUC,SAAU,GAAGrG,SAAA,GAAAyC,OAC3FrD,EAAI,MAAAqD,QAAgB,IAAV4C,GAAeiB,QAAQ,GAAE,WAk5B/C,EA54BkBC,KAAO,IAADC,EACtB,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,CACjCC,OAAQ,CAAEC,MAAO,EAAGC,MAAO,EAAGC,UAAW,EAAGC,MAAO,EAAGC,aAAc,EAAGC,WAAY,GACnFC,QAAS,GACTC,WAAY,GACZC,IAAK,GACLC,cAAe,GACfC,OAAQ,MAEHC,EAASC,IAAcd,EAAAA,EAAAA,WAAS,IAChCe,EAAgBC,IAAqBhB,EAAAA,EAAAA,WAAS,IAC9CiB,EAAaC,IAAkBlB,EAAAA,EAAAA,UAAS,KACxCmB,EAAcC,IAAmBpB,EAAAA,EAAAA,WAAS,IAC1CqB,EAAaC,IAAkBtB,EAAAA,EAAAA,UAAS,CAAC,IACzCuB,EAAiBC,IAAsBxB,EAAAA,EAAAA,UAAS,CAAC,IAEjDyB,EAAiBC,IAAsB1B,EAAAA,EAAAA,UAAS,CAAC,IACjD2B,EAAaC,IAAkB5B,EAAAA,EAAAA,UAAS,IACxC6B,EAAgBC,IAAqB9B,EAAAA,EAAAA,UAAS,IAC9C+B,EAASC,IAAchC,EAAAA,EAAAA,UAAS,IAChCiC,EAAmBC,IAAwBlC,EAAAA,EAAAA,UAAS,IAGpDmC,EAAUC,IAAepC,EAAAA,EAAAA,UAAS,GACnCqC,EAAiB,GAKjBC,IAAexC,EAAMU,SAAW,IAAI+B,IAAIC,IAAC,CAC7CC,MAAOD,EAAEC,OAAS,UAClBC,QAASC,OAAOH,EAAEI,SAAWJ,EAAEI,SAAW,MACxCC,OAAOL,IAAMM,MAAMN,EAAEE,UACnBK,IAAkBjD,EAAMW,YAAc,IAAI8B,IAAIS,IAAC,CACnDvK,KAAMuK,EAAEvK,MAAQ,UAChBwK,MAAON,OAAOK,EAAEC,OAASD,EAAEE,OAAS,MAClCL,OAAOG,IAAMF,MAAME,EAAEC,QACnBE,IAAWrD,EAAMY,KAAO,IAAI6B,IAAIa,IAAC,CACrCC,MAAOD,EAAEC,OAAS,WAClBjD,UAAWuC,OAAOS,EAAEE,iBAAmBF,EAAEhD,WAAagD,EAAEG,WAAa,GACrElD,MAAOsC,OAAOS,EAAEI,aAAeJ,EAAE/C,OAAS+C,EAAEK,OAAS,MACnDZ,OAAOO,IAAMN,MAAMM,EAAEhD,YACnBsD,IAAqB5D,EAAMa,eAAiB,IAAI4B,IAAIoB,IAAC,CACzDN,MAAOM,EAAEN,OAAS,WAClBjD,UAAWuC,OAAOgB,EAAEL,iBAAmBK,EAAEvD,WAAa,GACtDC,MAAOsC,OAAOgB,EAAEH,aAAeG,EAAEtD,OAAS,MACxCwC,OAAOc,IAAMb,MAAMa,EAAEvD,YAGnBwD,GAAiB,SAACC,GAAkB,IAAD,IAAAC,EAAAC,UAAAC,OAATC,EAAI,IAAAC,MAAAJ,EAAA,EAAAA,EAAA,KAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAJF,EAAIE,EAAA,GAAAJ,UAAAI,GAClC,IAAK,MAAMC,KAAKH,EACd,GAAIJ,GAAOQ,OAAOC,UAAUC,eAAeC,KAAKX,EAAKO,GAAI,CACvD,MAAMK,EAAI9B,OAAOkB,EAAIO,IACrB,IAAKzB,OAAOG,MAAM2B,GAAI,OAAOA,CAC/B,CAEF,OAAO,CACT,EAGMC,GAAoBC,GACxBf,GACEe,EACA,YACA,YACA,iBACA,gBACA,kBACA,iBACA,OAGEC,GAAkBD,GACtBf,GAAee,EAAG,UAAW,UAAW,eAAgB,cAAe,gBAAiB,gBAEpFE,GAAgBF,GACpBf,GAAee,EAAG,QAAS,QAAS,aAAc,YAAa,cAAe,cAE1EG,IAAUhF,EAAMU,SAAW,IAAI+B,IAAIoC,IAAC,CACxCI,IAAKJ,EACLlC,MAAOkC,EAAElC,OAASkC,EAAEzF,OAAS,UAC7B0D,QAASgC,GAAeD,GACxBtE,MAAOwE,GAAaF,GACpBvE,UAAWsE,GAAiBC,MAKxBK,GAA2BF,GAAOG,KAAKN,GAAKA,EAAEvE,UAAY,GAC1D8E,GAAmBvC,QAAmB,QAAZ9C,EAAAC,EAAMG,cAAM,IAAAJ,OAAA,EAAZA,EAAcO,YAAa,GAE3D,IAAI+E,GAAaL,GAAOvC,IAAIoC,IAAC,CAAOlC,MAAOkC,EAAElC,MAAOG,QAAS+B,EAAE/B,QAASvC,MAAOsE,EAAEtE,MAAOD,UAAWuE,EAAEvE,aAErG,IAAK4E,IAA2BE,GAAmB,GAAKC,GAAWnB,OAAS,EAAG,CAC7E,MAAMoB,EAAeD,GAAWE,OAAO,CAACC,EAAGC,IAAMD,GAAKC,EAAE3C,SAAW,GAAI,GACvE,GAAIwC,EAAe,EAAG,CAEpBD,GAAaA,GAAW5C,IAAIgD,IAAC/H,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACxB+H,GAAC,IACJnF,UAAWjC,KAAKqH,OAAQD,EAAE3C,SAAW,GAAKwC,EAAgBF,OAG5D,MAAMO,EAAWN,GAAWE,OAAO,CAACC,EAAGC,IAAMD,GAAKC,EAAEnF,WAAa,GAAI,GACrE,IAAIsF,EAAOR,GAAmBO,EAC9B,IAAK,IAAIE,EAAI,EAAY,IAATD,GAAcC,EAAIR,GAAWnB,OAAQ2B,GAAK,EACxDR,GAAWQ,GAAGvF,WAAa+E,GAAWQ,GAAGvF,WAAa,IAAMsF,EAAO,EAAI,GAAK,GAC5EA,GAASA,EAAO,GAAK,EAAI,CAE7B,KAAO,CAEL,MAAME,EAAOzH,KAAK0H,MAAMX,GAAmBC,GAAWnB,QACtD,IAAI8B,EAAYZ,GAAmBU,EAAOT,GAAWnB,OACrDmB,GAAaA,GAAW5C,IAAKgD,IAC3B,MAAMQ,EAAMD,EAAY,EAAI,EAAI,EAEhC,OADAA,GAAaC,GACbvI,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAY+H,GAAC,IAAEnF,UAAWwF,EAAOG,KAErC,CACF,CAGAZ,GAAaA,GAAW5C,IAAIC,IAAC,CAC3BC,MAAOD,EAAEC,OAAS,UAClBG,QAASD,OAAOH,EAAEI,SAAW,GAC7BvC,MAAOsC,OAAOH,EAAEnC,OAAS,GACzBD,UAAWuC,OAAOH,EAAEpC,WAAa,MAC/ByC,OAAOL,IAAMG,OAAOG,OAAON,EAAEI,SAAW,IAAMJ,EAAEnC,OAAS,IAAMmC,EAAEpC,WAAa,KAElF,MAAM4F,GAAYA,CAACC,EAAQC,KACzB,IAAKD,GAAUA,EAAOjC,OAAS,EAAG,OAAO,KACzC,MAAMmC,EAASF,EAAO1D,IAAIC,GAAKG,OAAOH,EAAE0D,IAAQ,IAC1CE,EAAUD,EAAOA,EAAOnC,OAAS,GACjCqC,EAAOF,EAAOA,EAAOnC,OAAS,GACpC,OAAKqC,GACID,EAAUC,GAAQA,EAAQ,IADjB,MAIdC,GAAeC,IACnB,GAAc,OAAVA,GAAkB5D,OAAOG,MAAMyD,GAAQ,MAAO,wBAClD,MAAMC,EAAUD,EAAM5G,QAAQ,GAE9B,MAAM,GAAN7D,OADayK,EAAQ,EAAI,IAAM,IACjBzK,OAAG0K,EAAO,MAGpBC,GAAeT,GAAUb,GAAY,WACrCuB,GAAaV,GAAUb,GAAY,SAInCwB,IAHiBX,GAAUb,GAAY,aAGtB7C,GACpBO,OAAO8B,GAAKA,EAAEjC,QAAU,GACxBkE,KAAK,CAACC,EAAGzD,IAAMA,EAAEV,QAAUmE,EAAEnE,UAC1BoE,GAAoB/D,GACvBF,OAAOG,GAAKA,EAAEC,MAAQ,GACtB2D,KAAK,CAACC,EAAGzD,IAAMA,EAAEH,MAAQ4D,EAAE5D,OACxB8D,GAAa5D,GAChBN,OAAOO,GAAKA,EAAEhD,UAAY,GAC1BwG,KAAK,CAACC,EAAGzD,IAAMA,EAAEhD,UAAYyG,EAAEzG,WAC5B4G,GAAuBtD,GAC1Bb,OAAOc,GAAKA,EAAEvD,UAAY,GAC1BwG,KAAK,CAACC,EAAGzD,IAAMA,EAAEhD,UAAYyG,EAAEzG,WAG5B6G,IADoB9I,KAAK+I,IAAI,EAAG/I,KAAKgJ,MAAMR,GAAe3C,QAAU,GAxI/C,IAyIE7F,KAAK+I,IAAI,EAAG/I,KAAKgJ,MAAML,GAAkB9C,QAAU,GAzIrD,KA0IrBoD,GAAgBjJ,KAAK+I,IAAI,EAAG/I,KAAKgJ,MAAMJ,GAAW/C,QAAU,GA1IvC,IA2IrBqD,GAA0BlJ,KAAK+I,IAAI,EAAG/I,KAAKgJ,MAAMH,GAAqBhD,QAAU,GA3I3D,IA6IrBsD,GA7IqB,GA6IL3F,EAAc,GAC9B4F,GAAaD,GA9IQ,EAiJrBE,IAFeb,GAAec,MAAMH,GAAcC,IA/I7B,GAiJF1F,EAAiB,IACpC6F,GAAgBF,GAlJK,EAmJrBG,GAAkBb,GAAkBW,MAAMD,GAAiBE,IAE3DE,GArJqB,GAqJT7F,EAAU,GACtB8F,GAASD,GAtJY,EAuJrBE,GAAWf,GAAWU,MAAMG,GAAUC,IAEtCE,GAzJqB,GAyJC9F,EAAoB,GAC1C+F,GAAmBD,GA1JE,EA2JrBE,GAAqBjB,GAAqBS,MAAMM,GAAoBC,IAGpEE,GAAmBjH,EAAYwG,OAAOtF,EAAW,GAAKE,EAAgBF,EAAWE,GAgBvF,OAdA8F,EAAAA,EAAAA,WAAU,KACR,WACErH,GAAW,GACX,IACE,MAAMsH,QAAaC,EAAAA,EAAAA,MACnBtI,EAASqI,EACX,CAAE,MAAOE,GACPC,QAAQD,MAAM,wBAAyBA,EACzC,CAAC,QACCxH,GAAW,EACb,CACD,EAVD,IAWC,IAECD,GACKhD,EAAAA,EAAAA,KAAA,OAAKX,UAAU,gBAAe7D,SAAC,gBAItC+F,EAAAA,EAAAA,MAACoJ,EAAAA,EAAG,CAACC,GAAI,CAAEC,QAAS,IAAMrP,SAAA,EACxB+F,EAAAA,EAAAA,MAACuJ,EAAAA,EAAI,CAACC,WAAS,EAAC7N,QAAS,GAAI1B,SAAA,EAC3B+F,EAAAA,EAAAA,MAACuJ,EAAAA,EAAI,CAACE,KAAM,CAAEC,GAAI,IAAKzP,SAAA,EACrBwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,KAAKyP,GAAI,CAAEO,MAAO,UAAWC,GAAI,IAAMvJ,SAAU,UAAWrG,SAAC,cAGjFwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,QAAQyP,GAAI,CAAEO,MAAO,UAAWtJ,SAAU,WAAYrG,SAAC,+EAK7EwE,EAAAA,EAAAA,KAAC8K,EAAAA,EAAI,CAACE,KAAM,CAAEC,GAAI,IAAKzP,UACrB+F,EAAAA,EAAAA,MAACuJ,EAAAA,EAAI,CAACC,WAAS,EAAC7N,QAAS,GAAI1B,SAAA,EAC3BwE,EAAAA,EAAAA,KAAC8K,EAAAA,EAAI,CAACE,KAAM,CAAEC,GAAI,GAAII,GAAI,EAAGC,GAAI,EAAGC,GAAI,KAAM/P,UAC5CwE,EAAAA,EAAAA,KAACwL,EAAAA,EAAI,CAACZ,GAAI,CAAEa,WAAY,UAAWC,aAAc,EAAGC,UAAW,6BAA8BnQ,UAC3F+F,EAAAA,EAAAA,MAACqK,EAAAA,EAAW,CAAChB,GAAI,CAAElN,QAAS,OAAQS,cAAe,SAAU0N,IAAK,GAAKhB,QAAS,KAAOrP,SAAA,EACrFwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,UAAUyP,GAAI,CAAEO,MAAO,UAAWtJ,SAAU,WAAYrG,SAAC,iBAC7E+F,EAAAA,EAAAA,MAACoJ,EAAAA,EAAG,CAACC,GAAI,CAAElN,QAAS,OAAQoO,WAAY,SAAUC,eAAgB,gBAAiBC,GAAI,IAAMxQ,SAAA,EAC3FwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,KAAKyP,GAAI,CAAEO,MAAO,UAAWtJ,SAAU,UAAWrG,SAAEyG,EAAMG,OAAOC,SACrFrC,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE/I,SAAU,GAAIoK,GAAI,GAAKC,GAAI,IAAMR,aAAc,IAAKS,QAAS,sBAAuBhB,MAAO,WAAY3P,SAC/GiN,GAAYG,UAGjB5I,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,UAAUyP,GAAI,CAAEO,MAAO,UAAWa,GAAI,GAAKnK,SAAU,UAAWrG,SAAC,qCAM3FwE,EAAAA,EAAAA,KAAC8K,EAAAA,EAAI,CAACE,KAAM,CAAEC,GAAI,GAAII,GAAI,EAAGC,GAAI,EAAGC,GAAI,KAAM/P,UAC5CwE,EAAAA,EAAAA,KAACwL,EAAAA,EAAI,CAACZ,GAAI,CAAEa,WAAY,UAAWC,aAAc,EAAGC,UAAW,6BAA8BnQ,UAC3F+F,EAAAA,EAAAA,MAACqK,EAAAA,EAAW,CAAChB,GAAI,CAAElN,QAAS,OAAQS,cAAe,SAAU0N,IAAK,GAAKhB,QAAS,KAAOrP,SAAA,EACrFwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,UAAUyP,GAAI,CAAEO,MAAO,UAAWtJ,SAAU,WAAYrG,SAAC,iBAC7E+F,EAAAA,EAAAA,MAACoJ,EAAAA,EAAG,CAACC,GAAI,CAAElN,QAAS,OAAQoO,WAAY,SAAUC,eAAgB,gBAAiBC,GAAI,IAAMxQ,SAAA,EAC3FwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,KAAKyP,GAAI,CAAEO,MAAO,UAAWtJ,SAAU,UAAWrG,SAAEyG,EAAMG,OAAOE,SACrFtC,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE/I,SAAU,GAAIoK,GAAI,GAAKC,GAAI,IAAMR,aAAc,IAAKS,QAAS,uBAAwBhB,MAAO,WAAY3P,SAChHiN,GAAYG,UAGjB5I,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,UAAUyP,GAAI,CAAEO,MAAO,UAAWa,GAAI,GAAKnK,SAAU,UAAWrG,SAAC,+BAM3FwE,EAAAA,EAAAA,KAAC8K,EAAAA,EAAI,CAACE,KAAM,CAAEC,GAAI,GAAII,GAAI,EAAGC,GAAI,EAAGC,GAAI,KAAM/P,UAC5CwE,EAAAA,EAAAA,KAACwL,EAAAA,EAAI,CAACZ,GAAI,CAAEa,WAAY,UAAWC,aAAc,EAAGC,UAAW,6BAA8BnQ,UAC3F+F,EAAAA,EAAAA,MAACqK,EAAAA,EAAW,CAAChB,GAAI,CAAElN,QAAS,OAAQS,cAAe,SAAU0N,IAAK,GAAKhB,QAAS,KAAOrP,SAAA,EACrFwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,UAAUyP,GAAI,CAAEO,MAAO,UAAWtJ,SAAU,WAAYrG,SAAC,kBAC7E+F,EAAAA,EAAAA,MAACoJ,EAAAA,EAAG,CAACC,GAAI,CAAElN,QAAS,OAAQoO,WAAY,SAAUC,eAAgB,gBAAiBC,GAAI,IAAMxQ,SAAA,EAC3FwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,KAAKyP,GAAI,CAAEO,MAAO,UAAWtJ,SAAU,UAAWrG,SAAEyG,EAAMG,OAAOK,gBACrFzC,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE/I,SAAU,GAAIoK,GAAI,GAAKC,GAAI,IAAMR,aAAc,IAAKS,QAAS,sBAAuBhB,MAAO,WAAY3P,SAC/GiN,GAAYG,UAGjB5I,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,UAAUyP,GAAI,CAAEO,MAAO,UAAWa,GAAI,GAAKnK,SAAU,UAAWrG,SAAC,iCAM3FwE,EAAAA,EAAAA,KAAC8K,EAAAA,EAAI,CAACE,KAAM,CAAEC,GAAI,GAAII,GAAI,EAAGC,GAAI,EAAGC,GAAI,KAAM/P,UAC5CwE,EAAAA,EAAAA,KAACwL,EAAAA,EAAI,CAACZ,GAAI,CAAEa,WAAY,UAAWC,aAAc,EAAGC,UAAW,6BAA8BnQ,UAC3F+F,EAAAA,EAAAA,MAACqK,EAAAA,EAAW,CAAChB,GAAI,CAAElN,QAAS,OAAQS,cAAe,SAAU0N,IAAK,GAAKhB,QAAS,KAAOrP,SAAA,EACrFwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,UAAUyP,GAAI,CAAEO,MAAO,UAAWtJ,SAAU,WAAYrG,SAAC,iBAC7E+F,EAAAA,EAAAA,MAACoJ,EAAAA,EAAG,CAACC,GAAI,CAAElN,QAAS,OAAQoO,WAAY,SAAUC,eAAgB,gBAAiBC,GAAI,IAAMxQ,SAAA,EAC3FwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,KAAKyP,GAAI,CAAEO,MAAO,UAAWtJ,SAAU,UAAWrG,SAAEyG,EAAMG,OAAOM,cACrF1C,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE/I,SAAU,GAAIoK,GAAI,GAAKC,GAAI,IAAMR,aAAc,IAAKS,QAAS,uBAAwBhB,MAAO,WAAY3P,SAChHiN,GAAYG,UAGjB5I,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,UAAUyP,GAAI,CAAEO,MAAO,UAAWa,GAAI,GAAKnK,SAAU,UAAWrG,SAAC,kCAM3FwE,EAAAA,EAAAA,KAAC8K,EAAAA,EAAI,CAACE,KAAM,CAAEC,GAAI,GAAII,GAAI,EAAGC,GAAI,EAAGC,GAAI,KAAM/P,UAC5CwE,EAAAA,EAAAA,KAACwL,EAAAA,EAAI,CAACZ,GAAI,CAAEa,WAAY,UAAWC,aAAc,EAAGC,UAAW,6BAA8BnQ,UAC3F+F,EAAAA,EAAAA,MAACqK,EAAAA,EAAW,CAAChB,GAAI,CAAElN,QAAS,OAAQS,cAAe,SAAU0N,IAAK,GAAKhB,QAAS,KAAOrP,SAAA,EACrFwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,UAAUyP,GAAI,CAAEO,MAAO,UAAWtJ,SAAU,WAAYrG,SAAC,sBAC7E+F,EAAAA,EAAAA,MAACoJ,EAAAA,EAAG,CAACC,GAAI,CAAElN,QAAS,OAAQoO,WAAY,SAAUC,eAAgB,gBAAiBC,GAAI,IAAMxQ,SAAA,EAC3FwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,KAAKyP,GAAI,CAAEO,MAAO,UAAWtJ,SAAU,UAAWrG,SAAEyG,EAAMG,OAAOQ,cACrF5C,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE/I,SAAU,GAAIoK,GAAI,GAAKC,GAAI,IAAMR,aAAc,IAAKS,QAAS,uBAAwBhB,MAAO,WAAY3P,SAChHiN,GAAYG,UAGjB5I,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,UAAUyP,GAAI,CAAEO,MAAO,UAAWa,GAAI,GAAKnK,SAAU,UAAWrG,SAAC,8BAM3FwE,EAAAA,EAAAA,KAAC8K,EAAAA,EAAI,CAACE,KAAM,CAAEC,GAAI,GAAII,GAAI,EAAGC,GAAI,EAAGC,GAAI,KAAM/P,UAC5CwE,EAAAA,EAAAA,KAACwL,EAAAA,EAAI,CAACZ,GAAI,CAAEa,WAAY,UAAWC,aAAc,EAAGC,UAAW,6BAA8BnQ,UAC3F+F,EAAAA,EAAAA,MAACqK,EAAAA,EAAW,CAAChB,GAAI,CAAElN,QAAS,OAAQS,cAAe,SAAU0N,IAAK,GAAKhB,QAAS,KAAOrP,SAAA,EACrFwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,UAAUyP,GAAI,CAAEO,MAAO,UAAWtJ,SAAU,WAAYrG,SAAC,qBAC7E+F,EAAAA,EAAAA,MAACoJ,EAAAA,EAAG,CAACC,GAAI,CAAElN,QAAS,OAAQoO,WAAY,SAAUC,eAAgB,gBAAiBC,GAAI,IAAMxQ,SAAA,EAC3FwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,KAAKyP,GAAI,CAAEO,MAAO,UAAWtJ,SAAU,UAAWrG,SAAEyG,EAAMG,OAAOG,aACrFvC,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE/I,SAAU,GAAIoK,GAAI,GAAKC,GAAI,IAAMR,aAAc,IAAKS,QAAS,uBAAwBhB,MAAO,WAAY3P,SAChHiN,GAAYG,UAGjB5I,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,UAAUyP,GAAI,CAAEO,MAAO,UAAWa,GAAI,GAAKnK,SAAU,UAAWrG,SAAC,mCAM3FwE,EAAAA,EAAAA,KAAC8K,EAAAA,EAAI,CAACE,KAAM,CAAEC,GAAI,GAAII,GAAI,EAAGC,GAAI,EAAGC,GAAI,KAAM/P,UAC5CwE,EAAAA,EAAAA,KAACwL,EAAAA,EAAI,CACHZ,GAAI,CAAEa,WAAY,UAAWC,aAAc,EAAGU,OAAQ,UAAWT,UAAW,6BAC5EU,QAASC,UACPnJ,GAAkB,GAClBI,GAAgB,GAChB,IACE,MAAMgJ,QAAgBC,EAAAA,EAAAA,MACtBnJ,EAAekJ,EACjB,CAAE,MAAO9B,GACPC,QAAQD,MAAM,+BAAgCA,EAChD,CAAC,QACClH,GAAgB,EAClB,GACA/H,UAEF+F,EAAAA,EAAAA,MAACqK,EAAAA,EAAW,CAAChB,GAAI,CAAElN,QAAS,OAAQS,cAAe,SAAU0N,IAAK,GAAKhB,QAAS,KAAOrP,SAAA,EACrF+F,EAAAA,EAAAA,MAAC2J,EAAAA,EAAU,CAAC/P,QAAQ,UAAUyP,GAAI,CAAEO,MAAO,UAAWzN,QAAS,OAAQoO,WAAY,SAAUD,IAAK,GAAKhK,SAAU,WAAYrG,SAAA,CAAC,gBAChHwE,EAAAA,EAAAA,KAACyM,EAAAA,IAAK,QAEpBlL,EAAAA,EAAAA,MAACoJ,EAAAA,EAAG,CAACC,GAAI,CAAElN,QAAS,OAAQoO,WAAY,SAAUC,eAAgB,gBAAiBC,GAAI,IAAMxQ,SAAA,EAC3FwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,KAAKyP,GAAI,CAAEO,MAAO,UAAWtJ,SAAU,UAAWrG,SAAEyG,EAAMG,OAAOI,SACrFxC,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE/I,SAAU,GAAIoK,GAAI,GAAKC,GAAI,IAAMR,aAAc,IAAKS,QAAS,uBAAwBhB,MAAO,WAAY3P,SAChHiN,GAAYI,UAGjB7I,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,UAAUyP,GAAI,CAAEO,MAAO,UAAWa,GAAI,GAAKnK,SAAU,UAAWrG,SAAC,8BAO9F8L,IAAcA,GAAWnB,OAAS,IACjCnG,EAAAA,EAAAA,KAAC8K,EAAAA,EAAI,CAACE,KAAM,CAAEC,GAAI,GAAIK,GAAI,GAAI9P,UAC5BwE,EAAAA,EAAAA,KAACwL,EAAAA,EAAI,CAACZ,GAAI,CAAEa,WAAY,UAAWC,aAAc,EAAGM,GAAI,GAAIxQ,UAC1D+F,EAAAA,EAAAA,MAACqK,EAAAA,EAAW,CAAChB,GAAI,CAAEC,QAAS,GAAIrP,SAAA,EAC9BwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,YAAYyP,GAAI,CAAEO,MAAO,UAAWC,GAAI,GAAKvJ,SAAU,WAAYrG,SAAC,oBACxFwE,EAAAA,EAAAA,KAAChB,EAAO,CAAC4L,GAAI,CAAEvO,YAAa,UAAW+O,GAAI,OAC3CpL,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE7N,MAAO,OAAQO,OAAQ,KAAM9B,UACtCwE,EAAAA,EAAAA,KAAC0M,EAAAA,EAAmB,CAAC3P,MAAM,OAAOO,OAAO,OAAM9B,UAC7C+F,EAAAA,EAAAA,MAACoL,EAAAA,EAAS,CAACpC,KAAMjD,GAAYrL,OAAQ,CAAE4G,IAAK,EAAG+J,MAAO,EAAG9P,MAAO,GAAID,OAAQ,GAAIrB,SAAA,EAC9EwE,EAAAA,EAAAA,KAAC6M,EAAAA,EAAa,CAACC,gBAAgB,MAAMpL,OAAO,aAC5C1B,EAAAA,EAAAA,KAAC+M,EAAAA,EAAK,CAACC,QAAQ,QAAQtL,OAAO,UAAUuL,KAAM,CAAEpL,SAAU,GAAKqL,WAAY,KAC3ElN,EAAAA,EAAAA,KAACmN,EAAAA,EAAK,CAACzL,OAAO,UAAUuL,KAAM,CAAEpL,SAAU,MAC1C7B,EAAAA,EAAAA,KAACoN,EAAAA,EAAO,CACNC,aAAc,CACZC,gBAAiB,UACjB3P,OAAQ,oBACR+N,aAAc,EACdP,MAAO,UACPtJ,SAAU,QAEZ0L,WAAY,CAAEpC,MAAO,cAEvBnL,EAAAA,EAAAA,KAACwN,EAAAA,EAAM,KACPxN,EAAAA,EAAAA,KAACyN,EAAAA,GAAI,CAACC,KAAK,WAAWV,QAAQ,UAAUpS,KAAK,UAAU8G,OAAO,UAAUC,YAAa,EAAGgM,KAAK,KAC7F3N,EAAAA,EAAAA,KAACyN,EAAAA,GAAI,CAACC,KAAK,WAAWV,QAAQ,QAAQpS,KAAK,QAAQ8G,OAAO,UAAUC,YAAa,EAAGgM,KAAK,KACzF3N,EAAAA,EAAAA,KAACyN,EAAAA,GAAI,CAACC,KAAK,WAAWV,QAAQ,YAAYpS,KAAK,YAAY8G,OAAO,UAAUC,YAAa,EAAGgM,KAAK,mBAS/G3N,EAAAA,EAAAA,KAAC8K,EAAAA,EAAI,CAACE,KAAM,CAAEC,GAAI,GAAIK,GAAI,GAAI9P,UAC5BwE,EAAAA,EAAAA,KAACwL,EAAAA,EAAI,CAACZ,GAAI,CAAEa,WAAY,UAAWC,aAAc,GAAIlQ,UACnD+F,EAAAA,EAAAA,MAACqK,EAAAA,EAAW,CAAChB,GAAI,CAAEC,QAAS,GAAIrP,SAAA,EAC9BwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,YAAYyP,GAAI,CAAEO,MAAO,UAAWC,GAAI,GAAKvJ,SAAU,WAAYrG,SAAC,uBACxFwE,EAAAA,EAAAA,KAAChB,EAAO,CAAC4L,GAAI,CAAEvO,YAAa,UAAW+O,GAAI,OAE3CpL,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE7N,MAAO,OAAQO,OAAQ,IAAK8N,GAAI,GAAI5P,SACrB,IAAvBiJ,GAAY0B,QACXnG,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAEO,MAAO,UAAWxP,UAAW,SAAUiS,GAAI,GAAIpS,SAAC,oBAI3DwE,EAAAA,EAAAA,KAAC0M,EAAAA,EAAmB,CAAC3P,MAAM,OAAOO,OAAO,OAAM9B,UAC7C+F,EAAAA,EAAAA,MAACsM,EAAAA,EAAQ,CAACtD,KAAM9F,GAAaxI,OAAQ,CAAE4G,IAAK,GAAI+J,MAAO,GAAI9P,MAAO,GAAID,OAAQ,GAAIrB,SAAA,EAChFwE,EAAAA,EAAAA,KAAC6M,EAAAA,EAAa,CAACC,gBAAgB,MAAMpL,OAAO,aAC5C1B,EAAAA,EAAAA,KAAC+M,EAAAA,EAAK,CAACC,QAAQ,QAAQtL,OAAO,UAAUuL,KAAM,CAAEpL,SAAU,IAAMqL,WAAY,KAC5ElN,EAAAA,EAAAA,KAACmN,EAAAA,EAAK,CAACzL,OAAO,UAAUuL,KAAM,CAAEpL,SAAU,OAC1C7B,EAAAA,EAAAA,KAACoN,EAAAA,EAAO,CACNhB,OAAQ,CAAE3K,KAAM,sBAChB4L,aAAc,CACZC,gBAAiB,UACjB3P,OAAQ,oBACR+N,aAAc,EACdP,MAAO,WAEToC,WAAY,CAAEpC,MAAO,cAEvBnL,EAAAA,EAAAA,KAACwN,EAAAA,EAAM,KACPxN,EAAAA,EAAAA,KAAC8N,EAAAA,GAAG,CAACd,QAAQ,UAAUpS,KAAK,UAAU6G,KAAK,UAAUT,OAAQ,CAAC,EAAG,EAAG,EAAG,oBASrFhB,EAAAA,EAAAA,KAAC8K,EAAAA,EAAI,CAACE,KAAM,CAAEC,GAAI,GAAIK,GAAI,GAAI9P,UAC5BwE,EAAAA,EAAAA,KAACwL,EAAAA,EAAI,CAACZ,GAAI,CAAEa,WAAY,UAAWC,aAAc,GAAIlQ,UACnD+F,EAAAA,EAAAA,MAACqK,EAAAA,EAAW,CAAChB,GAAI,CAAEC,QAAS,GAAIrP,SAAA,EAC9BwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,YAAYyP,GAAI,CAAEO,MAAO,UAAWC,GAAI,GAAKvJ,SAAU,WAAYrG,SAAC,6BACxFwE,EAAAA,EAAAA,KAAChB,EAAO,CAAC4L,GAAI,CAAEvO,YAAa,UAAW+O,GAAI,OAE3CpL,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE7N,MAAO,OAAQO,OAAQ,IAAK8N,GAAI,GAAI5P,SAClB,IAA1B0J,GAAeiB,QACdnG,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAEO,MAAO,UAAWxP,UAAW,SAAUiS,GAAI,GAAIpS,SAAC,sBAI3DwE,EAAAA,EAAAA,KAAC0M,EAAAA,EAAmB,CAAC3P,MAAM,OAAOO,OAAO,OAAM9B,UAC7C+F,EAAAA,EAAAA,MAACwM,EAAAA,EAAQ,CAAAvS,SAAA,EACPwE,EAAAA,EAAAA,KAACgO,EAAAA,GAAG,CACFzD,KAAMrF,GACN8H,QAAQ,QACRiB,QAAQ,OACRxN,GAAG,MACHC,GAAG,MACHE,YAAa,GACba,KAAK,UAELyM,WAAW,EACX7M,MAAOb,EACP2N,aAAc,EACdC,SAAU,EAAE5S,SAEX0J,GAAeR,IAAI,CAAC2J,EAAOvN,KAC1Bd,EAAAA,EAAAA,KAACsO,EAAAA,EAAI,CAAuB7M,KAAMrB,EAAOU,EAAQV,EAAO+F,SAAQ,QAAAlI,OAA7C6C,QAGvBd,EAAAA,EAAAA,KAACoN,EAAAA,EAAO,CACNC,aAAc,CACZC,gBAAiB,UACjB3P,OAAQ,oBACR+N,aAAc,EACdP,MAAO,WAEToC,WAAY,CAAEpC,MAAO,cAEvBnL,EAAAA,EAAAA,KAACwN,EAAAA,EAAM,YAKfxN,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE2D,UAAW,QAAS/S,UAC7B+F,EAAAA,EAAAA,MAAA,SAAOlC,UAAU,uBAAsB7D,SAAA,EACrCwE,EAAAA,EAAAA,KAAA,SAAAxE,UACE+F,EAAAA,EAAAA,MAAA,MAAA/F,SAAA,EACEwE,EAAAA,EAAAA,KAAA,MAAAxE,SAAI,cACJwE,EAAAA,EAAAA,KAAA,MAAAxE,SAAI,gBAGR+F,EAAAA,EAAAA,MAAA,SAAA/F,SAAA,EACIsO,GAAgB3D,OAAS2D,GAAkB,IAAIpF,IAAI,CAACS,EAAG2C,KACvDvG,EAAAA,EAAAA,MAAA,MAAA/F,SAAA,EACEwE,EAAAA,EAAAA,KAAA,MAAAxE,SAAK2J,EAAEvK,QACPoF,EAAAA,EAAAA,KAAA,MAAAxE,SAAK2J,EAAEC,UAFA0C,IAKmB,IAA7BmB,GAAkB9C,SACjBnG,EAAAA,EAAAA,KAAA,MAAAxE,UAAIwE,EAAAA,EAAAA,KAAA,MAAIwO,QAAS,EAAG7R,MAAO,CAAEwO,MAAO,WAAY3P,SAAC,+BAKxDyN,GAAkB9C,OA3cJ,IA4cb5E,EAAAA,EAAAA,MAACoJ,EAAAA,EAAG,CAACtL,UAAU,UAAUuL,GAAI,CAAEoB,GAAI,IAAKtO,QAAS,OAAQqO,eAAgB,iBAAkBvQ,SAAA,EACzFwE,EAAAA,EAAAA,KAAA,UACEX,UAAU,MACVoP,SAAUzK,GAAkB,EAC5BqI,QAASA,IAAMpI,EAAkB6B,GAAKxF,KAAK+I,IAAI,EAAGvD,EAAI,IAAItK,SAC3D,UAGD+F,EAAAA,EAAAA,MAAA,QAAM5E,MAAO,CAAEwO,MAAO,UAAWtJ,SAAU,IAAKrG,SAAA,CAAC,QACzCwI,EAAe,OAAKoF,OAE5BpJ,EAAAA,EAAAA,KAAA,UACEX,UAAU,MACVoP,SAAUzK,GAAkBoF,GAC5BiD,QAASA,IAAMpI,EAAkB6B,GAAKxF,KAAKoO,IAAItF,GAAsBtD,EAAI,IAAItK,SAC9E,oBAQXwE,EAAAA,EAAAA,KAAC8K,EAAAA,EAAI,CAACE,KAAM,CAAEC,GAAI,GAAIK,GAAI,GAAI9P,UAC5BwE,EAAAA,EAAAA,KAACwL,EAAAA,EAAI,CAACZ,GAAI,CAAEa,WAAY,UAAWC,aAAc,GAAIlQ,UACnD+F,EAAAA,EAAAA,MAACqK,EAAAA,EAAW,CAAChB,GAAI,CAAEC,QAAS,GAAIrP,SAAA,EAC9BwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,YAAYyP,GAAI,CAAEO,MAAO,UAAWC,GAAI,GAAKvJ,SAAU,WAAYrG,SAAC,2BACxFwE,EAAAA,EAAAA,KAAChB,EAAO,CAAC4L,GAAI,CAAEvO,YAAa,UAAW+O,GAAI,OAC3CpL,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE2D,UAAW,OAAQI,UAAW,IAAKC,UAAW,QAASpT,UAChE+F,EAAAA,EAAAA,MAAA,SAAOlC,UAAU,uBAAsB7D,SAAA,EACrCwE,EAAAA,EAAAA,KAAA,SAAAxE,UACE+F,EAAAA,EAAAA,MAAA,MAAA/F,SAAA,EACEwE,EAAAA,EAAAA,KAAA,MAAAxE,SAAI,WACJwE,EAAAA,EAAAA,KAAA,MAAAxE,SAAI,oBAGR+F,EAAAA,EAAAA,MAAA,SAAA/F,SAAA,EACIyO,GAAS9D,OAAS8D,GAAW,IAAIvF,IAAI,CAACa,EAAGuC,KACzC,MAAM+G,EAAiB5M,EAAMG,OAAOG,WAAa,EAC3CuM,EAAQD,EAAiB,EAAIvO,KAAKoO,IAAI,GAAInJ,EAAEhD,WAAa,GAAKsM,GAAkB,EAChFhO,EAAUP,KAAKqH,MAAc,IAARmH,GAC3B,OACEvN,EAAAA,EAAAA,MAAA,MAAA/F,SAAA,EACEwE,EAAAA,EAAAA,KAAA,MAAAxE,UACE+F,EAAAA,EAAAA,MAACoJ,EAAAA,EAAG,CAACC,GAAI,CAAElN,QAAS,OAAQS,cAAe,SAAU0N,IAAK,IAAMrQ,SAAA,EAC9DwE,EAAAA,EAAAA,KAAA,QAAAxE,SAAO+J,EAAEC,SACTxF,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAEa,WAAY,UAAWC,aAAc,IAAKqD,SAAU,SAAUzR,OAAQ,GAAI9B,UACnFwE,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE7N,MAAM,GAADkB,OAAK4C,EAAO,KAAKvD,OAAQ,OAAQ6O,QAAS,qBAIhEnM,EAAAA,EAAAA,KAAA,MAAAxE,SAAK+J,EAAEhD,cATAuF,KAaU,IAAtBoB,GAAW/C,SACVnG,EAAAA,EAAAA,KAAA,MAAAxE,UAAIwE,EAAAA,EAAAA,KAAA,MAAIwO,QAAS,EAAG7R,MAAO,CAAEwO,MAAO,WAAY3P,SAAC,gCAKxD0N,GAAW/C,OAzgBG,IA0gBb5E,EAAAA,EAAAA,MAACoJ,EAAAA,EAAG,CAACtL,UAAU,UAAUuL,GAAI,CAAEoB,GAAI,IAAKtO,QAAS,OAAQqO,eAAgB,iBAAkBvQ,SAAA,EACzFwE,EAAAA,EAAAA,KAAA,UACEX,UAAU,MACVoP,SAAUvK,GAAW,EACrBmI,QAASA,IAAMlI,EAAW2B,GAAKxF,KAAK+I,IAAI,EAAGvD,EAAI,IAAItK,SACpD,UAGD+F,EAAAA,EAAAA,MAAA,QAAM5E,MAAO,CAAEwO,MAAO,UAAWtJ,SAAU,IAAKrG,SAAA,CAAC,QACzC0I,EAAQ,OAAKqF,OAErBvJ,EAAAA,EAAAA,KAAA,UACEX,UAAU,MACVoP,SAAUvK,GAAWqF,GACrB8C,QAASA,IAAMlI,EAAW2B,GAAKxF,KAAKoO,IAAInF,GAAezD,EAAI,IAAItK,SAChE,oBAQXwE,EAAAA,EAAAA,KAAC8K,EAAAA,EAAI,CAACE,KAAM,CAAEC,GAAI,GAAIK,GAAI,GAAI9P,UAC5BwE,EAAAA,EAAAA,KAACwL,EAAAA,EAAI,CAACZ,GAAI,CAAEa,WAAY,UAAWC,aAAc,GAAIlQ,UACnD+F,EAAAA,EAAAA,MAACqK,EAAAA,EAAW,CAAChB,GAAI,CAAEC,QAAS,GAAIrP,SAAA,EAC9BwE,EAAAA,EAAAA,KAACkL,EAAAA,EAAU,CAAC/P,QAAQ,YAAYyP,GAAI,CAAEO,MAAO,UAAWC,GAAI,GAAKvJ,SAAU,WAAYrG,SAAC,iCACxFwE,EAAAA,EAAAA,KAAChB,EAAO,CAAC4L,GAAI,CAAEvO,YAAa,UAAW+O,GAAI,OAC3CpL,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE2D,UAAW,OAAQI,UAAW,IAAKC,UAAW,QAASpT,UAChE+F,EAAAA,EAAAA,MAAA,SAAOlC,UAAU,uBAAsB7D,SAAA,EACrCwE,EAAAA,EAAAA,KAAA,SAAAxE,UACE+F,EAAAA,EAAAA,MAAA,MAAA/F,SAAA,EACEwE,EAAAA,EAAAA,KAAA,MAAAxE,SAAI,WACJwE,EAAAA,EAAAA,KAAA,MAAAxE,SAAI,oBAGR+F,EAAAA,EAAAA,MAAA,SAAA/F,SAAA,EACI4O,GAAmBjE,OAASiE,GAAqB,IAAI1F,IAAI,CAACoB,EAAGgC,KAC7D,MAAM+G,EAAiB5M,EAAMG,OAAOG,WAAa,EAC3CuM,EAAQD,EAAiB,EAAIvO,KAAKoO,IAAI,GAAI5I,EAAEvD,WAAa,GAAKsM,GAAkB,EAChFhO,EAAUP,KAAKqH,MAAc,IAARmH,GAC3B,OACEvN,EAAAA,EAAAA,MAAA,MAAA/F,SAAA,EACEwE,EAAAA,EAAAA,KAAA,MAAAxE,UACE+F,EAAAA,EAAAA,MAACoJ,EAAAA,EAAG,CAACC,GAAI,CAAElN,QAAS,OAAQS,cAAe,SAAU0N,IAAK,IAAMrQ,SAAA,EAC9DwE,EAAAA,EAAAA,KAAA,QAAAxE,SAAOsK,EAAEN,SACTxF,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAEa,WAAY,UAAWC,aAAc,IAAKqD,SAAU,SAAUzR,OAAQ,GAAI9B,UACnFwE,EAAAA,EAAAA,KAAC2K,EAAAA,EAAG,CAACC,GAAI,CAAE7N,MAAM,GAADkB,OAAK4C,EAAO,KAAKvD,OAAQ,OAAQ6O,QAAS,qBAIhEnM,EAAAA,EAAAA,KAAA,MAAAxE,SAAKsK,EAAEvD,cATAuF,KAaoB,IAAhCqB,GAAqBhD,SACpBnG,EAAAA,EAAAA,KAAA,MAAAxE,UAAIwE,EAAAA,EAAAA,KAAA,MAAIwO,QAAS,EAAG7R,MAAO,CAAEwO,MAAO,WAAY3P,SAAC,sCAKxD2N,GAAqBhD,OAvkBP,IAwkBb5E,EAAAA,EAAAA,MAACoJ,EAAAA,EAAG,CAACtL,UAAU,UAAUuL,GAAI,CAAEoB,GAAI,IAAKtO,QAAS,OAAQqO,eAAgB,iBAAkBvQ,SAAA,EACzFwE,EAAAA,EAAAA,KAAA,UACEX,UAAU,MACVoP,SAAUrK,GAAqB,EAC/BiI,QAASA,IAAMhI,EAAqByB,GAAKxF,KAAK+I,IAAI,EAAGvD,EAAI,IAAItK,SAC9D,UAGD+F,EAAAA,EAAAA,MAAA,QAAM5E,MAAO,CAAEwO,MAAO,UAAWtJ,SAAU,IAAKrG,SAAA,CAAC,QACzC4I,EAAkB,OAAKoF,OAE/BxJ,EAAAA,EAAAA,KAAA,UACEX,UAAU,MACVoP,SAAUrK,GAAqBoF,GAC/B6C,QAASA,IAAMhI,EAAqByB,GAAKxF,KAAKoO,IAAIlF,GAAyB1D,EAAI,IAAItK,SACpF,sBAUZ0H,IACClD,EAAAA,EAAAA,KAAA,OAAKX,UAAU,gBAAgBgN,QAASA,IAAMlJ,GAAkB,GAAO3H,UACrE+F,EAAAA,EAAAA,MAAA,OACElC,UAAU,gBACVgN,QAAU2C,GAAMA,EAAEC,kBAAkBzT,SAAA,EAEpC+F,EAAAA,EAAAA,MAAA,OAAKlC,UAAU,eAAc7D,SAAA,EAC3BwE,EAAAA,EAAAA,KAAA,MAAIrD,MAAO,CAAEV,OAAQ,EAAGkP,MAAO,WAAY3P,SAAC,uBAC5CwE,EAAAA,EAAAA,KAAA,UAAQqM,QAASA,IAAMlJ,GAAkB,GAAQ9D,UAAU,WAAU7D,UACnEwE,EAAAA,EAAAA,KAACkP,EAAAA,IAAG,CAAClE,KAAM,WAGfhL,EAAAA,EAAAA,KAAA,OAAKX,UAAU,aAAY7D,SACxB8H,GACCtD,EAAAA,EAAAA,KAAA,OAAKrD,MAAO,CAAEhB,UAAW,SAAUkP,QAAS,GAAIM,MAAO,WAAY3P,SAAC,gBAIpE+F,EAAAA,EAAAA,MAAA,OAAA/F,SAAA,EACE+F,EAAAA,EAAAA,MAAA,SAAOlC,UAAU,QAAO7D,SAAA,EACtBwE,EAAAA,EAAAA,KAAA,SAAAxE,UACE+F,EAAAA,EAAAA,MAAA,MAAA/F,SAAA,EACEwE,EAAAA,EAAAA,KAAA,MAAAxE,SAAI,gBACJwE,EAAAA,EAAAA,KAAA,MAAAxE,SAAI,iBACJwE,EAAAA,EAAAA,KAAA,MAAAxE,SAAI,kBACJwE,EAAAA,EAAAA,KAAA,MAAAxE,SAAI,kBAGRwE,EAAAA,EAAAA,KAAA,SAAAxE,SACG6O,GAAiB3F,IAAI,CAACyK,EAAMC,KAC3B7N,EAAAA,EAAAA,MAACtC,EAAAA,SAAc,CAAAzD,SAAA,EACb+F,EAAAA,EAAAA,MAAA,MAAA/F,SAAA,EACEwE,EAAAA,EAAAA,KAAA,MAAAxE,UAAIwE,EAAAA,EAAAA,KAAA,UAAAxE,SAAS2T,EAAKE,gBAClBrP,EAAAA,EAAAA,KAAA,MAAAxE,SAAK2T,EAAKG,eACVtP,EAAAA,EAAAA,KAAA,MAAAxE,SAAK2T,EAAKI,gBACVvP,EAAAA,EAAAA,KAAA,MAAAxE,UACEwE,EAAAA,EAAAA,KAAA,UACEX,UAAU,MACVgN,QAASA,KACP1I,EAAoB6E,GACHA,EAAK2G,EAAKK,UAGvB7P,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAY6I,GAAI,IAAE,CAAC2G,EAAKK,UAAU,KAGpC7P,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAY6I,GAAI,IAAE,CAAC2G,EAAKK,UAAU,KAEpC/L,EAAgBqC,IAACnG,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAWmG,GAAC,IAAE,CAACqJ,EAAKK,SAAU1J,EAAEqJ,EAAKK,UAAY,MAEpE7S,MAAO,CACL2Q,gBAAiB5J,EAAgByL,EAAKK,SAAW,eAAYhQ,EAC7D2L,MAAOzH,EAAgByL,EAAKK,SAAW,YAAShQ,GAChDhE,SAEDkI,EAAgByL,EAAKK,SAAW,QAAU,oBAIhD9L,EAAgByL,EAAKK,WACpBxP,EAAAA,EAAAA,KAAA,MAAIrD,MAAO,CAAE2Q,gBAAiB,WAAY9R,UACxCwE,EAAAA,EAAAA,KAAA,MAAIwO,QAAS,EAAEhT,UACb+F,EAAAA,EAAAA,MAAA,OAAKlC,UAAU,iBAAgB7D,SAAA,EAC7BwE,EAAAA,EAAAA,KAAA,OAAKX,UAAU,uBAAsB7D,SAAC,qBACrC,CAACiU,IACA,MACMC,EAAOlM,EAAY2L,EAAKK,UAAY,EACpCG,EAAarP,KAAK+I,IAAI,EAAG/I,KAAKgJ,OAAgB,QAAVmG,EAAAN,EAAK7M,aAAK,IAAAmN,OAAA,EAAVA,EAAYtJ,SAAU,GAF/C,IAGXyJ,EAHW,GAGFF,EAAO,GAChBG,EAAMD,EAJK,EAKXrH,GAAW4G,EAAK7M,OAAS,IAAIsH,MAAMgG,EAAOC,GAahD,OACEtO,EAAAA,EAAAA,MAAAuO,EAAAA,SAAA,CAAAtU,SAAA,EACE+F,EAAAA,EAAAA,MAAA,OAAKlC,UAAU,cAAa7D,SAAA,CACzB+M,EAAQ7D,IAAI,CAACqL,EAAMC,KAClB,MAAMC,EAdQC,KACpB,IAAKA,EAAO,OAAO,KACnB,IAEE,OADYC,KAAKC,MAAMC,aAAaC,QAAQ,mBAAqB,MACtDJ,IAAU,IACvB,CAAE,MAAOlB,GACP,OAAO,IACT,GAOwBuB,CAAaR,EAAKG,OAC9BM,EAAcT,EAAKvN,OAASuN,EAAKvN,MAAM2D,OAAS,EAClD,IAAIsK,KAAKV,EAAKvN,MAAM,IAAIkO,iBACxB,gBACJ,OACEnP,EAAAA,EAAAA,MAAA,OAAKlC,UAAU,cAAa7D,SAAA,CACzByU,GACCjQ,EAAAA,EAAAA,KAAA,OACE2Q,IAAKV,EACLW,IAAKb,EAAKG,OAAS,SACnBvT,MAAO,CACLI,MAAO,GACPO,OAAQ,GACRoO,aAAc,IACdmF,UAAW,QACXC,KAAM,YAERzR,UAAU,uBAGZW,EAAAA,EAAAA,KAAA,OAAKX,UAAU,gBAAe7D,UAC1BuU,EAAKG,OAAS,KAAKa,OAAO,GAAGC,iBAGnCzP,EAAAA,EAAAA,MAAA,OAAKlC,UAAU,cAAa7D,SAAA,EAC1BwE,EAAAA,EAAAA,KAAA,OAAKX,UAAU,eAAc7D,SAAEuU,EAAKG,SACpC3O,EAAAA,EAAAA,MAAA,WAASlC,UAAU,uBAAsB7D,SAAA,EACvC+F,EAAAA,EAAAA,MAAA,WAAA/F,SAAA,CAAS,WACEgV,KAEV,MACC,MACMnI,EAAG,GAAApK,OAAMkR,EAAKK,QAAO,KAAAvR,OAAI8R,EAAKG,OAAS,WACvCR,EAAO9L,EAAgByE,IAAQ,EAC/B4I,GAAclB,EAAKvN,OAAS,IAAI2D,OAChCwJ,EAAarP,KAAK+I,IAAI,EAAG/I,KAAKgJ,KAAK2H,EAJxB,IAKXrB,EALW,GAKFF,EAAO,GAChBG,EAAMD,EANK,EAOXsB,GAAgBnB,EAAKvN,OAAS,IAAIoH,MAAMgG,EAAOC,GAErD,OACEtO,EAAAA,EAAAA,MAAAuO,EAAAA,SAAA,CAAAtU,SAAA,EACEwE,EAAAA,EAAAA,KAAA,MAAIX,UAAU,mBAAkB7D,SAC7B0V,EAAaxM,IAAI,CAACyM,EAAIrJ,KACrB9H,EAAAA,EAAAA,KAAA,MAAAxE,SACG,IAAIiV,KAAKU,GAAIT,kBADP5I,MAKZmJ,EAlBY,IAmBX1P,EAAAA,EAAAA,MAAA,OACE5E,MAAO,CACLS,UAAW,EACXM,QAAS,OACToO,WAAY,SACZC,eAAgB,gBAChBF,IAAK,EACLhK,SAAU,GACVsJ,MAAO,WACP3P,SAAA,EAEFwE,EAAAA,EAAAA,KAAA,UACEX,UAAU,MACV1C,MAAO,CAAEkO,QAAS,UAAWhJ,SAAU,IACvC4M,SAAUiB,GAAQ,EAClBrD,QAAU2C,IACRA,EAAEoC,iBACFpC,EAAEC,kBACFpL,EAAoBiC,IAACnG,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAChBmG,GAAC,IACJ,CAACuC,GAAM/H,KAAK+I,IAAI,EAAGqG,EAAO,OAE5BlU,SACH,UAGD+F,EAAAA,EAAAA,MAAA,QAAA/F,SAAA,CAAM,QACEkU,EAAK,OAAKC,MAElB3P,EAAAA,EAAAA,KAAA,UACEX,UAAU,MACV1C,MAAO,CAAEkO,QAAS,UAAWhJ,SAAU,IACvC4M,SAAUiB,GAAQC,EAClBtD,QAAU2C,IACRA,EAAEoC,iBACFpC,EAAEC,kBACFpL,EAAoBiC,IAACnG,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAChBmG,GAAC,IACJ,CAACuC,GAAM/H,KAAKoO,IAAIiB,EAAYD,EAAO,OAErClU,SACH,cAOV,EApEA,WAzB2BwU,KAmGlB,IAAnBzH,EAAQpC,SACPnG,EAAAA,EAAAA,KAAA,OAAKrD,MAAO,CAAEwO,MAAO,WAAY3P,SAAC,gCAKrC2T,EAAK7M,OAAS6M,EAAK7M,MAAM6D,OApIb,IAqIX5E,EAAAA,EAAAA,MAAA,OACElC,UAAU,UACV1C,MAAO,CAAES,UAAW,GAAI2O,eAAgB,iBAAkBvQ,SAAA,EAE1DwE,EAAAA,EAAAA,KAAA,UACEX,UAAU,MACVoP,SAAUiB,GAAQ,EAClBrD,QAASA,IACP5I,EAAgBqC,IAACnG,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACZmG,GAAC,IACJ,CAACqJ,EAAKK,SAAUlP,KAAK+I,IAAI,GAAIvD,EAAEqJ,EAAKK,UAAY,GAAK,MAExDhU,SACF,UAGD+F,EAAAA,EAAAA,MAAA,QAAM5E,MAAO,CAAEwO,MAAO,WAAY3P,SAAA,CAAC,QAC3BkU,EAAK,OAAKC,EAAW,KAAGR,EAAK7M,MAAM6D,OAAO,gBAElDnG,EAAAA,EAAAA,KAAA,UACEX,UAAU,MACVoP,SAAUiB,GAAQC,EAClBtD,QAASA,IACP5I,EAAgBqC,IAACnG,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACZmG,GAAC,IACJ,CAACqJ,EAAKK,SAAUlP,KAAKoO,IAAIiB,GAAa7J,EAAEqJ,EAAKK,UAAY,GAAK,MAEjEhU,SACF,cAOV,EAzKA,YAlCU2T,EAAKK,eAoN/BpM,EAAY+C,OAAS3B,IACpBjD,EAAAA,EAAAA,MAAA,OAAKlC,UAAU,UAAU1C,MAAO,CAAES,UAAW,GAAIM,QAAS,OAAQqO,eAAgB,iBAAkBvQ,SAAA,EAClGwE,EAAAA,EAAAA,KAAA,UACEX,UAAU,MACVoP,SAAUnK,GAAY,EACtB+H,QAASA,IAAM9H,EAAYuB,GAAKxF,KAAK+I,IAAI,EAAGvD,EAAI,IAAItK,SACrD,UAGD+F,EAAAA,EAAAA,MAAA,QAAM5E,MAAO,CAAEwO,MAAO,WAAY3P,SAAA,CAAC,QAC3B8I,EAAS,OAAKhE,KAAKgJ,KAAKlG,EAAY+C,OAAS3B,OAErDxE,EAAAA,EAAAA,KAAA,UACEX,UAAU,MACVoP,SAAUnK,GAAYhE,KAAKgJ,KAAKlG,EAAY+C,OAAS3B,GACrD6H,QAASA,IAAM9H,EAAYuB,GAAKxF,KAAKoO,IAAIpO,KAAKgJ,KAAKlG,EAAY+C,OAAS3B,GAAiBsB,EAAI,IAAItK,SAClG,yB","sources":["../node_modules/@mui/material/esm/Divider/dividerClasses.js","../node_modules/@mui/material/esm/Divider/Divider.js","SomaLux/Books/Admin/pages/Dashboard.jsx"],"sourcesContent":["import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getDividerUtilityClass(slot) {\n  return generateUtilityClass('MuiDivider', slot);\n}\nconst dividerClasses = generateUtilityClasses('MuiDivider', ['root', 'absolute', 'fullWidth', 'inset', 'middle', 'flexItem', 'light', 'vertical', 'withChildren', 'withChildrenVertical', 'textAlignRight', 'textAlignLeft', 'wrapper', 'wrapperVertical']);\nexport default dividerClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { styled } from \"../zero-styled/index.js\";\nimport memoTheme from \"../utils/memoTheme.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport { getDividerUtilityClass } from \"./dividerClasses.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    absolute,\n    children,\n    classes,\n    flexItem,\n    light,\n    orientation,\n    textAlign,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', absolute && 'absolute', variant, light && 'light', orientation === 'vertical' && 'vertical', flexItem && 'flexItem', children && 'withChildren', children && orientation === 'vertical' && 'withChildrenVertical', textAlign === 'right' && orientation !== 'vertical' && 'textAlignRight', textAlign === 'left' && orientation !== 'vertical' && 'textAlignLeft'],\n    wrapper: ['wrapper', orientation === 'vertical' && 'wrapperVertical']\n  };\n  return composeClasses(slots, getDividerUtilityClass, classes);\n};\nconst DividerRoot = styled('div', {\n  name: 'MuiDivider',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.absolute && styles.absolute, styles[ownerState.variant], ownerState.light && styles.light, ownerState.orientation === 'vertical' && styles.vertical, ownerState.flexItem && styles.flexItem, ownerState.children && styles.withChildren, ownerState.children && ownerState.orientation === 'vertical' && styles.withChildrenVertical, ownerState.textAlign === 'right' && ownerState.orientation !== 'vertical' && styles.textAlignRight, ownerState.textAlign === 'left' && ownerState.orientation !== 'vertical' && styles.textAlignLeft];\n  }\n})(memoTheme(({\n  theme\n}) => ({\n  margin: 0,\n  // Reset browser default style.\n  flexShrink: 0,\n  borderWidth: 0,\n  borderStyle: 'solid',\n  borderColor: (theme.vars || theme).palette.divider,\n  borderBottomWidth: 'thin',\n  variants: [{\n    props: {\n      absolute: true\n    },\n    style: {\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n      width: '100%'\n    }\n  }, {\n    props: {\n      light: true\n    },\n    style: {\n      borderColor: theme.alpha((theme.vars || theme).palette.divider, 0.08)\n    }\n  }, {\n    props: {\n      variant: 'inset'\n    },\n    style: {\n      marginLeft: 72\n    }\n  }, {\n    props: {\n      variant: 'middle',\n      orientation: 'horizontal'\n    },\n    style: {\n      marginLeft: theme.spacing(2),\n      marginRight: theme.spacing(2)\n    }\n  }, {\n    props: {\n      variant: 'middle',\n      orientation: 'vertical'\n    },\n    style: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1)\n    }\n  }, {\n    props: {\n      orientation: 'vertical'\n    },\n    style: {\n      height: '100%',\n      borderBottomWidth: 0,\n      borderRightWidth: 'thin'\n    }\n  }, {\n    props: {\n      flexItem: true\n    },\n    style: {\n      alignSelf: 'stretch',\n      height: 'auto'\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => !!ownerState.children,\n    style: {\n      display: 'flex',\n      textAlign: 'center',\n      border: 0,\n      borderTopStyle: 'solid',\n      borderLeftStyle: 'solid',\n      '&::before, &::after': {\n        content: '\"\"',\n        alignSelf: 'center'\n      }\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => ownerState.children && ownerState.orientation !== 'vertical',\n    style: {\n      '&::before, &::after': {\n        width: '100%',\n        borderTop: `thin solid ${(theme.vars || theme).palette.divider}`,\n        borderTopStyle: 'inherit'\n      }\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => ownerState.orientation === 'vertical' && ownerState.children,\n    style: {\n      flexDirection: 'column',\n      '&::before, &::after': {\n        height: '100%',\n        borderLeft: `thin solid ${(theme.vars || theme).palette.divider}`,\n        borderLeftStyle: 'inherit'\n      }\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => ownerState.textAlign === 'right' && ownerState.orientation !== 'vertical',\n    style: {\n      '&::before': {\n        width: '90%'\n      },\n      '&::after': {\n        width: '10%'\n      }\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => ownerState.textAlign === 'left' && ownerState.orientation !== 'vertical',\n    style: {\n      '&::before': {\n        width: '10%'\n      },\n      '&::after': {\n        width: '90%'\n      }\n    }\n  }]\n})));\nconst DividerWrapper = styled('span', {\n  name: 'MuiDivider',\n  slot: 'Wrapper',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.wrapper, ownerState.orientation === 'vertical' && styles.wrapperVertical];\n  }\n})(memoTheme(({\n  theme\n}) => ({\n  display: 'inline-block',\n  paddingLeft: `calc(${theme.spacing(1)} * 1.2)`,\n  paddingRight: `calc(${theme.spacing(1)} * 1.2)`,\n  whiteSpace: 'nowrap',\n  variants: [{\n    props: {\n      orientation: 'vertical'\n    },\n    style: {\n      paddingTop: `calc(${theme.spacing(1)} * 1.2)`,\n      paddingBottom: `calc(${theme.spacing(1)} * 1.2)`\n    }\n  }]\n})));\nconst Divider = /*#__PURE__*/React.forwardRef(function Divider(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiDivider'\n  });\n  const {\n    absolute = false,\n    children,\n    className,\n    orientation = 'horizontal',\n    component = children || orientation === 'vertical' ? 'div' : 'hr',\n    flexItem = false,\n    light = false,\n    role = component !== 'hr' ? 'separator' : undefined,\n    textAlign = 'center',\n    variant = 'fullWidth',\n    ...other\n  } = props;\n  const ownerState = {\n    ...props,\n    absolute,\n    component,\n    flexItem,\n    light,\n    orientation,\n    role,\n    textAlign,\n    variant\n  };\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DividerRoot, {\n    as: component,\n    className: clsx(classes.root, className),\n    role: role,\n    ref: ref,\n    ownerState: ownerState,\n    \"aria-orientation\": role === 'separator' && (component !== 'hr' || orientation === 'vertical') ? orientation : undefined,\n    ...other,\n    children: children ? /*#__PURE__*/_jsx(DividerWrapper, {\n      className: classes.wrapper,\n      ownerState: ownerState,\n      children: children\n    }) : null\n  });\n});\n\n/**\n * The following flag is used to ensure that this component isn't tabbable i.e.\n * does not get highlight/focus inside of MUI List.\n */\nif (Divider) {\n  Divider.muiSkipListHighlight = true;\n}\nprocess.env.NODE_ENV !== \"production\" ? Divider.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Absolutely position the element.\n   * @default false\n   */\n  absolute: PropTypes.bool,\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, a vertical divider will have the correct height when used in flex container.\n   * (By default, a vertical divider will have a calculated height of `0px` if it is the child of a flex container.)\n   * @default false\n   */\n  flexItem: PropTypes.bool,\n  /**\n   * If `true`, the divider will have a lighter color.\n   * @default false\n   * @deprecated Use <Divider sx={{ opacity: 0.6 }} /> (or any opacity or color) instead. See [Migrating from deprecated APIs](https://mui.com/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  light: PropTypes.bool,\n  /**\n   * The component orientation.\n   * @default 'horizontal'\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  /**\n   * @ignore\n   */\n  role: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The text alignment.\n   * @default 'center'\n   */\n  textAlign: PropTypes.oneOf(['center', 'left', 'right']),\n  /**\n   * The variant to use.\n   * @default 'fullWidth'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['fullWidth', 'inset', 'middle']), PropTypes.string])\n} : void 0;\nexport default Divider;","import React, { useEffect, useState } from 'react';\nimport { fetchStats, fetchViewDetails } from '../api';\nimport { FiX, FiEye } from 'react-icons/fi';\nimport { Box, Grid, Card, CardContent, Typography, Divider } from '@mui/material';\nimport {\n  LineChart,\n  Line,\n  BarChart,\n  Bar,\n  PieChart,\n  Pie,\n  Cell,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from 'recharts';\n\nconst COLORS = ['#00a884', '#34B7F1', '#FFCC00', '#f15e6c', '#8b5cf6', '#22d3ee'];\n\n// add: helper for nicer outside labels on pie (avoids cramped, overlapping labels for tiny slices)\nconst RADIAN = Math.PI / 180;\nconst renderCustomizedLabel = (props) => {\n  const {\n    cx, cy, midAngle, outerRadius, percent, index, payload,\n  } = props;\n  const radius = outerRadius + 14; // place label slightly outside\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\n  const name = payload?.name || payload?.label || `Slice ${index + 1}`;\n  const textAnchor = x > cx ? 'start' : 'end';\n  return (\n    <g>\n      {/* small leader line from slice edge to label */}\n      <polyline\n        points={`${cx + (outerRadius - 6) * Math.cos(-midAngle * RADIAN)},${cy + (outerRadius - 6) * Math.sin(-midAngle * RADIAN)} ${cx + (outerRadius + 6) * Math.cos(-midAngle * RADIAN)},${cy + (outerRadius + 6) * Math.sin(-midAngle * RADIAN)} ${x},${y}`}\n        fill=\"none\"\n        stroke=\"#8899a0\"\n        strokeWidth={1}\n      />\n      <text x={x} y={y} fill=\"#cfd8dc\" textAnchor={textAnchor} dominantBaseline=\"central\" fontSize={12}>\n        {`${name}: ${(percent * 100).toFixed(0)}%`}\n      </text>\n    </g>\n  );\n};\n\nconst Dashboard = () => {\n  const [stats, setStats] = useState({\n    counts: { books: 0, users: 0, downloads: 0, views: 0, universities: 0, pastPapers: 0 },\n    monthly: [],\n    categories: [],\n    top: [],\n    topPastPapers: [],\n    recent: [],\n  });\n  const [loading, setLoading] = useState(true);\n  const [showViewsModal, setShowViewsModal] = useState(false);\n  const [viewDetails, setViewDetails] = useState([]);\n  const [loadingViews, setLoadingViews] = useState(false);\n  const [viewerPages, setViewerPages] = useState({});\n  const [expandedViewers, setExpandedViewers] = useState({});\n  // Per-user pagination for view timestamps inside the dropdown\n  const [viewerTimePages, setViewerTimePages] = useState({});\n  const [monthlyPage, setMonthlyPage] = useState(1);\n  const [categoriesPage, setCategoriesPage] = useState(1);\n  const [topPage, setTopPage] = useState(1);\n  const [topPastPapersPage, setTopPastPapersPage] = useState(1);\n\n  // added: pagination for viewDetails table\n  const [viewPage, setViewPage] = useState(1);\n  const VIEW_PAGE_SIZE = 15;\n\n  const OVERVIEW_PAGE_SIZE = 7;\n\n  // Normalized datasets for charts\n  const safeMonthly = (stats.monthly || []).map(d => ({\n    month: d.month || 'Unknown',\n    Uploads: Number(d.uploads || d.uploads || 0),\n  })).filter(d => !isNaN(d.Uploads));\n  const safeCategories = (stats.categories || []).map(c => ({\n    name: c.name || 'Unknown',\n    count: Number(c.count || c.Count || 0),\n  })).filter(c => !isNaN(c.count));\n  const safeTop = (stats.top || []).map(b => ({\n    title: b.title || 'Untitled',\n    downloads: Number(b.downloads_count || b.downloads || b.Downloads || 0),\n    views: Number(b.views_count || b.views || b.Views || 0),\n  })).filter(b => !isNaN(b.downloads));\n  const safeTopPastPapers = (stats.topPastPapers || []).map(p => ({\n    title: p.title || 'Untitled',\n    downloads: Number(p.downloads_count || p.downloads || 0),\n    views: Number(p.views_count || p.views || 0),\n  })).filter(p => !isNaN(p.downloads));\n\n  // Time-series data for line chart (uploads/views/downloads if available)\n  const _extractNumber = (obj, ...keys) => {\n    for (const k of keys) {\n      if (obj && Object.prototype.hasOwnProperty.call(obj, k)) {\n        const v = Number(obj[k]);\n        if (!Number.isNaN(v)) return v;\n      }\n    }\n    return 0;\n  };\n\n  // robust download extractor (supports many common variants)\n  const extractDownloads = (m) =>\n    _extractNumber(\n      m,\n      'downloads',\n      'Downloads',\n      'download_count',\n      'downloadCount',\n      'total_downloads',\n      'totalDownloads',\n      'dls',\n    );\n\n  const extractUploads = (m) =>\n    _extractNumber(m, 'uploads', 'Uploads', 'upload_count', 'uploadCount', 'total_uploads', 'totalUploads');\n\n  const extractViews = (m) =>\n    _extractNumber(m, 'views', 'Views', 'view_count', 'viewCount', 'total_views', 'totalViews');\n\n  const months = (stats.monthly || []).map(m => ({\n    raw: m,\n    month: m.month || m.label || 'Unknown',\n    uploads: extractUploads(m),\n    views: extractViews(m),\n    downloads: extractDownloads(m),\n  }));\n\n  // If monthly download values are all zero but we have a total downloads counter,\n  // distribute total downloads across months proportionally to uploads (or evenly).\n  const totalDownloadsAvailable = (months.some(m => m.downloads > 0));\n  const overallDownloads = Number(stats.counts?.downloads || 0);\n\n  let timeSeries = months.map(m => ({ month: m.month, uploads: m.uploads, views: m.views, downloads: m.downloads }));\n\n  if (!totalDownloadsAvailable && overallDownloads > 0 && timeSeries.length > 0) {\n    const totalUploads = timeSeries.reduce((s, r) => s + (r.uploads || 0), 0);\n    if (totalUploads > 0) {\n      // distribute proportionally by uploads\n      timeSeries = timeSeries.map(r => ({\n        ...r,\n        downloads: Math.round(((r.uploads || 0) / totalUploads) * overallDownloads),\n      }));\n      // adjust rounding errors to match overallDownloads exactly\n      const assigned = timeSeries.reduce((s, r) => s + (r.downloads || 0), 0);\n      let diff = overallDownloads - assigned;\n      for (let i = 0; diff !== 0 && i < timeSeries.length; i += 1) {\n        timeSeries[i].downloads = (timeSeries[i].downloads || 0) + (diff > 0 ? 1 : -1);\n        diff += (diff > 0 ? -1 : 1);\n      }\n    } else {\n      // distribute evenly\n      const base = Math.floor(overallDownloads / timeSeries.length);\n      let remainder = overallDownloads - base * timeSeries.length;\n      timeSeries = timeSeries.map((r) => {\n        const add = remainder > 0 ? 1 : 0;\n        remainder -= add;\n        return { ...r, downloads: base + add };\n      });\n    }\n  }\n\n  // Ensure numeric values and remove NaN entries\n  timeSeries = timeSeries.map(d => ({\n    month: d.month || 'Unknown',\n    uploads: Number(d.uploads || 0),\n    views: Number(d.views || 0),\n    downloads: Number(d.downloads || 0),\n  })).filter(d => !Number.isNaN((d.uploads || 0) + (d.views || 0) + (d.downloads || 0)));\n\n  const calcTrend = (series, key) => {\n    if (!series || series.length < 2) return null;\n    const values = series.map(d => Number(d[key] || 0));\n    const current = values[values.length - 1];\n    const prev = values[values.length - 2];\n    if (!prev) return null;\n    return ((current - prev) / prev) * 100;\n  };\n\n  const formatTrend = (value) => {\n    if (value === null || Number.isNaN(value)) return '\u0010\u0010\u0010\u0010\u0010-';\n    const rounded = value.toFixed(1);\n    const sign = value > 0 ? '+' : '';\n    return `${sign}${rounded}%`;\n  };\n\n  const uploadsTrend = calcTrend(timeSeries, 'uploads');\n  const viewsTrend = calcTrend(timeSeries, 'views');\n  const downloadsTrend = calcTrend(timeSeries, 'downloads');\n\n  // Only show non-zero rows in tables and sort highest first\n  const nonZeroMonthly = safeMonthly\n    .filter(m => m.Uploads > 0)\n    .sort((a, b) => b.Uploads - a.Uploads);\n  const nonZeroCategories = safeCategories\n    .filter(c => c.count > 0)\n    .sort((a, b) => b.count - a.count);\n  const nonZeroTop = safeTop\n    .filter(b => b.downloads > 0)\n    .sort((a, b) => b.downloads - a.downloads);\n  const nonZeroTopPastPapers = safeTopPastPapers\n    .filter(p => p.downloads > 0)\n    .sort((a, b) => b.downloads - a.downloads);\n\n  const monthlyTotalPages = Math.max(1, Math.ceil((nonZeroMonthly.length || 0) / OVERVIEW_PAGE_SIZE));\n  const categoriesTotalPages = Math.max(1, Math.ceil((nonZeroCategories.length || 0) / OVERVIEW_PAGE_SIZE));\n  const topTotalPages = Math.max(1, Math.ceil((nonZeroTop.length || 0) / OVERVIEW_PAGE_SIZE));\n  const topPastPapersTotalPages = Math.max(1, Math.ceil((nonZeroTopPastPapers.length || 0) / OVERVIEW_PAGE_SIZE));\n\n  const monthlyStart = (monthlyPage - 1) * OVERVIEW_PAGE_SIZE;\n  const monthlyEnd = monthlyStart + OVERVIEW_PAGE_SIZE;\n  const pagedMonthly = nonZeroMonthly.slice(monthlyStart, monthlyEnd);\n\n  const categoriesStart = (categoriesPage - 1) * OVERVIEW_PAGE_SIZE;\n  const categoriesEnd = categoriesStart + OVERVIEW_PAGE_SIZE;\n  const pagedCategories = nonZeroCategories.slice(categoriesStart, categoriesEnd);\n\n  const topStart = (topPage - 1) * OVERVIEW_PAGE_SIZE;\n  const topEnd = topStart + OVERVIEW_PAGE_SIZE;\n  const pagedTop = nonZeroTop.slice(topStart, topEnd);\n\n  const topPastPapersStart = (topPastPapersPage - 1) * OVERVIEW_PAGE_SIZE;\n  const topPastPapersEnd = topPastPapersStart + OVERVIEW_PAGE_SIZE;\n  const pagedTopPastPapers = nonZeroTopPastPapers.slice(topPastPapersStart, topPastPapersEnd);\n\n  // added: compute pagedViewDetails for viewDetails pagination\n  const pagedViewDetails = viewDetails.slice((viewPage - 1) * VIEW_PAGE_SIZE, viewPage * VIEW_PAGE_SIZE);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const data = await fetchStats();\n        setStats(data);\n      } catch (error) {\n        console.error('Error fetching stats:', error);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  if (loading) {\n    return <div className=\"admin-loading\">Loading...</div>;\n  }\n\n  return (\n    <Box sx={{ padding: 0.5 }}>\n      <Grid container spacing={0.5}>\n        <Grid size={{ xs: 12 }}>\n          <Typography variant=\"h5\" sx={{ color: '#e9edef', mb: 0.25, fontSize: '1.1rem' }}>\n            Overview\n          </Typography>\n          <Typography variant=\"body2\" sx={{ color: '#8696a0', fontSize: '0.75rem' }}>\n            High-level summary of books, users, universities and reading activity.\n          </Typography>\n        </Grid>\n\n        <Grid size={{ xs: 12 }}>\n          <Grid container spacing={0.5}>\n            <Grid size={{ xs: 12, sm: 6, md: 4, lg: 1.7 }}>\n              <Card sx={{ background: '#111b21', borderRadius: 1, boxShadow: '0 1px 2px rgba(0,0,0,0.3)' }}>\n                <CardContent sx={{ display: 'flex', flexDirection: 'column', gap: 0.2, padding: 0.75 }}>\n                  <Typography variant=\"caption\" sx={{ color: '#8696a0', fontSize: '0.65rem' }}>Total Books</Typography>\n                  <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mt: 0.1 }}>\n                    <Typography variant=\"h5\" sx={{ color: '#e9edef', fontSize: '1.1rem' }}>{stats.counts.books}</Typography>\n                    <Box sx={{ fontSize: 10, px: 0.5, py: 0.15, borderRadius: 999, bgcolor: 'rgba(0,168,132,0.1)', color: '#00a884' }}>\n                      {formatTrend(uploadsTrend)}\n                    </Box>\n                  </Box>\n                  <Typography variant=\"caption\" sx={{ color: '#8696a0', mt: 0.1, fontSize: '0.6rem' }}>\n                    Overall books in library\n                  </Typography>\n                </CardContent>\n              </Card>\n            </Grid>\n            <Grid size={{ xs: 12, sm: 6, md: 4, lg: 1.7 }}>\n              <Card sx={{ background: '#111b21', borderRadius: 1, boxShadow: '0 1px 2px rgba(0,0,0,0.3)' }}>\n                <CardContent sx={{ display: 'flex', flexDirection: 'column', gap: 0.2, padding: 0.75 }}>\n                  <Typography variant=\"caption\" sx={{ color: '#8696a0', fontSize: '0.65rem' }}>Total Users</Typography>\n                  <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mt: 0.1 }}>\n                    <Typography variant=\"h5\" sx={{ color: '#e9edef', fontSize: '1.1rem' }}>{stats.counts.users}</Typography>\n                    <Box sx={{ fontSize: 10, px: 0.5, py: 0.15, borderRadius: 999, bgcolor: 'rgba(52,183,241,0.1)', color: '#34B7F1' }}>\n                      {formatTrend(uploadsTrend)}\n                    </Box>\n                  </Box>\n                  <Typography variant=\"caption\" sx={{ color: '#8696a0', mt: 0.1, fontSize: '0.6rem' }}>\n                    Registered readers\n                  </Typography>\n                </CardContent>\n              </Card>\n            </Grid>\n            <Grid size={{ xs: 12, sm: 6, md: 4, lg: 1.7 }}>\n              <Card sx={{ background: '#111b21', borderRadius: 1, boxShadow: '0 1px 2px rgba(0,0,0,0.3)' }}>\n                <CardContent sx={{ display: 'flex', flexDirection: 'column', gap: 0.2, padding: 0.75 }}>\n                  <Typography variant=\"caption\" sx={{ color: '#8696a0', fontSize: '0.65rem' }}>Universities</Typography>\n                  <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mt: 0.1 }}>\n                    <Typography variant=\"h5\" sx={{ color: '#e9edef', fontSize: '1.1rem' }}>{stats.counts.universities}</Typography>\n                    <Box sx={{ fontSize: 10, px: 0.5, py: 0.15, borderRadius: 999, bgcolor: 'rgba(255,204,0,0.1)', color: '#FFCC00' }}>\n                      {formatTrend(uploadsTrend)}\n                    </Box>\n                  </Box>\n                  <Typography variant=\"caption\" sx={{ color: '#8696a0', mt: 0.1, fontSize: '0.6rem' }}>\n                    Partner institutions\n                  </Typography>\n                </CardContent>\n              </Card>\n            </Grid>\n            <Grid size={{ xs: 12, sm: 6, md: 4, lg: 1.7 }}>\n              <Card sx={{ background: '#111b21', borderRadius: 1, boxShadow: '0 1px 2px rgba(0,0,0,0.3)' }}>\n                <CardContent sx={{ display: 'flex', flexDirection: 'column', gap: 0.2, padding: 0.75 }}>\n                  <Typography variant=\"caption\" sx={{ color: '#8696a0', fontSize: '0.65rem' }}>Past Papers</Typography>\n                  <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mt: 0.1 }}>\n                    <Typography variant=\"h5\" sx={{ color: '#e9edef', fontSize: '1.1rem' }}>{stats.counts.pastPapers}</Typography>\n                    <Box sx={{ fontSize: 10, px: 0.5, py: 0.15, borderRadius: 999, bgcolor: 'rgba(241,94,108,0.1)', color: '#f15e6c' }}>\n                      {formatTrend(uploadsTrend)}\n                    </Box>\n                  </Box>\n                  <Typography variant=\"caption\" sx={{ color: '#8696a0', mt: 0.1, fontSize: '0.6rem' }}>\n                    Available exam papers\n                  </Typography>\n                </CardContent>\n              </Card>\n            </Grid>\n            <Grid size={{ xs: 12, sm: 6, md: 4, lg: 1.7 }}>\n              <Card sx={{ background: '#111b21', borderRadius: 1, boxShadow: '0 1px 2px rgba(0,0,0,0.3)' }}>\n                <CardContent sx={{ display: 'flex', flexDirection: 'column', gap: 0.2, padding: 0.75 }}>\n                  <Typography variant=\"caption\" sx={{ color: '#8696a0', fontSize: '0.65rem' }}>Total Categories</Typography>\n                  <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mt: 0.1 }}>\n                    <Typography variant=\"h5\" sx={{ color: '#e9edef', fontSize: '1.1rem' }}>{stats.counts.categories}</Typography>\n                    <Box sx={{ fontSize: 10, px: 0.5, py: 0.15, borderRadius: 999, bgcolor: 'rgba(123,31,162,0.1)', color: '#bb86fc' }}>\n                      {formatTrend(uploadsTrend)}\n                    </Box>\n                  </Box>\n                  <Typography variant=\"caption\" sx={{ color: '#8696a0', mt: 0.1, fontSize: '0.6rem' }}>\n                    Book organization\n                  </Typography>\n                </CardContent>\n              </Card>\n            </Grid>\n            <Grid size={{ xs: 12, sm: 6, md: 4, lg: 1.7 }}>\n              <Card sx={{ background: '#111b21', borderRadius: 1, boxShadow: '0 1px 2px rgba(0,0,0,0.3)' }}>\n                <CardContent sx={{ display: 'flex', flexDirection: 'column', gap: 0.2, padding: 0.75 }}>\n                  <Typography variant=\"caption\" sx={{ color: '#8696a0', fontSize: '0.65rem' }}>Total Downloads</Typography>\n                  <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mt: 0.1 }}>\n                    <Typography variant=\"h5\" sx={{ color: '#e9edef', fontSize: '1.1rem' }}>{stats.counts.downloads}</Typography>\n                    <Box sx={{ fontSize: 10, px: 0.5, py: 0.15, borderRadius: 999, bgcolor: 'rgba(139,92,246,0.1)', color: '#8b5cf6' }}>\n                      {formatTrend(uploadsTrend)}\n                    </Box>\n                  </Box>\n                  <Typography variant=\"caption\" sx={{ color: '#8696a0', mt: 0.1, fontSize: '0.6rem' }}>\n                    Total offline attempts\n                  </Typography>\n                </CardContent>\n              </Card>\n            </Grid>\n            <Grid size={{ xs: 12, sm: 6, md: 4, lg: 1.7 }}>\n              <Card\n                sx={{ background: '#111b21', borderRadius: 1, cursor: 'pointer', boxShadow: '0 1px 2px rgba(0,0,0,0.3)' }}\n                onClick={async () => {\n                  setShowViewsModal(true);\n                  setLoadingViews(true);\n                  try {\n                    const details = await fetchViewDetails();\n                    setViewDetails(details);\n                  } catch (error) {\n                    console.error('Error fetching view details:', error);\n                  } finally {\n                    setLoadingViews(false);\n                  }\n                }}\n              >\n                <CardContent sx={{ display: 'flex', flexDirection: 'column', gap: 0.2, padding: 0.75 }}>\n                  <Typography variant=\"caption\" sx={{ color: '#8696a0', display: 'flex', alignItems: 'center', gap: 0.2, fontSize: '0.65rem' }}>\n                    Total Views <FiEye />\n                  </Typography>\n                  <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mt: 0.1 }}>\n                    <Typography variant=\"h5\" sx={{ color: '#e9edef', fontSize: '1.1rem' }}>{stats.counts.views}</Typography>\n                    <Box sx={{ fontSize: 10, px: 0.5, py: 0.15, borderRadius: 999, bgcolor: 'rgba(34,211,238,0.1)', color: '#22d3ee' }}>\n                      {formatTrend(viewsTrend)}\n                    </Box>\n                  </Box>\n                  <Typography variant=\"caption\" sx={{ color: '#8696a0', mt: 0.1, fontSize: '0.6rem' }}>Click details</Typography>\n                </CardContent>\n              </Card>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        {timeSeries && timeSeries.length > 0 && (\n          <Grid size={{ xs: 12, md: 6 }}>\n            <Card sx={{ background: '#111b21', borderRadius: 1, mt: 0 }}>\n              <CardContent sx={{ padding: 1 }}>\n                <Typography variant=\"subtitle1\" sx={{ color: '#e9edef', mb: 0.3, fontSize: '0.85rem' }}>Activity Trend</Typography>\n                <Divider sx={{ borderColor: '#202c33', mb: 0.5 }} />\n                <Box sx={{ width: '100%', height: 280 }}>\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <LineChart data={timeSeries} margin={{ top: 4, right: 8, left: -12, bottom: 0 }}>\n                      <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#202c33\" />\n                      <XAxis dataKey=\"month\" stroke=\"#8696a0\" tick={{ fontSize: 9 }} tickMargin={4} />\n                      <YAxis stroke=\"#8696a0\" tick={{ fontSize: 9 }} />\n                      <Tooltip\n                        contentStyle={{\n                          backgroundColor: '#1f2c33',\n                          border: '1px solid #2a3942',\n                          borderRadius: 4,\n                          color: '#e9edef',\n                          fontSize: '11px',\n                        }}\n                        labelStyle={{ color: '#cfd8dc' }}\n                      />\n                      <Legend />\n                      <Line type=\"monotone\" dataKey=\"uploads\" name=\"Uploads\" stroke=\"#00a884\" strokeWidth={2} dot={false} />\n                      <Line type=\"monotone\" dataKey=\"views\" name=\"Views\" stroke=\"#34B7F1\" strokeWidth={2} dot={false} />\n                      <Line type=\"monotone\" dataKey=\"downloads\" name=\"Downloads\" stroke=\"#8b5cf6\" strokeWidth={2} dot={false} />\n                    </LineChart>\n                  </ResponsiveContainer>\n                </Box>\n              </CardContent>\n            </Card>\n          </Grid>\n        )}\n\n        <Grid size={{ xs: 12, md: 6 }}>\n          <Card sx={{ background: '#111b21', borderRadius: 1 }}>\n            <CardContent sx={{ padding: 1 }}>\n              <Typography variant=\"subtitle1\" sx={{ color: '#e9edef', mb: 0.3, fontSize: '0.85rem' }}>Uploads per Month</Typography>\n              <Divider sx={{ borderColor: '#202c33', mb: 0.5 }} />\n              {/* Bar chart for monthly uploads */}\n              <Box sx={{ width: '100%', height: 280, mb: 1 }}>\n                {safeMonthly.length === 0 ? (\n                  <Box sx={{ color: '#8696a0', textAlign: 'center', pt: 4 }}>\n                    No uploads yet\n                  </Box>\n                ) : (\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <BarChart data={safeMonthly} margin={{ top: 10, right: 16, left: -16, bottom: 0 }}>\n                      <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#202c33\" />\n                      <XAxis dataKey=\"month\" stroke=\"#8696a0\" tick={{ fontSize: 11 }} tickMargin={8} />\n                      <YAxis stroke=\"#8696a0\" tick={{ fontSize: 11 }} />\n                      <Tooltip\n                        cursor={{ fill: 'rgba(32,44,51,0.6)' }}\n                        contentStyle={{\n                          backgroundColor: '#1f2c33',\n                          border: '1px solid #2a3942',\n                          borderRadius: 8,\n                          color: '#e9edef',\n                        }}\n                        labelStyle={{ color: '#cfd8dc' }}\n                      />\n                      <Legend />\n                      <Bar dataKey=\"Uploads\" name=\"Uploads\" fill=\"#00a884\" radius={[4, 4, 0, 0]} />\n                    </BarChart>\n                  </ResponsiveContainer>\n                )}\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n\n        <Grid size={{ xs: 12, md: 6 }}>\n          <Card sx={{ background: '#111b21', borderRadius: 1 }}>\n            <CardContent sx={{ padding: 1 }}>\n              <Typography variant=\"subtitle1\" sx={{ color: '#e9edef', mb: 0.3, fontSize: '0.85rem' }}>Categories Distribution</Typography>\n              <Divider sx={{ borderColor: '#202c33', mb: 0.5 }} />\n              {/* Pie chart for category distribution */}\n              <Box sx={{ width: '100%', height: 200, mb: 1 }}>\n                {safeCategories.length === 0 ? (\n                  <Box sx={{ color: '#8696a0', textAlign: 'center', pt: 4 }}>\n                    No category data\n                  </Box>\n                ) : (\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <PieChart>\n                      <Pie\n                        data={safeCategories}\n                        dataKey=\"count\"\n                        nameKey=\"name\"\n                        cx=\"50%\"\n                        cy=\"50%\"\n                        outerRadius={90}\n                        fill=\"#00a884\"\n                        // use outside labels with leader lines to avoid cramped small slices\n                        labelLine={true}\n                        label={renderCustomizedLabel}\n                        paddingAngle={2}\n                        minAngle={3}\n                      >\n                        {safeCategories.map((entry, index) => (\n                          <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                        ))}\n                      </Pie>\n                      <Tooltip\n                        contentStyle={{\n                          backgroundColor: '#1f2c33',\n                          border: '1px solid #2a3942',\n                          borderRadius: 8,\n                          color: '#e9edef',\n                        }}\n                        labelStyle={{ color: '#cfd8dc' }}\n                      />\n                      <Legend />\n                    </PieChart>\n                  </ResponsiveContainer>\n                )}\n              </Box>\n              <Box sx={{ overflowX: 'auto' }}>\n                <table className=\"table overview-table\">\n                  <thead>\n                    <tr>\n                      <th>Category</th>\n                      <th>Count</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {(pagedCategories.length ? pagedCategories : []).map((c, i) => (\n                      <tr key={i}>\n                        <td>{c.name}</td>\n                        <td>{c.count}</td>\n                      </tr>\n                    ))}\n                    {nonZeroCategories.length === 0 && (\n                      <tr><td colSpan={2} style={{ color: '#8696a0' }}>No category data</td></tr>\n                    )}\n                  </tbody>\n                </table>\n              </Box>\n              {nonZeroCategories.length > OVERVIEW_PAGE_SIZE && (\n                <Box className=\"actions\" sx={{ mt: 1.5, display: 'flex', justifyContent: 'space-between' }}>\n                  <button\n                    className=\"btn\"\n                    disabled={categoriesPage <= 1}\n                    onClick={() => setCategoriesPage(p => Math.max(1, p - 1))}\n                  >\n                    Prev\n                  </button>\n                  <span style={{ color: '#cfd8dc', fontSize: 12 }}>\n                    Page {categoriesPage} of {categoriesTotalPages}\n                  </span>\n                  <button\n                    className=\"btn\"\n                    disabled={categoriesPage >= categoriesTotalPages}\n                    onClick={() => setCategoriesPage(p => Math.min(categoriesTotalPages, p + 1))}\n                  >\n                    Next\n                  </button>\n                </Box>\n              )}\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid size={{ xs: 12, md: 6 }}>\n          <Card sx={{ background: '#111b21', borderRadius: 1 }}>\n            <CardContent sx={{ padding: 1 }}>\n              <Typography variant=\"subtitle1\" sx={{ color: '#e9edef', mb: 0.3, fontSize: '0.85rem' }}>Top Books (Downloads)</Typography>\n              <Divider sx={{ borderColor: '#202c33', mb: 0.5 }} />\n              <Box sx={{ overflowX: 'auto', maxHeight: 350, overflowY: 'auto' }}>\n                <table className=\"table overview-table\">\n                  <thead>\n                    <tr>\n                      <th>Title</th>\n                      <th>Downloads</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {(pagedTop.length ? pagedTop : []).map((b, i) => {\n                      const totalDownloads = stats.counts.downloads || 0;\n                      const ratio = totalDownloads > 0 ? Math.min(1, (b.downloads || 0) / totalDownloads) : 0;\n                      const percent = Math.round(ratio * 100);\n                      return (\n                        <tr key={i}>\n                          <td>\n                            <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5 }}>\n                              <span>{b.title}</span>\n                              <Box sx={{ background: '#202c33', borderRadius: 999, overflow: 'hidden', height: 6 }}>\n                                <Box sx={{ width: `${percent}%`, height: '100%', bgcolor: '#00a884' }} />\n                              </Box>\n                            </Box>\n                          </td>\n                          <td>{b.downloads}</td>\n                        </tr>\n                      );\n                    })}\n                    {nonZeroTop.length === 0 && (\n                      <tr><td colSpan={2} style={{ color: '#8696a0' }}>No top books data</td></tr>\n                    )}\n                  </tbody>\n                </table>\n              </Box>\n              {nonZeroTop.length > OVERVIEW_PAGE_SIZE && (\n                <Box className=\"actions\" sx={{ mt: 1.5, display: 'flex', justifyContent: 'space-between' }}>\n                  <button\n                    className=\"btn\"\n                    disabled={topPage <= 1}\n                    onClick={() => setTopPage(p => Math.max(1, p - 1))}\n                  >\n                    Prev\n                  </button>\n                  <span style={{ color: '#cfd8dc', fontSize: 12 }}>\n                    Page {topPage} of {topTotalPages}\n                  </span>\n                  <button\n                    className=\"btn\"\n                    disabled={topPage >= topTotalPages}\n                    onClick={() => setTopPage(p => Math.min(topTotalPages, p + 1))}\n                  >\n                    Next\n                  </button>\n                </Box>\n              )}\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid size={{ xs: 12, md: 6 }}>\n          <Card sx={{ background: '#111b21', borderRadius: 1 }}>\n            <CardContent sx={{ padding: 1 }}>\n              <Typography variant=\"subtitle1\" sx={{ color: '#e9edef', mb: 0.3, fontSize: '0.85rem' }}>Top Past Papers (Downloads)</Typography>\n              <Divider sx={{ borderColor: '#202c33', mb: 0.5 }} />\n              <Box sx={{ overflowX: 'auto', maxHeight: 350, overflowY: 'auto' }}>\n                <table className=\"table overview-table\">\n                  <thead>\n                    <tr>\n                      <th>Title</th>\n                      <th>Downloads</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {(pagedTopPastPapers.length ? pagedTopPastPapers : []).map((p, i) => {\n                      const totalDownloads = stats.counts.downloads || 0;\n                      const ratio = totalDownloads > 0 ? Math.min(1, (p.downloads || 0) / totalDownloads) : 0;\n                      const percent = Math.round(ratio * 100);\n                      return (\n                        <tr key={i}>\n                          <td>\n                            <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5 }}>\n                              <span>{p.title}</span>\n                              <Box sx={{ background: '#202c33', borderRadius: 999, overflow: 'hidden', height: 6 }}>\n                                <Box sx={{ width: `${percent}%`, height: '100%', bgcolor: '#00a884' }} />\n                              </Box>\n                            </Box>\n                          </td>\n                          <td>{p.downloads}</td>\n                        </tr>\n                      );\n                    })}\n                    {nonZeroTopPastPapers.length === 0 && (\n                      <tr><td colSpan={2} style={{ color: '#8696a0' }}>No top past papers data</td></tr>\n                    )}\n                  </tbody>\n                </table>\n              </Box>\n              {nonZeroTopPastPapers.length > OVERVIEW_PAGE_SIZE && (\n                <Box className=\"actions\" sx={{ mt: 1.5, display: 'flex', justifyContent: 'space-between' }}>\n                  <button\n                    className=\"btn\"\n                    disabled={topPastPapersPage <= 1}\n                    onClick={() => setTopPastPapersPage(p => Math.max(1, p - 1))}\n                  >\n                    Prev\n                  </button>\n                  <span style={{ color: '#cfd8dc', fontSize: 12 }}>\n                    Page {topPastPapersPage} of {topPastPapersTotalPages}\n                  </span>\n                  <button\n                    className=\"btn\"\n                    disabled={topPastPapersPage >= topPastPapersTotalPages}\n                    onClick={() => setTopPastPapersPage(p => Math.min(topPastPapersTotalPages, p + 1))}\n                  >\n                    Next\n                  </button>\n                </Box>\n              )}\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n\n      {showViewsModal && (\n        <div className=\"modal-overlay\" onClick={() => setShowViewsModal(false)}>\n          <div\n            className=\"modal-content\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"modal-header\">\n              <h2 style={{ margin: 0, color: '#e9edef' }}>Book View Details</h2>\n              <button onClick={() => setShowViewsModal(false)} className=\"icon-btn\">\n                <FiX size={20} />\n              </button>\n            </div>\n            <div className=\"modal-body\">\n              {loadingViews ? (\n                <div style={{ textAlign: 'center', padding: 40, color: '#8696a0' }}>\n                  Loading...\n                </div>\n              ) : (\n                <div>\n                  <table className=\"table\">\n                    <thead>\n                      <tr>\n                        <th>Book Title</th>\n                        <th>Total Views</th>\n                        <th>Unique Users</th>\n                        <th>Details</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {pagedViewDetails.map((book, idx) => (\n                        <React.Fragment key={book.book_id}>\n                          <tr>\n                            <td><strong>{book.book_title}</strong></td>\n                            <td>{book.total_views}</td>\n                            <td>{book.unique_users}</td>\n                            <td>\n                              <button\n                                className=\"btn\"\n                                onClick={() => {\n                                  setExpandedViewers((prev) => {\n                                    const isOpen = prev[book.book_id];\n                                    // close if already open\n                                    if (isOpen) {\n                                      return { ...prev, [book.book_id]: false };\n                                    }\n                                    // open this row and ensure viewerPages is initialized\n                                    return { ...prev, [book.book_id]: true };\n                                  });\n                                  setViewerPages((p) => ({ ...p, [book.book_id]: p[book.book_id] || 1 }));\n                                }}\n                                style={{\n                                  backgroundColor: expandedViewers[book.book_id] ? '#2c7a7f' : undefined,\n                                  color: expandedViewers[book.book_id] ? '#fff' : undefined,\n                                }}\n                              >\n                                {expandedViewers[book.book_id] ? 'Close' : 'View Users'}\n                              </button>\n                            </td>\n                          </tr>\n                          {expandedViewers[book.book_id] && (\n                            <tr style={{ backgroundColor: '#111b21' }}>\n                              <td colSpan={4}>\n                                <div className=\"viewer-section\">\n                                  <div className=\"viewer-section-title\">Users who viewed</div>\n                                  {(() => {\n                                    const pageSize = 8;\n                                    const page = viewerPages[book.book_id] || 1;\n                                    const totalPages = Math.max(1, Math.ceil((book.users?.length || 0) / pageSize));\n                                    const start = (page - 1) * pageSize;\n                                    const end = start + pageSize;\n                                    const current = (book.users || []).slice(start, end);\n\n                                    // helper to lookup avatar from shared localStorage map by email\n                                    const getAvatarFor = (email) => {\n                                      if (!email) return null;\n                                      try {\n                                        const map = JSON.parse(localStorage.getItem('avatarsByEmail') || '{}');\n                                        return map[email] || null;\n                                      } catch (e) {\n                                        return null;\n                                      }\n                                    };\n\n                                    return (\n                                      <>\n                                        <div className=\"viewer-list\">\n                                          {current.map((user, userIdx) => {\n                                            const avatarUrl = getAvatarFor(user.email);\n                                            const latestView = (user.views && user.views.length > 0)\n                                              ? new Date(user.views[0]).toLocaleString()\n                                              : 'No timestamps';\n                                            return (\n                                              <div className=\"viewer-item\" key={userIdx}>\n                                                {avatarUrl ? (\n                                                  <img\n                                                    src={avatarUrl}\n                                                    alt={user.email || 'avatar'}\n                                                    style={{\n                                                      width: 36,\n                                                      height: 36,\n                                                      borderRadius: 999,\n                                                      objectFit: 'cover',\n                                                      flex: '0 0 36px',\n                                                    }}\n                                                    className=\"viewer-avatar-img\"\n                                                  />\n                                                ) : (\n                                                  <div className=\"viewer-avatar\">\n                                                    {(user.email || '?').charAt(0).toUpperCase()}\n                                                  </div>\n                                                )}\n                                                <div className=\"viewer-meta\">\n                                                  <div className=\"viewer-email\">{user.email}</div>\n                                                  <details className=\"viewer-time-dropdown\">\n                                                    <summary>\n                                                      Latest: {latestView}\n                                                    </summary>\n                                                    {(() => {\n                                                      const pageSize = 8;\n                                                      const key = `${book.book_id}:${user.email || 'unknown'}`;\n                                                      const page = viewerTimePages[key] || 1;\n                                                      const totalViews = (user.views || []).length;\n                                                      const totalPages = Math.max(1, Math.ceil(totalViews / pageSize));\n                                                      const start = (page - 1) * pageSize;\n                                                      const end = start + pageSize;\n                                                      const currentViews = (user.views || []).slice(start, end);\n\n                                                      return (\n                                                        <>\n                                                          <ul className=\"viewer-time-list\">\n                                                            {currentViews.map((ts, i) => (\n                                                              <li key={i}>\n                                                                {new Date(ts).toLocaleString()}\n                                                              </li>\n                                                            ))}\n                                                          </ul>\n                                                          {totalViews > pageSize && (\n                                                            <div\n                                                              style={{\n                                                                marginTop: 6,\n                                                                display: 'flex',\n                                                                alignItems: 'center',\n                                                                justifyContent: 'space-between',\n                                                                gap: 8,\n                                                                fontSize: 11,\n                                                                color: '#cfd8dc',\n                                                              }}\n                                                            >\n                                                              <button\n                                                                className=\"btn\"\n                                                                style={{ padding: '4px 8px', fontSize: 11 }}\n                                                                disabled={page <= 1}\n                                                                onClick={(e) => {\n                                                                  e.preventDefault();\n                                                                  e.stopPropagation();\n                                                                  setViewerTimePages((p) => ({\n                                                                    ...p,\n                                                                    [key]: Math.max(1, page - 1),\n                                                                  }));\n                                                                }}\n                                                              >\n                                                                Prev\n                                                              </button>\n                                                              <span>\n                                                                Page {page} of {totalPages}\n                                                              </span>\n                                                              <button\n                                                                className=\"btn\"\n                                                                style={{ padding: '4px 8px', fontSize: 11 }}\n                                                                disabled={page >= totalPages}\n                                                                onClick={(e) => {\n                                                                  e.preventDefault();\n                                                                  e.stopPropagation();\n                                                                  setViewerTimePages((p) => ({\n                                                                    ...p,\n                                                                    [key]: Math.min(totalPages, page + 1),\n                                                                  }));\n                                                                }}\n                                                              >\n                                                                Next\n                                                              </button>\n                                                            </div>\n                                                          )}\n                                                        </>\n                                                      );\n                                                    })()}\n                                                  </details>\n                                                </div>\n                                              </div>\n                                            );\n                                          })}\n                                          {current.length === 0 && (\n                                            <div style={{ color: '#8696a0' }}>\n                                              No viewers on this page.\n                                            </div>\n                                          )}\n                                        </div>\n                                        {book.users && book.users.length > pageSize && (\n                                          <div\n                                            className=\"actions\"\n                                            style={{ marginTop: 10, justifyContent: 'space-between' }}\n                                          >\n                                            <button\n                                              className=\"btn\"\n                                              disabled={page <= 1}\n                                              onClick={() =>\n                                                setViewerPages((p) => ({\n                                                  ...p,\n                                                  [book.book_id]: Math.max(1, (p[book.book_id] || 1) - 1),\n                                                }))\n                                              }\n                                            >\n                                              Prev\n                                            </button>\n                                            <span style={{ color: '#cfd8dc' }}>\n                                              Page {page} of {totalPages} ({book.users.length} viewers)\n                                            </span>\n                                            <button\n                                              className=\"btn\"\n                                              disabled={page >= totalPages}\n                                              onClick={() =>\n                                                setViewerPages((p) => ({\n                                                  ...p,\n                                                  [book.book_id]: Math.min(totalPages, (p[book.book_id] || 1) + 1),\n                                                }))\n                                              }\n                                            >\n                                              Next\n                                            </button>\n                                          </div>\n                                        )}\n                                      </>\n                                    );\n                                  })()}\n                              </div>\n                            </td>\n                          </tr>\n                          )}\n                        </React.Fragment>\n                      ))}\n                    </tbody>\n                  </table>\n                  {viewDetails.length > VIEW_PAGE_SIZE && (\n                    <div className=\"actions\" style={{ marginTop: 10, display: 'flex', justifyContent: 'space-between' }}>\n                      <button\n                        className=\"btn\"\n                        disabled={viewPage <= 1}\n                        onClick={() => setViewPage(p => Math.max(1, p - 1))}\n                      >\n                        Prev\n                      </button>\n                      <span style={{ color: '#cfd8dc' }}>\n                        Page {viewPage} of {Math.ceil(viewDetails.length / VIEW_PAGE_SIZE)}\n                      </span>\n                      <button\n                        className=\"btn\"\n                        disabled={viewPage >= Math.ceil(viewDetails.length / VIEW_PAGE_SIZE)}\n                        onClick={() => setViewPage(p => Math.min(Math.ceil(viewDetails.length / VIEW_PAGE_SIZE), p + 1))}\n                      >\n                        Next\n                      </button>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </Box>\n  );\n};\n\nexport default Dashboard;"],"names":["getDividerUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","DividerRoot","styled","name","overridesResolver","props","styles","ownerState","root","absolute","variant","light","orientation","vertical","flexItem","children","withChildren","withChildrenVertical","textAlign","textAlignRight","textAlignLeft","memoTheme","_ref","theme","margin","flexShrink","borderWidth","borderStyle","borderColor","vars","palette","divider","borderBottomWidth","variants","style","position","bottom","left","width","alpha","marginLeft","spacing","marginRight","marginTop","marginBottom","height","borderRightWidth","alignSelf","_ref2","display","border","borderTopStyle","borderLeftStyle","content","_ref3","borderTop","concat","_ref4","flexDirection","borderLeft","_ref5","_ref6","DividerWrapper","wrapper","wrapperVertical","_ref7","paddingLeft","paddingRight","whiteSpace","paddingTop","paddingBottom","Divider","React","inProps","ref","useDefaultProps","className","component","role","undefined","other","_objectWithoutProperties","_objectSpread","classes","slots","composeClasses","useUtilityClasses","_jsx","as","clsx","muiSkipListHighlight","COLORS","RADIAN","Math","PI","renderCustomizedLabel","cx","cy","midAngle","outerRadius","percent","index","payload","radius","x","cos","y","sin","label","textAnchor","_jsxs","points","fill","stroke","strokeWidth","dominantBaseline","fontSize","toFixed","Dashboard","_stats$counts","stats","setStats","useState","counts","books","users","downloads","views","universities","pastPapers","monthly","categories","top","topPastPapers","recent","loading","setLoading","showViewsModal","setShowViewsModal","viewDetails","setViewDetails","loadingViews","setLoadingViews","viewerPages","setViewerPages","expandedViewers","setExpandedViewers","viewerTimePages","setViewerTimePages","monthlyPage","setMonthlyPage","categoriesPage","setCategoriesPage","topPage","setTopPage","topPastPapersPage","setTopPastPapersPage","viewPage","setViewPage","VIEW_PAGE_SIZE","safeMonthly","map","d","month","Uploads","Number","uploads","filter","isNaN","safeCategories","c","count","Count","safeTop","b","title","downloads_count","Downloads","views_count","Views","safeTopPastPapers","p","_extractNumber","obj","_len","arguments","length","keys","Array","_key","k","Object","prototype","hasOwnProperty","call","v","extractDownloads","m","extractUploads","extractViews","months","raw","totalDownloadsAvailable","some","overallDownloads","timeSeries","totalUploads","reduce","s","r","round","assigned","diff","i","base","floor","remainder","add","calcTrend","series","key","values","current","prev","formatTrend","value","rounded","uploadsTrend","viewsTrend","nonZeroMonthly","sort","a","nonZeroCategories","nonZeroTop","nonZeroTopPastPapers","categoriesTotalPages","max","ceil","topTotalPages","topPastPapersTotalPages","monthlyStart","monthlyEnd","categoriesStart","slice","categoriesEnd","pagedCategories","topStart","topEnd","pagedTop","topPastPapersStart","topPastPapersEnd","pagedTopPastPapers","pagedViewDetails","useEffect","data","fetchStats","error","console","Box","sx","padding","Grid","container","size","xs","Typography","color","mb","sm","md","lg","Card","background","borderRadius","boxShadow","CardContent","gap","alignItems","justifyContent","mt","px","py","bgcolor","cursor","onClick","async","details","fetchViewDetails","FiEye","ResponsiveContainer","LineChart","right","CartesianGrid","strokeDasharray","XAxis","dataKey","tick","tickMargin","YAxis","Tooltip","contentStyle","backgroundColor","labelStyle","Legend","Line","type","dot","pt","BarChart","Bar","PieChart","Pie","nameKey","labelLine","paddingAngle","minAngle","entry","Cell","overflowX","colSpan","disabled","min","maxHeight","overflowY","totalDownloads","ratio","overflow","e","stopPropagation","FiX","book","idx","book_title","total_views","unique_users","book_id","_book$users","page","totalPages","start","end","_Fragment","user","userIdx","avatarUrl","email","JSON","parse","localStorage","getItem","getAvatarFor","latestView","Date","toLocaleString","src","alt","objectFit","flex","charAt","toUpperCase","totalViews","currentViews","ts","preventDefault"],"ignoreList":[],"sourceRoot":""}
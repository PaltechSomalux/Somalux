"use strict";(self.webpackChunkcampuslife=self.webpackChunkcampuslife||[]).push([[129],{8129:(e,s,t)=>{t.r(s),t.d(s,{default:()=>n});var r=t(5043),a=t(4218),c=t(3515),l=t(579);const n=()=>{const{id:e}=(0,a.g)(),s=(0,a.Zp)(),[t,n]=(0,r.useState)(!0),[o,i]=(0,r.useState)([]);(0,r.useEffect)(()=>{if(!e)return;let s=!1;return(async()=>{n(!0);try{const t=await(0,c.Ds)(e,{limit:200});s||i(t||[])}finally{s||n(!1)}})(),()=>{s=!0}},[e]);const h=(0,r.useMemo)(()=>{const e={books:[],categories:[],authors:[],past_papers:[],other:[]};return o.forEach(s=>{const t=s.scope||"other";e[t]?e[t].push(s):e.other.push(s)}),e},[o]),d=(e,s)=>{const t=h[e]||[];return(0,l.jsxs)("div",{style:{marginBottom:24},children:[(0,l.jsx)("h3",{style:{color:"#e9edef",marginBottom:8},children:s}),0===t.length?(0,l.jsx)("div",{style:{color:"#8696a0"},children:"No search events recorded for this scope."}):(0,l.jsxs)("table",{className:"table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Query"}),(0,l.jsx)("th",{children:"Results Count"}),(0,l.jsx)("th",{children:"When"})]})}),(0,l.jsx)("tbody",{children:t.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.query_text}),(0,l.jsx)("td",{children:null!=e.results_count?e.results_count:"\u2014"}),(0,l.jsx)("td",{children:e.created_at?new Date(e.created_at).toLocaleString():"\u2014"})]},e.id))})]})]})};return(0,l.jsxs)("div",{className:"panel",children:[(0,l.jsxs)("div",{className:"panel-title",style:{display:"flex",alignItems:"center",gap:16},children:[(0,l.jsx)("button",{className:"btn",onClick:()=>s(-1),children:"Back"}),(0,l.jsx)("span",{children:"User Search Details"})]}),t?(0,l.jsx)("div",{style:{color:"#8696a0",padding:16},children:"Loading user search history..."}):0===o.length?(0,l.jsx)("div",{style:{color:"#8696a0",padding:16},children:"No search history found for this user."}):(0,l.jsxs)(l.Fragment,{children:[d("books","Book Searches"),d("categories","Category Searches"),d("authors","Author Searches"),d("past_papers","Past Paper Searches")]})]})}}}]);
//# sourceMappingURL=129.03fe10a8.chunk.js.map
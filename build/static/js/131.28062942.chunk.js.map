{"version":3,"file":"static/js/131.28062942.chunk.js","mappings":"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","sources":["SomaLux/Books/Admin/pages/SubmissionsList.jsx","SomaLux/Books/Admin/pages/SubmissionDetailModal.jsx","SomaLux/Books/Admin/pages/Submissions.jsx"],"sourcesContent":["import React from 'react';\r\nimport { FiCheck, FiX, FiClock } from 'react-icons/fi';\r\n\r\nconst SubmissionsList = ({ items, loading, type, busy, onSelect, onApprove, onReject }) => {\r\n  const fmt = (d) => d ? new Date(d).toLocaleString() : '—';\r\n\r\n  if (loading) {\r\n    return <div style={{ padding: 12, color: '#8696a0', fontSize: 12 }}>Loading…</div>;\r\n  }\r\n\r\n  if (items.length === 0) {\r\n    return <div style={{ padding: 12, color: '#8696a0', fontSize: 12 }}>No submissions.</div>;\r\n  }\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: 'column', gap: 6 }}>\r\n      {items.map((sub) => (\r\n        <div\r\n          key={sub.id}\r\n          style={{ \r\n            background: '#0b141a', \r\n            border: '1px solid #1f2c33', \r\n            borderRadius: 4, \r\n            padding: 8, \r\n            cursor: 'pointer' \r\n          }}\r\n          onClick={() => onSelect(sub)}\r\n        >\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', gap: 6 }}>\r\n            <div style={{ minWidth: 0 }}>\r\n              <div style={{ color: '#e9edef', fontWeight: 600, fontSize: 12 }}>\r\n                {sub.title || 'Untitled'}\r\n              </div>\r\n              {type === 'books' ? (\r\n                <div style={{ color: '#8696a0', fontSize: 11 }}>\r\n                  {sub.author || 'Unknown'} {sub.isbn ? `• ISBN: ${sub.isbn}` : ''}\r\n                </div>\r\n              ) : (\r\n                <div style={{ color: '#8696a0', fontSize: 11 }}>\r\n                  {sub.faculty || 'Unknown faculty'} {sub.unit_code ? `• ${sub.unit_code}` : ''} {sub.unit_name ? `• ${sub.unit_name}` : ''}\r\n                </div>\r\n              )}\r\n              <div style={{ color: '#8696a0', fontSize: 10, marginTop: 3 }}>\r\n                {fmt(sub.created_at)} • {sub.status}\r\n                {sub.uploader_email ? (\r\n                  <> • Uploaded by {sub.uploader_name || sub.uploader_email}</>\r\n                ) : sub.uploaded_by ? (\r\n                  <> • Uploaded by {String(sub.uploaded_by)}</>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n            <div style={{ display: 'flex', gap: 4 }}>\r\n              {sub.status === 'pending' ? (\r\n                <>\r\n                  <button\r\n                    className=\"btn\"\r\n                    disabled={!!busy[sub.id]}\r\n                    onClick={(e) => { e.stopPropagation(); onApprove(sub.id); }}\r\n                    style={{ display: 'flex', alignItems: 'center', gap: 4, background: '#00a884', color: '#fff', fontSize: 11, padding: '4px 8px' }}\r\n                  >\r\n                    <FiCheck /> Approve\r\n                  </button>\r\n                  <button\r\n                    className=\"btn\"\r\n                    disabled={!!busy[sub.id]}\r\n                    onClick={(e) => { e.stopPropagation(); onReject(sub.id); }}\r\n                    style={{ display: 'flex', alignItems: 'center', gap: 4, background: '#ea4335', color: '#fff', fontSize: 11, padding: '4px 8px' }}\r\n                  >\r\n                    <FiX /> Reject\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <div style={{ color: '#8696a0', display: 'flex', alignItems: 'center', gap: 4, fontSize: 11 }}>\r\n                  <FiClock /> Reviewed\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubmissionsList;","import React from 'react';\r\nimport { FiCheck, FiX, FiClock, FiBell } from 'react-icons/fi';\r\n\r\nconst SubmissionDetailModal = ({ submission, type, busy, onClose, onApprove, onReject }) => {\r\n  const fmt = (d) => d ? new Date(d).toLocaleString() : '—';\r\n\r\n  return (\r\n    <div\r\n      className=\"profile-signout-overlay\"\r\n      onClick={onClose}\r\n      style={{ zIndex: 60 }}\r\n    >\r\n      <div\r\n        className=\"profile-signout-modal\"\r\n        onClick={(e) => e.stopPropagation()}\r\n        style={{\r\n          maxWidth: 760,\r\n          width: '96%',\r\n          maxHeight: '90vh',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          background: '#111b21',\r\n        }}\r\n      >\r\n        <div className=\"profile-signout-header\" style={{ borderBottom: '1px solid #1f2c33', padding: '8px 12px' }}>\r\n          <h2 style={{ display: 'flex', alignItems: 'center', gap: 4, fontSize: '13px', margin: 0 }}>\r\n            <FiBell /> Review {type === 'books' ? 'Book' : 'Past Paper'} Submission\r\n          </h2>\r\n          <button className=\"profile-signout-close\" onClick={onClose}>×</button>\r\n        </div>\r\n\r\n        <div\r\n          className=\"profile-signout-body\"\r\n          style={{\r\n            padding: 8,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            gap: 8,\r\n            overflowY: 'auto',\r\n          }}\r\n        >\r\n          {/* Uploader Information Section */}\r\n          <div style={{\r\n            padding: 6,\r\n            background: 'rgba(0, 168, 132, 0.1)',\r\n            border: '1px solid rgba(0, 168, 132, 0.3)',\r\n            borderRadius: 4,\r\n          }}>\r\n            <div style={{ color: '#00a884', fontSize: 10, fontWeight: 600, marginBottom: 2 }}>\r\n              UPLOADER\r\n            </div>\r\n            <div style={{ color: '#e9edef', fontSize: 12, fontWeight: 500 }}>\r\n              {submission.uploader_name || submission.uploader_email || (submission.uploaded_by ? String(submission.uploaded_by) : 'Unknown')}\r\n            </div>\r\n            {submission.uploader_email && submission.uploader_email !== submission.uploader_name && (\r\n              <div style={{ color: '#8696a0', fontSize: 10 }}>\r\n                {submission.uploader_email}\r\n              </div>\r\n            )}\r\n            {!submission.uploader_email && submission.uploaded_by && String(submission.uploaded_by).includes('@') && (\r\n              <div style={{ color: '#8696a0', fontSize: 10 }}>\r\n                {String(submission.uploaded_by)}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {type === 'books' ? (\r\n            <>\r\n              {submission.cover_url && (\r\n                <div style={{ flex: '0 0 120px', alignSelf: 'center' }}>\r\n                  <img\r\n                    src={submission.cover_url}\r\n                    alt={submission.title || 'Cover'}\r\n                    style={{ width: '100%', borderRadius: 4, objectFit: 'cover', boxShadow: '0 2px 6px rgba(0,0,0,0.3)' }}\r\n                  />\r\n                </div>\r\n              )}\r\n              <div>\r\n                <h3 style={{ color: '#e9edef', marginBottom: 2, fontSize: 13, fontWeight: 600 }}>\r\n                  {submission.title || 'Untitled'}\r\n                </h3>\r\n                <div style={{ color: '#8696a0', marginBottom: 8, fontSize: 11 }}>\r\n                  <strong>{submission.author || 'Unknown author'}</strong>\r\n                  {submission.isbn && <> • ISBN: {submission.isbn}</>}\r\n                </div>\r\n                {submission.description && (\r\n                  <div style={{ color: '#cbd5f5', fontSize: 11, marginBottom: 8, lineHeight: 1.4, padding: '6px 0', borderTop: '1px solid #1f2c33', borderBottom: '1px solid #1f2c33' }}>\r\n                    <strong style={{ color: '#e9edef' }}>Description:</strong><br />\r\n                    {submission.description}\r\n                  </div>\r\n                )}\r\n                \r\n                {/* Details Grid */}\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', gap: 6, marginBottom: 8 }}>\r\n                  {submission.author && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>AUTHOR</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.author}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.year && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>YEAR</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.year}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.publisher && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>PUBLISHER</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.publisher}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.pages && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>PAGES</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.pages}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.language && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>LANGUAGE</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.language}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.isbn && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>ISBN</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500, wordBreak: 'break-all' }}>{submission.isbn}</div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Submission Info */}\r\n                <div style={{ marginTop: 12, padding: 10, background: '#0b141a', borderRadius: 6, border: '1px solid #1f2c33' }}>\r\n                  <div style={{ color: '#8696a0', fontSize: 11, marginBottom: 4 }}>SUBMISSION INFO</div>\r\n                  <div style={{ color: '#e9edef', fontSize: 12 }}>\r\n                    <div>Uploaded: {fmt(submission.created_at)}</div>\r\n                    <div>Status: <span style={{ color: submission.status === 'pending' ? '#fbbf24' : submission.status === 'approved' ? '#00a884' : '#ea4335', fontWeight: 600 }}>{submission.status.toUpperCase()}</span></div>\r\n                    {submission.rejection_reason && (\r\n                      <div style={{ color: '#ea4335', marginTop: 4 }}>Rejection Reason: {submission.rejection_reason}</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <div>\r\n                <h3 style={{ color: '#e9edef', marginBottom: 4, fontSize: 16, fontWeight: 600 }}>\r\n                  {submission.unit_code ? `${submission.unit_code} — ` : ''}{submission.unit_name || 'Untitled'}\r\n                </h3>\r\n                <div style={{ color: '#8696a0', marginBottom: 12, fontSize: 13 }}>\r\n                  <strong>{submission.faculty || 'Unknown faculty'}</strong>\r\n                  {submission.year && <> • {submission.year}</>}\r\n                  {submission.semester && <> • Sem {submission.semester}</>}\r\n                  {submission.exam_type && <> • {submission.exam_type}</>}\r\n                </div>\r\n\r\n                {/* Details Grid for Past Papers */}\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', gap: 6, marginBottom: 8 }}>\r\n                  {submission.unit_code && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>UNIT CODE</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.unit_code}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.faculty && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>FACULTY</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.faculty}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.year && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>YEAR</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.year}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.semester && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>SEMESTER</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>Sem {submission.semester}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.exam_type && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>EXAM TYPE</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.exam_type}</div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Submission Info */}\r\n                <div style={{ marginTop: 6, padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                  <div style={{ color: '#8696a0', fontSize: 10, marginBottom: 2 }}>SUBMISSION INFO</div>\r\n                  <div style={{ color: '#e9edef', fontSize: 11 }}>\r\n                    <div>Uploaded: {fmt(submission.created_at)}</div>\r\n                    <div>Status: <span style={{ color: submission.status === 'pending' ? '#fbbf24' : submission.status === 'approved' ? '#00a884' : '#ea4335', fontWeight: 600 }}>{submission.status.toUpperCase()}</span></div>\r\n                    {submission.rejection_reason && (\r\n                      <div style={{ color: '#ea4335', marginTop: 2 }}>Rejection Reason: {submission.rejection_reason}</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"profile-signout-footer\" style={{ borderTop: '1px solid #1f2c33', padding: 6, display: 'flex', justifyContent: 'flex-end', gap: 4 }}>\r\n          {submission.status === 'pending' ? (\r\n            <>\r\n              <button\r\n                className=\"btn\"\r\n                disabled={!!busy[submission.id]}\r\n                onClick={() => onApprove(submission.id)}\r\n                style={{ display: 'flex', alignItems: 'center', gap: 4, background: '#00a884', color: '#fff', fontSize: 11, padding: '4px 8px' }}\r\n              >\r\n                <FiCheck /> Approve\r\n              </button>\r\n              <button\r\n                className=\"btn\"\r\n                disabled={!!busy[submission.id]}\r\n                onClick={() => onReject(submission.id)}\r\n                style={{ display: 'flex', alignItems: 'center', gap: 4, background: '#ea4335', color: '#fff', fontSize: 11, padding: '4px 8px' }}\r\n              >\r\n                <FiX /> Reject\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <div style={{ color: '#8696a0', display: 'flex', alignItems: 'center', gap: 4, fontSize: 11 }}>\r\n              <FiClock /> Already reviewed\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubmissionDetailModal;","import React, { useEffect, useState, useMemo } from 'react';\r\nimport { FiRefreshCw, FiBook, FiFileText } from 'react-icons/fi';\r\nimport { useAdminUI } from '../AdminUIContext';\r\nimport SubmissionsList from './SubmissionsList';\r\nimport SubmissionDetailModal from './SubmissionDetailModal';\r\n\r\nconst API_BASE = 'http://localhost:5000';\r\n\r\nconst Submissions = ({ userProfile }) => {\r\n  const [items, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [filter, setFilter] = useState('pending');\r\n  const [busy, setBusy] = useState({});\r\n  const [type, setType] = useState('books'); // 'books' | 'past_papers'\r\n  const [summary, setSummary] = useState({ booksPending: 0, pastPapersPending: 0 });\r\n  const [selected, setSelected] = useState(null);\r\n\r\n  const { confirm, prompt, showToast } = useAdminUI();\r\n\r\n  const headers = useMemo(() => ({\r\n    'Content-Type': 'application/json',\r\n    'x-actor-email': userProfile?.email || 'admin',\r\n    'x-actor-id': userProfile?.id || userProfile?.user_id || '' // Add user UUID if available\r\n  }), [userProfile?.email, userProfile?.id, userProfile?.user_id]);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const url = `${API_BASE}/api/elib/submissions?status=${encodeURIComponent(filter)}&type=${encodeURIComponent(type)}`;\r\n      const res = await fetch(url);\r\n      const json = await res.json();\r\n      if (!res.ok) throw new Error(json?.error || 'Failed to load submissions');\r\n      setItems(Array.isArray(json.submissions) ? json.submissions : []);\r\n    } catch (e) {\r\n      setError(e.message || 'Failed to load submissions');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchSummary = async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/elib/submissions/summary`);\r\n      const json = await res.json();\r\n      if (!res.ok) throw new Error(json?.error || 'Failed to load summary');\r\n      setSummary({\r\n        booksPending: json.booksPending || 0,\r\n        pastPapersPending: json.pastPapersPending || 0,\r\n      });\r\n    } catch (_) {\r\n      // ignore summary errors in UI\r\n    }\r\n  };\r\n\r\n  useEffect(() => { fetchData(); }, [filter, type]);\r\n  useEffect(() => { fetchSummary(); }, []);\r\n\r\n  const approve = async (id) => {\r\n    console.log('Approve called with id:', id, 'type of id:', typeof id);\r\n    \r\n    const item = items.find((x) => x.id === id) || selected;\r\n    console.log('Found item:', item);\r\n    \r\n    const label = type === 'books'\r\n      ? (item?.title || 'this book')\r\n      : (item?.unit_code || item?.unit_name || 'this past paper');\r\n\r\n    // Validate that id is a UUID, not an email\r\n    const uuidPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\r\n    if (!uuidPattern.test(id)) {\r\n      console.error('Invalid submission ID format:', id);\r\n      // If id is not valid but we have selected with valid id, use that\r\n      if (selected?.id && uuidPattern.test(selected.id)) {\r\n        console.log('Recursing with selected.id:', selected.id);\r\n        return approve(selected.id);\r\n      }\r\n      showToast({ type: 'error', message: 'Invalid submission ID format. Please refresh and try again.' });\r\n      return;\r\n    }\r\n\r\n    const ok = await confirm({\r\n      title: `Approve ${type === 'books' ? 'Book' : 'Past Paper'}?`,\r\n      message: `Are you sure you want to approve ${label}? It will become visible to users and count towards the uploader's contributions.`,\r\n      confirmLabel: 'Approve',\r\n      cancelLabel: 'Cancel',\r\n      variant: 'default',\r\n    });\r\n    if (!ok) return;\r\n\r\n    setBusy((prev) => ({ ...prev, [id]: true }));\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/elib/submissions/${id}/approve?type=${encodeURIComponent(type)}`, { method: 'POST', headers });\r\n      const json = await res.json();\r\n      if (!res.ok) throw new Error(json?.error || 'Approve failed');\r\n      setItems((prev) => prev.filter((x) => x.id !== id));\r\n      fetchSummary();\r\n      setSelected(null);\r\n      showToast({ type: 'success', message: `${type === 'books' ? 'Book' : 'Past paper'} approved successfully.` });\r\n    } catch (e) {\r\n      console.error('Approve submission failed:', e);\r\n      showToast({ type: 'error', message: e.message || 'Approve failed.' });\r\n    } finally {\r\n      setBusy((prev) => ({ ...prev, [id]: false }));\r\n    }\r\n  };\r\n\r\n  const reject = async (id) => {\r\n    // Debug: log what was passed\r\n    console.log('Reject called with id:', id, 'type of id:', typeof id);\r\n    \r\n    const item = items.find((x) => x.id === id) || selected;\r\n    console.log('Found item:', item);\r\n    \r\n    const label = type === 'books'\r\n      ? (item?.title || 'this book')\r\n      : (item?.unit_code || item?.unit_name || 'this past paper');\r\n\r\n    // Validate that id is a UUID, not an email\r\n    const uuidPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\r\n    if (!uuidPattern.test(id)) {\r\n      console.error('Invalid submission ID format:', id);\r\n      // If id is not valid but we have selected with valid id, use that\r\n      if (selected?.id && uuidPattern.test(selected.id)) {\r\n        console.log('Recursing with selected.id:', selected.id);\r\n        return reject(selected.id);\r\n      }\r\n      showToast({ type: 'error', message: 'Invalid submission ID format. Please refresh and try again.' });\r\n      return;\r\n    }\r\n\r\n    const reason = await prompt({\r\n      title: `Reject ${type === 'books' ? 'Book' : 'Past Paper'}?`,\r\n      message: `Optionally provide a reason for rejecting ${label}. This may be shared with the uploader.`,\r\n      label: 'Rejection reason',\r\n      defaultValue: '',\r\n      multiline: true,\r\n      confirmLabel: 'Reject',\r\n      cancelLabel: 'Cancel',\r\n      variant: 'danger',\r\n    });\r\n\r\n    if (reason === null) return;\r\n\r\n    setBusy((prev) => ({ ...prev, [id]: true }));\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/elib/submissions/${id}/reject?type=${encodeURIComponent(type)}`, {\r\n        method: 'POST',\r\n        headers,\r\n        body: JSON.stringify({ reason: reason || '' }),\r\n      });\r\n      const json = await res.json();\r\n      if (!res.ok) throw new Error(json?.error || 'Reject failed');\r\n      setItems((prev) => prev.filter((x) => x.id !== id));\r\n      fetchSummary();\r\n      setSelected(null);\r\n      showToast({ type: 'success', message: `${type === 'books' ? 'Book' : 'Past paper'} rejected.` });\r\n    } catch (e) {\r\n      console.error('Reject submission failed:', e);\r\n      showToast({ type: 'error', message: e.message || 'Reject failed.' });\r\n    } finally {\r\n      setBusy((prev) => ({ ...prev, [id]: false }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"panel\">\r\n      <div className=\"panel-title\">Submissions</div>\r\n      <div style={{ color: '#8696a0', fontSize: 12, marginBottom: 8 }}>\r\n        Review and approve or reject user-contributed books and past papers.\r\n      </div>\r\n\r\n      <div className=\"panel\" style={{ marginBottom: 8, display: 'flex', alignItems: 'center', gap: 6, flexWrap: 'wrap' }}>\r\n        <div style={{ display: 'flex', gap: 4 }}>\r\n          <button\r\n            className=\"btn\"\r\n            style={{\r\n              display: 'flex', alignItems: 'center', gap: 4,\r\n              background: type === 'books' ? '#00a884' : 'transparent',\r\n              color: type === 'books' ? '#fff' : '#e9edef',\r\n              borderColor: type === 'books' ? '#00a884' : '#374151',\r\n            }}\r\n            onClick={() => setType('books')}\r\n          >\r\n            <FiBook /> Books\r\n            {summary.booksPending > 0 && (\r\n              <span className=\"notification-badge\" style={{ marginLeft: 4 }}>\r\n                {summary.booksPending > 99 ? '99+' : summary.booksPending}\r\n              </span>\r\n            )}\r\n          </button>\r\n          <button\r\n            className=\"btn\"\r\n            style={{\r\n              display: 'flex', alignItems: 'center', gap: 4,\r\n              background: type === 'past_papers' ? '#00a884' : 'transparent',\r\n              color: type === 'past_papers' ? '#fff' : '#e9edef',\r\n              borderColor: type === 'past_papers' ? '#00a884' : '#374151',\r\n            }}\r\n            onClick={() => setType('past_papers')}\r\n          >\r\n            <FiFileText /> Past Papers\r\n            {summary.pastPapersPending > 0 && (\r\n              <span className=\"notification-badge\" style={{ marginLeft: 4 }}>\r\n                {summary.pastPapersPending > 99 ? '99+' : summary.pastPapersPending}\r\n              </span>\r\n            )}\r\n          </button>\r\n        </div>\r\n\r\n        <select\r\n          className=\"input\"\r\n          value={filter}\r\n          onChange={(e) => setFilter(e.target.value)}\r\n          style={{ maxWidth: 200 }}\r\n        >\r\n          <option value=\"pending\">Pending</option>\r\n          <option value=\"approved\">Approved</option>\r\n          <option value=\"rejected\">Rejected</option>\r\n          <option value=\"all\">All</option>\r\n        </select>\r\n        <button className=\"btn\" onClick={fetchData} style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\r\n          <FiRefreshCw /> Refresh\r\n        </button>\r\n      </div>\r\n\r\n      {error && (\r\n        <div style={{ marginBottom: 8, padding: 6, borderRadius: 4, border: '1px solid rgba(234,67,53,.35)', color: '#ffab91', background: 'rgba(234,67,53,.08)', fontSize: 12 }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      <SubmissionsList\r\n        items={items}\r\n        loading={loading}\r\n        type={type}\r\n        busy={busy}\r\n        onSelect={setSelected}\r\n        onApprove={approve}\r\n        onReject={reject}\r\n      />\r\n\r\n      {selected && (\r\n        <SubmissionDetailModal\r\n          submission={selected}\r\n          type={type}\r\n          busy={busy}\r\n          onClose={() => setSelected(null)}\r\n          onApprove={approve}\r\n          onReject={reject}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Submissions;"],"names":["_ref","items","loading","type","busy","onSelect","onApprove","onReject","_jsx","style","padding","color","fontSize","children","length","display","flexDirection","gap","map","sub","background","border","borderRadius","cursor","onClick","_jsxs","justifyContent","alignItems","minWidth","fontWeight","title","author","isbn","concat","faculty","unit_code","unit_name","marginTop","d","created_at","Date","toLocaleString","status","uploader_email","_Fragment","uploader_name","uploaded_by","String","className","disabled","id","e","stopPropagation","FiCheck","FiX","FiClock","submission","onClose","fmt","zIndex","maxWidth","width","maxHeight","borderBottom","margin","FiBell","overflowY","marginBottom","includes","cover_url","flex","alignSelf","src","alt","objectFit","boxShadow","description","lineHeight","borderTop","gridTemplateColumns","year","publisher","pages","language","wordBreak","toUpperCase","rejection_reason","semester","exam_type","API_BASE","userProfile","setItems","useState","setLoading","error","setError","filter","setFilter","setBusy","setType","summary","setSummary","booksPending","pastPapersPending","selected","setSelected","confirm","prompt","showToast","useAdminUI","headers","useMemo","email","user_id","fetchData","async","url","encodeURIComponent","res","fetch","json","ok","Error","Array","isArray","submissions","message","fetchSummary","_","useEffect","approve","console","log","item","find","x","label","uuidPattern","test","confirmLabel","cancelLabel","variant","prev","_objectSpread","method","reject","reason","defaultValue","multiline","body","JSON","stringify","flexWrap","borderColor","FiBook","marginLeft","FiFileText","value","onChange","target","FiRefreshCw","SubmissionsList","SubmissionDetailModal"],"ignoreList":[],"sourceRoot":""}
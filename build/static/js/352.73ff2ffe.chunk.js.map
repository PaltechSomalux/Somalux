{"version":3,"file":"static/js/352.73ff2ffe.chunk.js","mappings":"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","sources":["SomaLux/Books/Admin/pages/AdvancedAdsManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../../../config';\r\nimport { FiTrash2, FiEdit2, FiPlus, FiVideo, FiImage, FiBarChart2, FiTrendingUp, FiUsers, FiMousePointer } from 'react-icons/fi';\r\nimport './AdvancedAdsManagement.css';\r\n\r\nexport default function AdvancedAdsManagement() {\r\n  const [ads, setAds] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('ads');\r\n  const [adType, setAdType] = useState('image');\r\n  const [uploading, setUploading] = useState(false);\r\n  \r\n  // Analytics state\r\n  const [selectedAnalyticsAd, setSelectedAnalyticsAd] = useState(null);\r\n  const [analytics, setAnalytics] = useState(null);\r\n  const [engagement, setEngagement] = useState(null);\r\n  const [analyticsLoading, setAnalyticsLoading] = useState(false);\r\n  const [dateRange, setDateRange] = useState({\r\n    startDate: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\r\n    endDate: new Date().toISOString().split('T')[0]\r\n  });\r\n\r\n  const [formData, setFormData] = useState({\r\n    // Basic info\r\n    title: '',\r\n    adType: 'image',\r\n    placement: 'homepage',\r\n    \r\n    // Image ad\r\n    imageUrl: '',\r\n    \r\n    // Video ad\r\n    videoUrl: '',\r\n    videoDuration: 0,\r\n    videoThumbnailUrl: '',\r\n    \r\n    // Common\r\n    clickUrl: '',\r\n    ctaText: 'Learn More',\r\n    ctaButtonColor: '#00a884',\r\n    startDate: new Date().toISOString().split('T')[0],\r\n    endDate: '',\r\n    countdownSeconds: 10,\r\n    isSkippable: true,\r\n    \r\n    // Advanced\r\n    budget: '',\r\n    dailyBudget: '',\r\n    costPerClick: 0.5,\r\n    minAge: 0,\r\n    maxAge: 100,\r\n    targetGender: 'all',\r\n    targetDevices: ['mobile', 'tablet', 'desktop'],\r\n    frequencyCap: 0,\r\n    conversionTracking: false,\r\n    conversionUrl: '',\r\n    status: 'draft',\r\n    priority: 0,\r\n    abTestGroup: 'control',\r\n  });\r\n\r\n  // Fetch all ads\r\n  const fetchAds = async () => {\r\n    try {\r\n      setLoading(true);\r\n      console.log('ðŸ”„ [FETCH_ADS] Fetching ads from backend...');\r\n      const response = await axios.get(`${API_URL}/api/admin/ads/all`);\r\n      console.log('âœ… [FETCH_ADS] Response:', response.data);\r\n      console.log('âœ… [FETCH_ADS] Ads array:', response.data.data);\r\n      setAds(response.data.data || []);\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('âŒ [FETCH_ADS] Error:', err);\r\n      setError('Failed to load ads. Make sure backend is running.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n\r\n  // Analytics functions\r\n  const fetchAnalytics = async (adId) => {\r\n    try {\r\n      setAnalyticsLoading(true);\r\n      console.log('ðŸ“ˆ [Analytics] Fetching detailed metrics for ad:', adId);\r\n      const response = await axios.get(`${API_URL}/api/admin/analytics/${adId}`);\r\n      console.log('âœ… [Analytics] Metrics received:', response.data.data);\r\n      setAnalytics(response.data.data);\r\n    } catch (err) {\r\n      console.error('âŒ [Analytics] Failed to fetch analytics:', err);\r\n    } finally {\r\n      setAnalyticsLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchEngagement = async (adId) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `${API_URL}/api/admin/analytics/${adId}/engagement`,\r\n        {\r\n          params: {\r\n            startDate: dateRange.startDate,\r\n            endDate: dateRange.endDate\r\n          }\r\n        }\r\n      );\r\n      setEngagement(response.data.data);\r\n    } catch (err) {\r\n      console.error('Failed to fetch engagement:', err);\r\n    }\r\n  };\r\n\r\n  const handleDateRangeChange = (field, value) => {\r\n    setDateRange(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const refreshEngagement = () => {\r\n    if (selectedAnalyticsAd) {\r\n      fetchEngagement(selectedAnalyticsAd.id);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAds();\r\n  }, []);\r\n\r\n  // Fetch analytics when selected ad changes\r\n  useEffect(() => {\r\n    if (selectedAnalyticsAd) {\r\n      fetchAnalytics(selectedAnalyticsAd.id);\r\n      fetchEngagement(selectedAnalyticsAd.id);\r\n    }\r\n  }, [selectedAnalyticsAd]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n    setError(null);\r\n  };\r\n\r\n  // Handle device selection\r\n  const handleDeviceChange = (device) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      targetDevices: prev.targetDevices.includes(device)\r\n        ? prev.targetDevices.filter(d => d !== device)\r\n        : [...prev.targetDevices, device]\r\n    }));\r\n  };\r\n\r\n  // Handle file upload\r\n  const handleFileUpload = async (e, fileType = 'image') => {\r\n    const file = e.target.files[0];\r\n    console.log('ðŸ“¤ [UPLOAD] File selected:', { fileType, fileName: file?.name, fileSize: file?.size });\r\n    if (!file) {\r\n      console.warn('âš ï¸ [UPLOAD] No file selected');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setUploading(true);\r\n      const reader = new FileReader();\r\n      \r\n      reader.onload = async (event) => {\r\n        const base64Data = event.target.result.split(',')[1];\r\n        console.log('ðŸ“¸ [UPLOAD] Base64 ready, size:', base64Data.length);\r\n        \r\n        try {\r\n          const mimeType = fileType === 'video' ? 'video/mp4' : file.type;\r\n          console.log('ðŸš€ [UPLOAD] Sending to backend:', { fileType, mimeType });\r\n          const response = await axios.post(`http://localhost:5000/api/upload/${fileType}`, {\r\n            fileName: file.name,\r\n            fileData: base64Data,\r\n            mimeType: mimeType\r\n          });\r\n\r\n          console.log('âœ… [UPLOAD] Response:', response.data);\r\n          console.log('âœ… [UPLOAD] Response keys:', Object.keys(response.data));\r\n          console.log('âœ… [UPLOAD] filePath value:', response.data.filePath);\r\n\r\n          if (response.data.success) {\r\n            if (fileType === 'video') {\r\n              setFormData(prev => ({\r\n                ...prev,\r\n                videoUrl: response.data.filePath || response.data.imagePath,\r\n                videoDuration: response.data.duration || 0\r\n              }));\r\n              console.log('âœ… [UPLOAD] Video URL set:', response.data.filePath || response.data.imagePath);\r\n            } else if (fileType === 'thumbnail') {\r\n              setFormData(prev => ({\r\n                ...prev,\r\n                videoThumbnailUrl: response.data.filePath || response.data.imagePath\r\n              }));\r\n              console.log('âœ… [UPLOAD] Thumbnail URL set:', response.data.filePath || response.data.imagePath);\r\n            } else {\r\n              setFormData(prev => ({\r\n                ...prev,\r\n                imageUrl: response.data.filePath || response.data.imagePath\r\n              }));\r\n              console.log('âœ… [UPLOAD] Image URL set:', response.data.filePath || response.data.imagePath);\r\n            }\r\n            setSuccess(`${fileType.charAt(0).toUpperCase() + fileType.slice(1)} uploaded successfully!`);\r\n            setTimeout(() => setSuccess(null), 3000);\r\n          } else {\r\n            console.error('âŒ [UPLOAD] Response not successful:', response.data);\r\n          }\r\n        } catch (err) {\r\n          console.error('âŒ [UPLOAD] Error:', err);\r\n          console.error('âŒ [UPLOAD] Response:', err.response?.data);\r\n          setError(err.response?.data?.error || `Failed to upload ${fileType}`);\r\n        } finally {\r\n          setUploading(false);\r\n        }\r\n      };\r\n\r\n      reader.readAsDataURL(file);\r\n    } catch (err) {\r\n      console.error('âŒ [FILE_READ] Error:', err);\r\n      setError('Failed to read file');\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  // Handle form submit\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Validation\r\n    if (!formData.title) {\r\n      setError('Please enter ad title');\r\n      return;\r\n    }\r\n\r\n    if (formData.adType === 'image' && !formData.imageUrl) {\r\n      setError('Please upload an image');\r\n      return;\r\n    }\r\n\r\n    if (formData.adType === 'video' && !formData.videoUrl) {\r\n      setError('Please upload a video');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const payload = {\r\n        title: formData.title,\r\n        adType: formData.adType,\r\n        imageUrl: formData.imageUrl || null,\r\n        videoUrl: formData.videoUrl || null,\r\n        videoDuration: parseInt(formData.videoDuration) || 0,\r\n        videoThumbnailUrl: formData.videoThumbnailUrl || null,\r\n        clickUrl: formData.clickUrl || null,\r\n        ctaText: formData.ctaText,\r\n        ctaButtonColor: formData.ctaButtonColor,\r\n        placement: formData.placement,\r\n        startDate: formData.startDate,\r\n        endDate: formData.endDate || null,\r\n        countdownSeconds: parseInt(formData.countdownSeconds) || 10,\r\n        isSkippable: formData.isSkippable,\r\n        budget: parseFloat(formData.budget) || 0,\r\n        dailyBudget: parseFloat(formData.dailyBudget) || 0,\r\n        costPerClick: parseFloat(formData.costPerClick) || 0.5,\r\n        minAge: parseInt(formData.minAge) || 0,\r\n        maxAge: parseInt(formData.maxAge) || 100,\r\n        targetGender: formData.targetGender,\r\n        targetDevices: JSON.stringify(formData.targetDevices),\r\n        frequencyCap: parseInt(formData.frequencyCap) || 0,\r\n        conversionTracking: formData.conversionTracking,\r\n        conversionUrl: formData.conversionUrl || null,\r\n        status: formData.status,\r\n        priority: parseInt(formData.priority) || 0,\r\n        abTestGroup: formData.abTestGroup,\r\n      };\r\n\r\n      console.log('ðŸ“¤ [SAVE_AD] FULL Payload:', JSON.stringify(payload, null, 2));\r\n      console.log('ðŸ“¤ [SAVE_AD] FormData state:', formData);\r\n      console.log('ðŸ“¤ [SAVE_AD] FormData.placement:', formData.placement);\r\n\r\n      if (editingId) {\r\n        const response = await axios.put(\r\n          `${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/admin/ads/${editingId}`,\r\n          payload\r\n        );\r\n        setAds(ads.map(ad => ad.id === editingId ? response.data.data : ad));\r\n        setSuccess('Ad updated successfully!');\r\n      } else {\r\n        console.log('ðŸ“¤ [SAVE_AD] POSTing to backend...');\r\n        const response = await axios.post(\r\n          `${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/admin/ads`,\r\n          payload\r\n        );\r\n        console.log('âœ… [SAVE_AD] Response:', response.data);\r\n        setAds([...ads, response.data.data]);\r\n        setSuccess('Ad created successfully!');\r\n      }\r\n\r\n      resetForm();\r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      console.error('âŒ [SAVE_AD] Error:', err);\r\n      console.error('âŒ [SAVE_AD] Error response:', err.response?.data);\r\n      console.error('âŒ [SAVE_AD] Full error:', err.response);\r\n      setError(err.response?.data?.error || 'Failed to save ad');\r\n    }\r\n  };\r\n\r\n  // Handle delete\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm('Are you sure you want to delete this ad?')) return;\r\n\r\n    try {\r\n      await axios.delete(`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/admin/ads/${id}`);\r\n      setAds(ads.filter(ad => ad.id !== id));\r\n      setSuccess('Ad deleted successfully!');\r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      console.error('Failed to delete ad:', err);\r\n      setError('Failed to delete ad');\r\n    }\r\n  };\r\n\r\n  // Handle edit\r\n  const handleEdit = (ad) => {\r\n    setAdType(ad.ad_type || 'image');\r\n    setFormData({\r\n      title: ad.title,\r\n      adType: ad.ad_type || 'image',\r\n      imageUrl: ad.image_url || '',\r\n      videoUrl: ad.video_url || '',\r\n      videoDuration: ad.video_duration || 0,\r\n      videoThumbnailUrl: ad.video_thumbnail_url || '',\r\n      clickUrl: ad.click_url || '',\r\n      ctaText: ad.cta_text || 'Learn More',\r\n      ctaButtonColor: ad.cta_button_color || '#00a884',\r\n      placement: ad.placement,\r\n      startDate: ad.start_date ? ad.start_date.split('T')[0] : new Date().toISOString().split('T')[0],\r\n      endDate: ad.end_date ? ad.end_date.split('T')[0] : '',\r\n      countdownSeconds: ad.countdown_seconds || 10,\r\n      isSkippable: ad.is_skippable !== undefined ? ad.is_skippable : true,\r\n      budget: ad.budget || '',\r\n      dailyBudget: ad.daily_budget || '',\r\n      costPerClick: ad.cost_per_click || 0.5,\r\n      minAge: ad.min_age || 0,\r\n      maxAge: ad.max_age || 100,\r\n      targetGender: ad.target_gender || 'all',\r\n      targetDevices: ad.target_devices ? JSON.parse(ad.target_devices) : ['mobile', 'tablet', 'desktop'],\r\n      frequencyCap: ad.frequency_cap || 0,\r\n      conversionTracking: ad.conversion_tracking || false,\r\n      conversionUrl: ad.conversion_url || '',\r\n      status: ad.status || 'draft',\r\n      priority: ad.priority || 0,\r\n      abTestGroup: ad.ab_test_group || 'control',\r\n    });\r\n    setEditingId(ad.id);\r\n    setShowForm(true);\r\n  };\r\n\r\n  // Reset form\r\n  const resetForm = () => {\r\n    setFormData({\r\n      title: '',\r\n      adType: 'image',\r\n      placement: 'homepage',\r\n      imageUrl: '',\r\n      videoUrl: '',\r\n      videoDuration: 0,\r\n      videoThumbnailUrl: '',\r\n      clickUrl: '',\r\n      ctaText: 'Learn More',\r\n      ctaButtonColor: '#00a884',\r\n      startDate: new Date().toISOString().split('T')[0],\r\n      endDate: '',\r\n      countdownSeconds: 10,\r\n      isSkippable: true,\r\n      budget: '',\r\n      dailyBudget: '',\r\n      costPerClick: 0.5,\r\n      minAge: 0,\r\n      maxAge: 100,\r\n      targetGender: 'all',\r\n      targetDevices: ['mobile', 'tablet', 'desktop'],\r\n      frequencyCap: 0,\r\n      conversionTracking: false,\r\n      conversionUrl: '',\r\n      status: 'draft',\r\n      priority: 0,\r\n      abTestGroup: 'control',\r\n    });\r\n    setAdType('image');\r\n    setEditingId(null);\r\n    setShowForm(false);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"ads-management\">\r\n        <div className=\"ads-loading\">Loading ads...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"ads-management advanced\">\r\n      {/* Enhanced Header with Stats */}\r\n      <div className=\"ads-header-enhanced\">\r\n        <div className=\"header-main\">\r\n          <div className=\"header-title-section\">\r\n            <h1>Ad Management</h1>\r\n            <p>Create, edit, and manage advertisements with video support</p>\r\n          </div>\r\n          \r\n          {/* Quick Stats */}\r\n          <div className=\"header-stats\">\r\n            <div className=\"stat-item\">\r\n              <span className=\"stat-label\">Total Ads</span>\r\n              <span className=\"stat-value\">{ads.length}</span>\r\n            </div>\r\n            <div className=\"stat-item\">\r\n              <span className=\"stat-label\">Active</span>\r\n              <span className=\"stat-value\">{ads.filter(a => a.status === 'active').length}</span>\r\n            </div>\r\n            <div className=\"stat-item\">\r\n              <span className=\"stat-label\">Total Views</span>\r\n              <span className=\"stat-value\">{ads.reduce((sum, a) => sum + (a.total_impressions || 0), 0).toLocaleString()}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"ads-error\">\r\n          <span>{error}</span>\r\n          <button onClick={() => setError(null)}>Ã—</button>\r\n        </div>\r\n      )}\r\n\r\n      {success && (\r\n        <div className=\"ads-success\">\r\n          <span>{success}</span>\r\n          <button onClick={() => setSuccess(null)}>Ã—</button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Navigation Tabs */}\r\n      <div className=\"ads-tabs-container\">\r\n        <div className=\"ads-tabs\">\r\n          <button \r\n            className={`tab ${activeTab === 'ads' ? 'active' : ''}`}\r\n            onClick={() => { setActiveTab('ads'); setShowForm(false); }}\r\n          >\r\n            <span className=\"tab-icon\">ðŸ“Š</span>\r\n            <span className=\"tab-text\">Ads</span>\r\n            <span className=\"tab-count\">{ads.length}</span>\r\n          </button>\r\n          <button \r\n            className={`tab ${activeTab === 'analytics' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('analytics')}\r\n          >\r\n            <span className=\"tab-icon\">ðŸ“ˆ</span>\r\n            <span className=\"tab-text\">Analytics</span>\r\n            <span className=\"tab-count\">{selectedAnalyticsAd ? '1' : '-'}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Create Ad Button - Left Aligned Below Tabs */}\r\n      {!showForm && activeTab === 'ads' && (\r\n        <div className=\"header-actions\">\r\n          <button className=\"btn-create-ad\" onClick={() => setShowForm(true)}>\r\n            <FiPlus size={18} />\r\n            <span>Create Ad</span>\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Form */}\r\n      {showForm && activeTab === 'ads' && (\r\n        <div className=\"ads-form-container\">\r\n          <h2>{editingId ? 'Edit Ad' : 'Create Ad'}</h2>\r\n          \r\n          {/* Ad Type Selection */}\r\n          <div className=\"ad-type-selection\">\r\n            <button\r\n              type=\"button\"\r\n              className={`type-btn ${formData.adType === 'image' ? 'active' : ''}`}\r\n              onClick={() => {\r\n                setFormData({ ...formData, adType: 'image' });\r\n                setAdType('image');\r\n              }}\r\n            >\r\n              <FiImage /> Image Ad\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className={`type-btn ${formData.adType === 'video' ? 'active' : ''}`}\r\n              onClick={() => {\r\n                setFormData({ ...formData, adType: 'video' });\r\n                setAdType('video');\r\n              }}\r\n            >\r\n              <FiVideo /> Video Ad\r\n            </button>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit} className=\"ads-form\">\r\n            {/* Basic Information & Timing Section */}\r\n            <fieldset className=\"form-section\">\r\n              <legend>ðŸ“‹ Basic Information & Timing</legend>\r\n              \r\n              {/* Row 1: Title, Placement, Status, Priority */}\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group\">\r\n                  <label>Title *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    value={formData.title}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Ad title\"\r\n                    required\r\n                    style={{ minWidth: '180px' }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Placement *</label>\r\n                  <select\r\n                    name=\"placement\"\r\n                    value={formData.placement}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  >\r\n                    <optgroup label=\"Regular Placements\">\r\n                      <option value=\"homepage\">Homepage</option>\r\n                      <option value=\"books\">Books</option>\r\n                      <option value=\"authors\">Authors</option>\r\n                      <option value=\"categories\">Categories</option>\r\n                      <option value=\"pastpapers\">Past Papers</option>\r\n                      <option value=\"papers\">Papers</option>\r\n                    </optgroup>\r\n                    <optgroup label=\"Grid Card Placements\">\r\n                      <option value=\"grid-books\">Grid - Books</option>\r\n                      <option value=\"grid-authors\">Grid - Authors</option>\r\n                      <option value=\"grid-categories\">Grid - Categories</option>\r\n                      <option value=\"grid-pastpapers\">Grid - Past Papers</option>\r\n                      <option value=\"grid-campus\">Grid - Campus/Universities</option>\r\n                      <option value=\"grid-papers\">Grid - Papers</option>\r\n                    </optgroup>\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Status</label>\r\n                  <select\r\n                    name=\"status\"\r\n                    value={formData.status}\r\n                    onChange={handleInputChange}\r\n                  >\r\n                    <option value=\"draft\">Draft</option>\r\n                    <option value=\"scheduled\">Scheduled</option>\r\n                    <option value=\"active\">Active</option>\r\n                    <option value=\"paused\">Paused</option>\r\n                    <option value=\"completed\">Completed</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Priority</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"priority\"\r\n                    value={formData.priority}\r\n                    onChange={handleInputChange}\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    placeholder=\"0-100\"\r\n                    style={{ width: '80px' }}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Row 2: Start Date, End Date, Countdown, Skippable */}\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group\">\r\n                  <label>Start Date</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"startDate\"\r\n                    value={formData.startDate}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>End Date</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"endDate\"\r\n                    value={formData.endDate}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Countdown (sec)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"countdownSeconds\"\r\n                    value={formData.countdownSeconds}\r\n                    onChange={handleInputChange}\r\n                    min=\"3\"\r\n                    max=\"60\"\r\n                    style={{ width: '80px' }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      name=\"isSkippable\"\r\n                      checked={formData.isSkippable}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                    Skippable\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </fieldset>\r\n\r\n            {/* Media & CTA Section */}\r\n            <fieldset className=\"form-section\">\r\n              <legend>ðŸŽ¨ Media & CTA</legend>\r\n\r\n              {formData.adType === 'image' && (\r\n                <div className=\"form-group\">\r\n                  <label>Image *</label>\r\n                  <div className=\"upload-section\">\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      onChange={(e) => handleFileUpload(e, 'image')}\r\n                      disabled={uploading}\r\n                      className=\"file-input\"\r\n                    />\r\n                    {uploading && <span className=\"upload-status\">Uploading...</span>}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {formData.adType === 'video' && (\r\n                <>\r\n                  <div className=\"form-group\">\r\n                    <label>Video File *</label>\r\n                    <div className=\"upload-section\">\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"video/mp4\"\r\n                        onChange={(e) => handleFileUpload(e, 'video')}\r\n                        disabled={uploading}\r\n                        className=\"file-input\"\r\n                      />\r\n                      {uploading && <span className=\"upload-status\">Uploading...</span>}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label>Thumbnail Image</label>\r\n                    <div className=\"upload-section\">\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={(e) => handleFileUpload(e, 'thumbnail')}\r\n                        disabled={uploading}\r\n                        className=\"file-input\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group\">\r\n                  <label>CTA Text</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"ctaText\"\r\n                    value={formData.ctaText}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Learn More\"\r\n                    style={{ minWidth: '120px' }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>CTA Color</label>\r\n                  <input\r\n                    type=\"color\"\r\n                    name=\"ctaButtonColor\"\r\n                    value={formData.ctaButtonColor}\r\n                    onChange={handleInputChange}\r\n                    style={{ height: '28px', width: '50px', cursor: 'pointer' }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Click URL</label>\r\n                  <input\r\n                    type=\"url\"\r\n                    name=\"clickUrl\"\r\n                    value={formData.clickUrl}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"https://example.com\"\r\n                    style={{ minWidth: '180px' }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </fieldset>\r\n\r\n            {/* Budget & Conversion Section */}\r\n            <fieldset className=\"form-section\">\r\n              <legend>ðŸ’° Budget & Conversion</legend>\r\n\r\n              {/* Row 1: Budget Fields */}\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group\">\r\n                  <label>Total Budget</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"budget\"\r\n                    value={formData.budget}\r\n                    onChange={handleInputChange}\r\n                    step=\"0.01\"\r\n                    min=\"0\"\r\n                    placeholder=\"0.00\"\r\n                    style={{ width: '90px' }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Daily Budget</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"dailyBudget\"\r\n                    value={formData.dailyBudget}\r\n                    onChange={handleInputChange}\r\n                    step=\"0.01\"\r\n                    min=\"0\"\r\n                    placeholder=\"0.00\"\r\n                    style={{ width: '90px' }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Cost Per Click</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"costPerClick\"\r\n                    value={formData.costPerClick}\r\n                    onChange={handleInputChange}\r\n                    step=\"0.01\"\r\n                    min=\"0\"\r\n                    placeholder=\"0.00\"\r\n                    style={{ width: '90px' }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>A/B Test</label>\r\n                  <select\r\n                    name=\"abTestGroup\"\r\n                    value={formData.abTestGroup}\r\n                    onChange={handleInputChange}\r\n                  >\r\n                    <option value=\"control\">Control</option>\r\n                    <option value=\"variant_a\">Variant A</option>\r\n                    <option value=\"variant_b\">Variant B</option>\r\n                    <option value=\"variant_c\">Variant C</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Row 2: Conversion Tracking */}\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group\">\r\n                  <label>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      name=\"conversionTracking\"\r\n                      checked={formData.conversionTracking}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                    Enable Conversion Tracking\r\n                  </label>\r\n                </div>\r\n\r\n                {formData.conversionTracking && (\r\n                  <div className=\"form-group\">\r\n                    <label>Conversion URL</label>\r\n                    <input\r\n                      type=\"url\"\r\n                      name=\"conversionUrl\"\r\n                      value={formData.conversionUrl}\r\n                      onChange={handleInputChange}\r\n                      placeholder=\"https://analytics.example.com/pixel\"\r\n                      style={{ minWidth: '200px' }}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </fieldset>\r\n\r\n            {/* Targeting & Advanced Section */}\r\n            <fieldset className=\"form-section\">\r\n              <legend>ðŸŽ¯ Targeting</legend>\r\n\r\n              {/* Row 1: Demographics */}\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group\">\r\n                  <label>Gender</label>\r\n                  <select\r\n                    name=\"targetGender\"\r\n                    value={formData.targetGender}\r\n                    onChange={handleInputChange}\r\n                  >\r\n                    <option value=\"all\">All</option>\r\n                    <option value=\"male\">Male</option>\r\n                    <option value=\"female\">Female</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Min Age</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"minAge\"\r\n                    value={formData.minAge}\r\n                    onChange={handleInputChange}\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    style={{ width: '70px' }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Max Age</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"maxAge\"\r\n                    value={formData.maxAge}\r\n                    onChange={handleInputChange}\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    style={{ width: '70px' }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Frequency Cap</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"frequencyCap\"\r\n                    value={formData.frequencyCap}\r\n                    onChange={handleInputChange}\r\n                    min=\"0\"\r\n                    placeholder=\"Unlimited\"\r\n                    style={{ width: '80px' }}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Row 2: Devices */}\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group\">\r\n                  <label>Target Devices</label>\r\n                  <div className=\"checkbox-group\">\r\n                    {['mobile', 'tablet', 'desktop'].map(device => (\r\n                      <label key={device} className=\"checkbox-label\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={formData.targetDevices.includes(device)}\r\n                          onChange={() => handleDeviceChange(device)}\r\n                        />\r\n                        {device.charAt(0).toUpperCase() + device.slice(1)}\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </fieldset>\r\n\r\n            {/* Form Actions */}\r\n            <div className=\"form-actions\">\r\n              <button type=\"submit\" className=\"btn-primary\">\r\n                {editingId ? 'âœï¸ Update' : 'âž• Create Ad'}\r\n              </button>\r\n              <button \r\n                type=\"button\" \r\n                className=\"btn-secondary\"\r\n                onClick={resetForm}\r\n              >\r\n                âœ• Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {/* Ads List - Compact Table */}\r\n      {activeTab === 'ads' && !showForm && (\r\n        <div className=\"ads-list\">\r\n          {ads.length === 0 ? (\r\n            <div className=\"no-ads\">\r\n              <p>No ads yet. Create your first ad!</p>\r\n            </div>\r\n          ) : (\r\n            <table className=\"ads-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Title</th>\r\n                  <th>Type</th>\r\n                  <th>Placement</th>\r\n                  <th>Status</th>\r\n                  <th>Impressions</th>\r\n                  <th>Clicks</th>\r\n                  <th>CTR</th>\r\n                  <th>Start Date</th>\r\n                  <th>End Date</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {ads.map(ad => (\r\n                  <tr key={ad.id} className={`ad-row ${ad.status}`}>\r\n                    <td className=\"title-cell\">\r\n                      <div className=\"title-with-thumb\">\r\n                        {ad.ad_type === 'video' ? (\r\n                          <div className=\"ad-thumb video\">ðŸŽ¥</div>\r\n                        ) : (\r\n                          <>\r\n                            {ad.image_url && (\r\n                              <img src={ad.image_url} alt={ad.title} className=\"ad-thumb\" />\r\n                            )}\r\n                          </>\r\n                        )}\r\n                        <span>{ad.title}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"type-cell\">\r\n                      <span className=\"badge-type\">{ad.ad_type?.toUpperCase() || 'IMAGE'}</span>\r\n                    </td>\r\n                    <td>{ad.placement}</td>\r\n                    <td>\r\n                      <span className={`status-badge ${ad.status}`}>\r\n                        {ad.status?.charAt(0).toUpperCase() + ad.status?.slice(1) || 'Active'}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"number\">{ad.total_impressions || 0}</td>\r\n                    <td className=\"number\">{ad.total_clicks || 0}</td>\r\n                    <td className=\"number\">\r\n                      {ad.total_impressions > 0 \r\n                        ? (((ad.total_clicks || 0) / ad.total_impressions) * 100).toFixed(2) \r\n                        : 0}%\r\n                    </td>\r\n                    <td className=\"date-cell\">\r\n                      {ad.start_date ? new Date(ad.start_date).toLocaleDateString('en-US', {month: 'short', day: 'numeric'}) : 'â€”'}\r\n                    </td>\r\n                    <td className=\"date-cell\">\r\n                      {ad.end_date ? new Date(ad.end_date).toLocaleDateString('en-US', {month: 'short', day: 'numeric'}) : 'â€”'}\r\n                    </td>\r\n                    <td className=\"actions-cell\">\r\n                      <div className=\"actions\">\r\n                        <button \r\n                          className=\"btn-small edit\"\r\n                          onClick={() => handleEdit(ad)}\r\n                          title=\"Edit ad\"\r\n                        >\r\n                          <FiEdit2 />\r\n                        </button>\r\n                        <button \r\n                          className=\"btn-small delete\"\r\n                          onClick={() => handleDelete(ad.id)}\r\n                          title=\"Delete ad\"\r\n                        >\r\n                          <FiTrash2 />\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Analytics Tab */}\r\n      {activeTab === 'analytics' && (\r\n        <div className=\"analytics-section\">\r\n          <div className=\"analytics-header-section\">\r\n            <h3>ï¿½ Ad Performance Analytics</h3>\r\n            <p>Real-time tracking of impressions, clicks, and engagement metrics</p>\r\n          </div>\r\n\r\n          {/* Enhanced Ads Performance Table */}\r\n          <div className=\"ads-performance-table-wrapper\">\r\n            <h2>All Ads Performance Overview</h2>\r\n            <div className=\"ads-performance-table\">\r\n              <div className=\"table-header\">\r\n                <div className=\"col-title\">Ad Title</div>\r\n                <div className=\"col-placement\">Placement</div>\r\n                <div className=\"col-impressions\">Impressions</div>\r\n                <div className=\"col-clicks\">Clicks</div>\r\n                <div className=\"col-dismisses\">Dismisses</div>\r\n                <div className=\"col-ctr\">CTR %</div>\r\n                <div className=\"col-engagement\">Engagement %</div>\r\n              </div>\r\n              <div className=\"table-body\">\r\n                {ads.map(ad => (\r\n                  <div \r\n                    key={ad.id} \r\n                    className={`table-row ${selectedAnalyticsAd?.id === ad.id ? 'active' : ''}`}\r\n                    onClick={() => {\r\n                      setSelectedAnalyticsAd(ad);\r\n                      fetchAnalytics(ad.id);\r\n                      fetchEngagement(ad.id);\r\n                    }}\r\n                  >\r\n                    <div className=\"col-title\">{ad.title}</div>\r\n                    <div className=\"col-placement\">\r\n                      <span className=\"placement-badge\">{ad.placement}</span>\r\n                    </div>\r\n                    <div className=\"col-impressions\">{ad.total_impressions || 0}</div>\r\n                    <div className=\"col-clicks\">{ad.total_clicks || 0}</div>\r\n                    <div className=\"col-dismisses\">{ad.total_dismisses || 0}</div>\r\n                    <div className=\"col-ctr\">\r\n                      {ad.total_impressions > 0 \r\n                        ? (((ad.total_clicks || 0) / ad.total_impressions) * 100).toFixed(1)\r\n                        : 0}%\r\n                    </div>\r\n                    <div className=\"col-engagement\">\r\n                      {ad.total_impressions > 0 \r\n                        ? (((ad.total_clicks + ad.total_dismisses) / ad.total_impressions) * 100).toFixed(1)\r\n                        : 0}%\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {selectedAnalyticsAd && (\r\n            <>\r\n              {/* Selected Ad Details Panel */}\r\n              <div className=\"selected-ad-analytics-panel\">\r\n                <h2>ðŸ“ˆ Analytics Details: {selectedAnalyticsAd.title}</h2>\r\n\r\n                {/* Key Metrics Grid */}\r\n                <div className=\"key-metrics-grid\">\r\n                  <div className=\"key-metric\">\r\n                    <span className=\"label\">Total Impressions</span>\r\n                    <span className=\"value\">{selectedAnalyticsAd.total_impressions || 0}</span>\r\n                  </div>\r\n                  <div className=\"key-metric\">\r\n                    <span className=\"label\">Total Clicks</span>\r\n                    <span className=\"value highlight-blue\">{selectedAnalyticsAd.total_clicks || 0}</span>\r\n                  </div>\r\n                  <div className=\"key-metric\">\r\n                    <span className=\"label\">Total Dismisses</span>\r\n                    <span className=\"value highlight-red\">{selectedAnalyticsAd.total_dismisses || 0}</span>\r\n                  </div>\r\n                  <div className=\"key-metric\">\r\n                    <span className=\"label\">Click-Through Rate</span>\r\n                    <span className=\"value highlight-green\">\r\n                      {selectedAnalyticsAd.total_impressions > 0 \r\n                        ? (((selectedAnalyticsAd.total_clicks || 0) / selectedAnalyticsAd.total_impressions) * 100).toFixed(1)\r\n                        : 0}%\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"key-metric\">\r\n                    <span className=\"label\">Engagement Rate</span>\r\n                    <span className=\"value highlight-purple\">\r\n                      {selectedAnalyticsAd.total_impressions > 0 \r\n                        ? (((selectedAnalyticsAd.total_clicks + selectedAnalyticsAd.total_dismisses) / selectedAnalyticsAd.total_impressions) * 100).toFixed(1)\r\n                        : 0}%\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"key-metric\">\r\n                    <span className=\"label\">Completion Rate</span>\r\n                    <span className=\"value highlight-yellow\">\r\n                      {selectedAnalyticsAd.total_impressions > 0\r\n                        ? (((selectedAnalyticsAd.total_impressions - selectedAnalyticsAd.total_dismisses) / selectedAnalyticsAd.total_impressions) * 100).toFixed(1)\r\n                        : 0}%\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Ad Info & Device Breakdown */}\r\n                <div className=\"analytics-grid\">\r\n                  {/* Ad Information */}\r\n                  <div className=\"ad-info-card\">\r\n                    <h3>Ad Information</h3>\r\n                    <div className=\"info-row\">\r\n                      <span className=\"label\">Status:</span>\r\n                      <span className={`value status-badge ${selectedAnalyticsAd.is_active ? 'active' : 'inactive'}`}>\r\n                        {selectedAnalyticsAd.is_active ? 'â— Active' : 'â—‹ Inactive'}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"info-row\">\r\n                      <span className=\"label\">Dismiss Rate:</span>\r\n                      <span className=\"value\">{selectedAnalyticsAd.dismissRate || 0}%</span>\r\n                    </div>\r\n                    <div className=\"info-row\">\r\n                      <span className=\"label\">Avg View Duration:</span>\r\n                      <span className=\"value\">{analytics?.metrics?.avgViewDuration || 0}s</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Device Breakdown */}\r\n                  <div className=\"device-breakdown-card\">\r\n                    <h3>Device Breakdown</h3>\r\n                    {(() => {\r\n                      const mobile = analytics?.metrics?.deviceBreakdown?.mobile || 0;\r\n                      const tablet = analytics?.metrics?.deviceBreakdown?.tablet || 0;\r\n                      const desktop = analytics?.metrics?.deviceBreakdown?.desktop || 0;\r\n                      const total = mobile + tablet + desktop;\r\n                      return (\r\n                        <div className=\"device-rows\">\r\n                          <div className=\"device-item\">\r\n                            <span className=\"device-name\">ðŸ“± Mobile</span>\r\n                            <span className=\"device-count\">{mobile}</span>\r\n                            <div className=\"device-bar-small\">\r\n                              <div className=\"bar mobile\" style={{width: total > 0 ? ((mobile / total) * 100) : 0 + '%'}}></div>\r\n                            </div>\r\n                            <span className=\"device-pct\">{total > 0 ? ((mobile / total) * 100).toFixed(1) : 0}%</span>\r\n                          </div>\r\n                          <div className=\"device-item\">\r\n                            <span className=\"device-name\">ðŸ“± Tablet</span>\r\n                            <span className=\"device-count\">{tablet}</span>\r\n                            <div className=\"device-bar-small\">\r\n                              <div className=\"bar tablet\" style={{width: total > 0 ? ((tablet / total) * 100) : 0 + '%'}}></div>\r\n                            </div>\r\n                            <span className=\"device-pct\">{total > 0 ? ((tablet / total) * 100).toFixed(1) : 0}%</span>\r\n                          </div>\r\n                          <div className=\"device-item\">\r\n                            <span className=\"device-name\">ðŸ–¥ï¸ Desktop</span>\r\n                            <span className=\"device-count\">{desktop}</span>\r\n                            <div className=\"device-bar-small\">\r\n                              <div className=\"bar desktop\" style={{width: total > 0 ? ((desktop / total) * 100) : 0 + '%'}}></div>\r\n                            </div>\r\n                            <span className=\"device-pct\">{total > 0 ? ((desktop / total) * 100).toFixed(1) : 0}%</span>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })()}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Date Range & Engagement Timeline */}\r\n                <div className=\"engagement-section\">\r\n                  <div className=\"engagement-header-row\">\r\n                    <h3>Daily Engagement Timeline</h3>\r\n                    <div className=\"date-selector-inline\">\r\n                      <input\r\n                        type=\"date\"\r\n                        value={dateRange.startDate}\r\n                        onChange={(e) => handleDateRangeChange('startDate', e.target.value)}\r\n                        title=\"Start Date\"\r\n                      />\r\n                      <input\r\n                        type=\"date\"\r\n                        value={dateRange.endDate}\r\n                        onChange={(e) => handleDateRangeChange('endDate', e.target.value)}\r\n                        title=\"End Date\"\r\n                      />\r\n                      <button className=\"btn-refresh\" onClick={refreshEngagement}>\r\n                        Refresh\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {engagement && Object.keys(engagement).length > 0 ? (\r\n                    <div className=\"engagement-table\">\r\n                      <div className=\"table-header-row\">\r\n                        <div className=\"col date\">Date</div>\r\n                        <div className=\"col impressions\">Impressions</div>\r\n                        <div className=\"col clicks\">Clicks</div>\r\n                        <div className=\"col dismisses\">Dismisses</div>\r\n                        <div className=\"col avgTime\">Avg Time</div>\r\n                      </div>\r\n                      <div className=\"table-body-rows\">\r\n                        {Object.entries(engagement).map(([date, data]) => (\r\n                          <div key={date} className=\"table-row-item\">\r\n                            <div className=\"col date\">{date}</div>\r\n                            <div className=\"col impressions\">{data.impressions || 0}</div>\r\n                            <div className=\"col clicks\">{data.clicks || 0}</div>\r\n                            <div className=\"col dismisses\">{data.dismisses || 0}</div>\r\n                            <div className=\"col avgTime\">\r\n                              {data.totalViewTime > 0 \r\n                                ? (data.totalViewTime / Math.max(data.impressions, 1)).toFixed(1) \r\n                                : 0}s\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <p className=\"no-data\">No engagement data for selected date range</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["AdvancedAdsManagement","_analytics$metrics","ads","setAds","useState","loading","setLoading","error","setError","success","setSuccess","showForm","setShowForm","editingId","setEditingId","activeTab","setActiveTab","adType","setAdType","uploading","setUploading","selectedAnalyticsAd","setSelectedAnalyticsAd","analytics","setAnalytics","engagement","setEngagement","analyticsLoading","setAnalyticsLoading","dateRange","setDateRange","startDate","Date","now","toISOString","split","endDate","formData","setFormData","title","placement","imageUrl","videoUrl","videoDuration","videoThumbnailUrl","clickUrl","ctaText","ctaButtonColor","countdownSeconds","isSkippable","budget","dailyBudget","costPerClick","minAge","maxAge","targetGender","targetDevices","frequencyCap","conversionTracking","conversionUrl","status","priority","abTestGroup","fetchAnalytics","async","console","log","adId","response","axios","get","concat","API_URL","data","err","fetchEngagement","params","handleDateRangeChange","field","value","prev","_objectSpread","useEffect","fetchAds","id","handleInputChange","e","name","type","checked","target","handleFileUpload","fileType","arguments","length","undefined","file","files","fileName","fileSize","size","reader","FileReader","onload","base64Data","event","result","mimeType","post","fileData","Object","keys","filePath","imagePath","duration","charAt","toUpperCase","slice","setTimeout","_err$response","_err$response2","_err$response2$data","readAsDataURL","warn","resetForm","_jsx","className","children","_jsxs","filter","a","reduce","sum","total_impressions","toLocaleString","onClick","FiPlus","FiImage","FiVideo","onSubmit","preventDefault","payload","parseInt","parseFloat","JSON","stringify","put","process","map","ad","_err$response3","_err$response4","_err$response4$data","onChange","placeholder","required","style","minWidth","label","min","max","width","accept","disabled","_Fragment","height","cursor","step","device","includes","d","handleDeviceChange","_ad$ad_type","_ad$status","_ad$status2","ad_type","image_url","src","alt","total_clicks","toFixed","start_date","toLocaleDateString","month","day","end_date","video_url","video_duration","video_thumbnail_url","click_url","cta_text","cta_button_color","countdown_seconds","is_skippable","daily_budget","cost_per_click","min_age","max_age","target_gender","target_devices","parse","frequency_cap","conversion_tracking","conversion_url","ab_test_group","handleEdit","FiEdit2","window","confirm","delete","handleDelete","FiTrash2","total_dismisses","is_active","dismissRate","metrics","avgViewDuration","_analytics$metrics2","_analytics$metrics2$d","_analytics$metrics3","_analytics$metrics3$d","_analytics$metrics4","_analytics$metrics4$d","mobile","deviceBreakdown","tablet","desktop","total","refreshEngagement","entries","_ref","date","impressions","clicks","dismisses","totalViewTime","Math"],"ignoreList":[],"sourceRoot":""}
{"version":3,"file":"static/js/933.921bf051.chunk.js","mappings":"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","sources":["SomaLux/Books/Admin/pages/Settings.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { jsPDF } from 'jspdf';\nimport autoTable from 'jspdf-autotable';\nimport logo from '../../../../Assets/Paltech Black.png';\nimport { fetchStats, fetchViewDetails, fetchAllUsers } from '../api';\nimport { useAdminUI } from '../AdminUIContext';\nimport { supabase } from '../../supabaseClient';\n\nconst Settings = ({ userProfile }) => {\n  const [pdfOptions, setPdfOptions] = useState({\n    overview: true,\n    uploadsPerMonth: true,\n    categoriesDistribution: true,\n    topBooks: true,\n    recentBooks: true,\n    viewsDetails: true,\n    includeUsers: false,\n    usersMode: 'names_emails',\n    dateRange: 'all',\n  });\n  const [generating, setGenerating] = useState(false);\n  const [usersPanelOpen, setUsersPanelOpen] = useState(false);\n  const [availableRoles, setAvailableRoles] = useState([]);\n  const [selectedRoles, setSelectedRoles] = useState([]);\n  const [usersDataCache, setUsersDataCache] = useState([]);\n\n  const { showToast } = useAdminUI();\n\n  const isAdmin = userProfile?.role === 'admin';\n\n  const handleOptionChange = (key) => {\n    setPdfOptions(prev => ({ ...prev, [key]: !prev[key] }));\n  };\n\n  // Load roles dynamically when users panel opens\n  useEffect(() => {\n    if (!usersPanelOpen) return;\n    (async () => {\n      const users = await fetchAllUsers();\n      setUsersDataCache(users);\n      const rolesSet = Array.from(new Set((users || []).map(u => (u.role || 'viewer').toLowerCase())));\n      // Order Admin, Editor, Viewer first, then others alphabetically\n      const priority = { admin: 0, editor: 1, viewer: 2 };\n      const ordered = rolesSet.sort((a, b) => (priority[a] ?? 99) - (priority[b] ?? 99) || a.localeCompare(b));\n      setAvailableRoles(ordered);\n      // Default select all roles\n      setSelectedRoles(ordered);\n    })();\n  }, [usersPanelOpen]);\n\n  const toggleRole = (role) => {\n    setSelectedRoles(prev => prev.includes(role) ? prev.filter(r => r !== role) : [...prev, role]);\n  };\n\n  // Helper: fetch asset and convert to Base64 data URL\n  const toDataUrl = async (url) => {\n    try {\n      const resp = await fetch(url);\n      const blob = await resp.blob();\n      return await new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = reject;\n        reader.readAsDataURL(blob);\n      });\n    } catch (e) {\n      return null;\n    }\n  };\n\n  const generatePDF = async () => {\n    setGenerating(true);\n    try {\n      const logoDataUrl = await toDataUrl(logo);\n      const stats = await fetchStats();\n      const viewDetails = pdfOptions.viewsDetails ? await fetchViewDetails() : [];\n      const usersAll = (pdfOptions.includeUsers ? (usersDataCache.length ? usersDataCache : await fetchAllUsers()) : []);\n\n      const doc = new jsPDF();\n      let yPos = 20;\n\n      // Add watermark to first page (behind content)\n      const addWatermark = () => {\n        if (!logoDataUrl) return;\n        const pw = doc.internal.pageSize.width;\n        const ph = doc.internal.pageSize.height;\n        const w = Math.min(pw * 0.25, 60); // Smaller size\n        const h = w; // Keep square for simplicity\n        const x = (pw - w) / 2;\n        const y = (ph - h) / 2;\n        try {\n          // @ts-ignore\n          const g = doc.GState && new doc.GState({ opacity: 0.06 });\n          if (g && doc.setGState) doc.setGState(g);\n          doc.addImage(logoDataUrl, 'PNG', x, y, w, h, undefined, 'FAST');\n        } catch {}\n        // Reset opacity\n        try {\n          if (doc.setGState) doc.setGState(new doc.GState({ opacity: 1 }));\n        } catch {}\n      };\n\n      addWatermark(); // Add to page 1\n\n      // Header with embedded logo\n      doc.setFontSize(24);\n      doc.setFont('helvetica', 'bold');\n      doc.setTextColor(0, 168, 132); // Brand green\n      try {\n        if (logoDataUrl) {\n          doc.addImage(logoDataUrl, 'PNG', 15, yPos - 6, 22, 22);\n        }\n      } catch {}\n      doc.text('Paltech-Elib Documentation', 105, yPos, { align: 'center' });\n      \n      doc.setFontSize(10);\n      doc.setFont('helvetica', 'normal');\n      doc.setTextColor(100);\n      doc.text(`Generated on: ${new Date().toLocaleString()}`, 105, yPos + 8, { align: 'center' });\n      \n      // Add separator line\n      doc.setDrawColor(0, 168, 132);\n      doc.setLineWidth(0.5);\n      doc.line(15, yPos + 12, 195, yPos + 12);\n      \n      // Reset color\n      doc.setTextColor(0);\n      yPos = 40;\n\n      // Helper to ensure enough space before starting a new section (title + head)\n      const ensureSpace = (y, reserve = 50) => {\n        const pageH = doc.internal.pageSize.height;\n        if (y > pageH - reserve) {\n          doc.addPage();\n          addWatermark(); // Add watermark behind content on new page\n          return 20;\n        }\n        return y;\n      };\n\n      const tableCommon = {\n        theme: 'striped',\n        headStyles: { fillColor: [0, 168, 132], textColor: 255 },\n        styles: { fontSize: 10, cellPadding: 3, overflow: 'linebreak' },\n        margin: { left: 15, right: 15 },\n      };\n\n      // Overview Section\n      if (pdfOptions.overview && stats.counts) {\n        yPos = ensureSpace(yPos);\n        doc.setFontSize(16);\n        doc.setFont('helvetica', 'bold');\n        doc.text('Overview Statistics', 15, yPos);\n        const startY = yPos + 6;\n        autoTable(doc, {\n          startY,\n          head: [['Metric', 'Value']],\n          body: [\n            ['Total Books', stats.counts.books || 0],\n            ['Total Users', stats.counts.users || 0],\n            ['Total Downloads', stats.counts.downloads || 0],\n            ['Total Views', stats.counts.views || 0],\n          ],\n          theme: 'grid',\n          headStyles: { fillColor: [0, 168, 132], textColor: 255, fontStyle: 'bold' },\n          styles: { fontSize: 10, cellPadding: 3, overflow: 'linebreak' },\n          margin: { left: 15, right: 15 },\n        });\n        yPos = doc.lastAutoTable.finalY + 15;\n      }\n\n      // Uploads per Month\n      if (pdfOptions.uploadsPerMonth && stats.monthly?.length > 0) {\n        const filtered = stats.monthly.filter(m => (m.uploads || 0) > 0);\n        if (filtered.length > 0) {\n          yPos = ensureSpace(yPos);\n          doc.setFontSize(16);\n          doc.setFont('helvetica', 'bold');\n          doc.text('Uploads per Month', 15, yPos);\n          const startY = yPos + 6;\n          autoTable(doc, {\n            startY,\n            head: [['Month', 'Uploads']],\n            body: filtered.sort((a, b) => (b.uploads || 0) - (a.uploads || 0)).map(m => [m.month, m.uploads || 0]),\n            ...tableCommon,\n          });\n          yPos = doc.lastAutoTable.finalY + 15;\n        }\n      }\n\n      // Categories Distribution\n      if (pdfOptions.categoriesDistribution && stats.categories?.length > 0) {\n        const filtered = stats.categories.filter(c => (c.count || 0) > 0);\n        if (filtered.length > 0) {\n          yPos = ensureSpace(yPos);\n          doc.setFontSize(16);\n          doc.setFont('helvetica', 'bold');\n          doc.text('Categories Distribution', 15, yPos);\n          const startY = yPos + 6;\n          autoTable(doc, {\n            startY,\n            head: [['Category', 'Count']],\n            body: filtered.sort((a, b) => (b.count || 0) - (a.count || 0)).map(c => [c.name, c.count || 0]),\n            ...tableCommon,\n          });\n          yPos = doc.lastAutoTable.finalY + 15;\n        }\n      }\n\n      // Top Books by Downloads\n      if (pdfOptions.topBooks && stats.top?.length > 0) {\n        const filtered = stats.top.filter(b => (b.downloads || 0) > 0);\n        if (filtered.length > 0) {\n          yPos = ensureSpace(yPos);\n          doc.setFontSize(16);\n          doc.setFont('helvetica', 'bold');\n          doc.text('Top Books (Downloads)', 15, yPos);\n          const startY = yPos + 6;\n          autoTable(doc, {\n            startY,\n            head: [['Title', 'Downloads']],\n            body: filtered.sort((a, b) => (b.downloads || 0) - (a.downloads || 0)).map(b => [b.title || 'Untitled', b.downloads || 0]),\n            ...tableCommon,\n          });\n          yPos = doc.lastAutoTable.finalY + 15;\n        }\n      }\n\n      // Recent Books\n      if (pdfOptions.recentBooks && stats.recent?.length > 0) {\n        yPos = ensureSpace(yPos);\n        doc.setFontSize(16);\n        doc.setFont('helvetica', 'bold');\n        doc.text('Recent Books', 15, yPos);\n        const startY = yPos + 6;\n        autoTable(doc, {\n          startY,\n          head: [['Title', 'Author', 'Date Added']],\n          body: stats.recent.slice(0, 10).map(b => [\n            b.title || 'Untitled',\n            b.author || 'Unknown',\n            new Date(b.created_at).toLocaleDateString()\n          ]),\n          ...tableCommon,\n        });\n        yPos = doc.lastAutoTable.finalY + 15;\n      }\n\n      // Views Details\n      if (pdfOptions.viewsDetails && viewDetails.length > 0) {\n        yPos = ensureSpace(yPos);\n        doc.setFontSize(16);\n        doc.setFont('helvetica', 'bold');\n        doc.text('Book Views Details', 15, yPos);\n        const startY = yPos + 6;\n        autoTable(doc, {\n          startY,\n          head: [['Book Title', 'Total Views', 'Unique Users']],\n          body: viewDetails.slice(0, 20).map(v => [\n            v.book_title || 'Unknown',\n            v.total_views || 0,\n            v.unique_users || 0\n          ]),\n          ...tableCommon,\n        });\n        yPos = doc.lastAutoTable.finalY + 15;\n      }\n\n      // Users (optional)\n      if (pdfOptions.includeUsers && usersAll.length > 0) {\n        yPos = ensureSpace(yPos);\n        doc.setFontSize(16);\n        doc.setFont('helvetica', 'bold');\n        doc.text('Users', 15, yPos);\n        const startY = yPos + 6;\n\n        const priority = { admin: 0, editor: 1, viewer: 2 };\n        const normRole = (r) => (r || 'viewer').toLowerCase();\n\n        let rows = usersAll;\n        if (pdfOptions.usersMode === 'with_roles') {\n          const allowed = new Set(selectedRoles);\n          rows = rows.filter(u => allowed.has(normRole(u.role)));\n        }\n        // Sort by role priority then display_name\n        rows = [...rows].sort((a, b) => {\n          const ra = normRole(a.role), rb = normRole(b.role);\n          const pr = (priority[ra] ?? 99) - (priority[rb] ?? 99);\n          return pr !== 0 ? pr : (a.display_name || '').localeCompare(b.display_name || '');\n        });\n\n        if (pdfOptions.usersMode === 'with_roles') {\n          autoTable(doc, {\n            startY,\n            head: [['Name', 'Email', 'Role']],\n            body: rows.map(u => [u.display_name || '—', u.email || '—', (u.role || 'viewer')]),\n            ...tableCommon,\n            columnStyles: { 1: { cellWidth: 90 } },\n          });\n        } else {\n          autoTable(doc, {\n            startY,\n            head: [['Name', 'Email']],\n            body: rows.map(u => [u.display_name || '—', u.email || '—']),\n            ...tableCommon,\n            columnStyles: { 1: { cellWidth: 110 } },\n          });\n        }\n        yPos = doc.lastAutoTable.finalY + 15;\n      }\n\n      // Footer on all pages\n      const pageCount = doc.internal.getNumberOfPages();\n      for (let i = 1; i <= pageCount; i++) {\n        doc.setPage(i);\n        doc.setFontSize(9);\n        doc.setTextColor(150);\n        doc.text(\n          `Paltech-Elib | Page ${i} of ${pageCount}`,\n          doc.internal.pageSize.width / 2,\n          doc.internal.pageSize.height - 10,\n          { align: 'center' }\n        );\n      }\n\n      // Save PDF\n      doc.save(`Paltech-Elib-Report-${new Date().toISOString().split('T')[0]}.pdf`);\n      showToast({ type: 'success', message: 'PDF report downloaded.' });\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n      showToast({ type: 'error', message: 'Failed to generate PDF. Please try again.' });\n    } finally {\n      setGenerating(false);\n    }\n  };\n  return (\n    <div>\n      {isAdmin && (\n        <div className=\"panel\" style={{ marginBottom: 8 }}>\n          <div className=\"panel-title\">PDF Documentation Export</div>\n          <p style={{ color: '#8696a0', marginBottom: 8, fontSize: 12 }}>\n            Generate a comprehensive PDF report of your library statistics and data. Select the sections you want to include:\n          </p>\n\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))', gap: 6, marginBottom: 8 }}>\n            <label style={{ display: 'flex', alignItems: 'center', gap: 8, cursor: 'pointer' }}>\n              <input\n                type=\"checkbox\"\n                checked={pdfOptions.overview}\n                onChange={() => handleOptionChange('overview')}\n                style={{ width: 16, height: 16, cursor: 'pointer' }}\n              />\n              <span style={{ color: '#e9edef' }}>Overview Statistics</span>\n            </label>\n\n            <label style={{ display: 'flex', alignItems: 'center', gap: 8, cursor: 'pointer' }}>\n              <input\n                type=\"checkbox\"\n                checked={pdfOptions.uploadsPerMonth}\n                onChange={() => handleOptionChange('uploadsPerMonth')}\n                style={{ width: 16, height: 16, cursor: 'pointer' }}\n              />\n              <span style={{ color: '#e9edef' }}>Uploads per Month</span>\n            </label>\n\n            <label style={{ display: 'flex', alignItems: 'center', gap: 8, cursor: 'pointer' }}>\n              <input\n                type=\"checkbox\"\n                checked={pdfOptions.categoriesDistribution}\n                onChange={() => handleOptionChange('categoriesDistribution')}\n                style={{ width: 16, height: 16, cursor: 'pointer' }}\n              />\n              <span style={{ color: '#e9edef' }}>Categories Distribution</span>\n            </label>\n\n            <label style={{ display: 'flex', alignItems: 'center', gap: 8, cursor: 'pointer' }}>\n              <input\n                type=\"checkbox\"\n                checked={pdfOptions.topBooks}\n                onChange={() => handleOptionChange('topBooks')}\n                style={{ width: 16, height: 16, cursor: 'pointer' }}\n              />\n              <span style={{ color: '#e9edef' }}>Top Books (Downloads)</span>\n            </label>\n\n            <label style={{ display: 'flex', alignItems: 'center', gap: 8, cursor: 'pointer' }}>\n              <input\n                type=\"checkbox\"\n                checked={pdfOptions.recentBooks}\n                onChange={() => handleOptionChange('recentBooks')}\n                style={{ width: 16, height: 16, cursor: 'pointer' }}\n              />\n              <span style={{ color: '#e9edef' }}>Recent Books</span>\n            </label>\n\n            <label style={{ display: 'flex', alignItems: 'center', gap: 8, cursor: 'pointer' }}>\n              <input\n                type=\"checkbox\"\n                checked={pdfOptions.viewsDetails}\n                onChange={() => handleOptionChange('viewsDetails')}\n                style={{ width: 16, height: 16, cursor: 'pointer' }}\n              />\n              <span style={{ color: '#e9edef' }}>Book Views Details</span>\n            </label>\n          </div>\n\n          {/* More (Users) */}\n          <div style={{ marginTop: 6, marginBottom: 8 }}>\n            <button className=\"btn\" onClick={() => setUsersPanelOpen(v => !v)}>\n              {usersPanelOpen ? 'Hide' : 'More'}\n            </button>\n          </div>\n\n          {usersPanelOpen && (\n            <div className=\"panel\" style={{ marginTop: 6 }}>\n              <div className=\"panel-title\">Users Export Options</div>\n\n              <div className=\"settings-tree\">\n                <div className=\"settings-branch\">\n                  <label className=\"settings-check\" style={{ width: 'fit-content' }}>\n                    <input\n                      type=\"checkbox\"\n                      checked={!!pdfOptions.includeUsers}\n                      onChange={() => setPdfOptions(p => ({ ...p, includeUsers: !p.includeUsers }))}\n                      style={{ width: 16, height: 16 }}\n                    />\n                    <div>\n                      <div className=\"settings-check-title\">Include Users in PDF</div>\n                      <div className=\"muted\">Toggle to include a Users section in the report</div>\n                    </div>\n                  </label>\n\n                  {pdfOptions.includeUsers && (\n                    <div className=\"settings-children\">\n                      <div className=\"option-grid\">\n                        <label className={`option-card ${pdfOptions.usersMode !== 'with_roles' ? 'active' : ''}`}>\n                          <input\n                            type=\"radio\"\n                            name=\"usersMode\"\n                            checked={pdfOptions.usersMode !== 'with_roles'}\n                            onChange={() => setPdfOptions(p => ({ ...p, usersMode: 'names_emails' }))}\n                          />\n                          <div>\n                            <div className=\"option-title\">Users</div>\n                            <div className=\"muted small\">Only name and email are included</div>\n                          </div>\n                        </label>\n\n                        <label className={`option-card ${pdfOptions.usersMode === 'with_roles' ? 'active' : ''}`}>\n                          <input\n                            type=\"radio\"\n                            name=\"usersMode\"\n                            checked={pdfOptions.usersMode === 'with_roles'}\n                            onChange={() => setPdfOptions(p => ({ ...p, usersMode: 'with_roles' }))}\n                          />\n                          <div>\n                            <div className=\"option-title\">Users with Roles</div>\n                            <div className=\"muted small\">Include roles and filter which roles to show</div>\n                          </div>\n                        </label>\n                      </div>\n\n                      {pdfOptions.usersMode === 'with_roles' && (\n                        <div className=\"settings-branch\" style={{ marginTop: 6 }}>\n                          <div className=\"muted\" style={{ marginBottom: 3 }}>Include roles</div>\n                          <div className=\"roles-grid\">\n                            {availableRoles.map(role => (\n                              <label key={role} className=\"role-chip\">\n                                <input\n                                  type=\"checkbox\"\n                                  checked={selectedRoles.includes(role)}\n                                  onChange={() => toggleRole(role)}\n                                />\n                                <span className=\"cap\">{role}</span>\n                              </label>\n                            ))}\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          <div className=\"actions\">\n            <button\n              className=\"btn primary\"\n              onClick={generatePDF}\n              disabled={generating || Object.values(pdfOptions).filter(v => v === true).length === 0}\n            >\n              {generating ? 'Generating PDF...' : 'Download PDF Report'}\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div className=\"grid-2\">\n      <div className=\"panel\">\n        <div className=\"panel-title\">General</div>\n        <label className=\"label\">App Name</label>\n        <input className=\"input\" placeholder=\"eLib\" />\n        <label className=\"label\" style={{ marginTop: 6 }}>Storage Bucket</label>\n        <input className=\"input\" placeholder=\"books\" />\n        <div className=\"actions\" style={{ marginTop: 6 }}>\n          <button className=\"btn primary\">Save</button>\n        </div>\n      </div>\n\n      <div className=\"panel\">\n        <div className=\"panel-title\">Account Config</div>\n        <label className=\"label\">Project URL</label>\n        <input className=\"input\" value={process.env.REACT_APP_SUPABASE_URL || ''} readOnly />\n        <label className=\"label\" style={{ marginTop: 6 }}>Public Key</label>\n        <input className=\"input\" value={(process.env.REACT_APP_SUPABASE_ANON_KEY || '').slice(0, 8) + '•••'} readOnly />\n        <div style={{ marginTop: 4, color: '#8696a0', fontSize: 11 }}>Set values in .env file</div>\n      </div>\n\n      <div className=\"panel\">\n        <div className=\"panel-title\">Activity Logs</div>\n        <div style={{ color: '#8696a0' }}>No logs yet</div>\n      </div>\n    </div>\n    </div>\n  );\n};\n\nexport default Settings;"],"names":["_ref","userProfile","pdfOptions","setPdfOptions","useState","overview","uploadsPerMonth","categoriesDistribution","topBooks","recentBooks","viewsDetails","includeUsers","usersMode","dateRange","generating","setGenerating","usersPanelOpen","setUsersPanelOpen","availableRoles","setAvailableRoles","selectedRoles","setSelectedRoles","usersDataCache","setUsersDataCache","showToast","useAdminUI","isAdmin","role","handleOptionChange","key","prev","_objectSpread","useEffect","users","fetchAllUsers","rolesSet","Array","from","Set","map","u","toLowerCase","priority","admin","editor","viewer","ordered","sort","a","b","_priority$a","_priority$b","localeCompare","_jsxs","children","className","style","marginBottom","_jsx","color","fontSize","display","gridTemplateColumns","gap","alignItems","cursor","type","checked","onChange","width","height","marginTop","onClick","v","p","concat","name","includes","filter","r","toggleRole","async","_stats$monthly","_stats$categories","_stats$top","_stats$recent","logoDataUrl","resp","fetch","url","blob","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","e","toDataUrl","stats","fetchStats","viewDetails","fetchViewDetails","usersAll","length","doc","jsPDF","yPos","addWatermark","pw","internal","pageSize","ph","w","Math","min","h","x","y","g","GState","opacity","setGState","addImage","undefined","_unused","_unused2","setFontSize","setFont","setTextColor","_unused3","text","align","Date","toLocaleString","setDrawColor","setLineWidth","line","ensureSpace","reserve","arguments","addPage","tableCommon","theme","headStyles","fillColor","textColor","styles","cellPadding","overflow","margin","left","right","counts","startY","autoTable","head","body","books","downloads","views","fontStyle","lastAutoTable","finalY","monthly","filtered","m","uploads","month","categories","c","count","top","title","recent","slice","author","created_at","toLocaleDateString","book_title","total_views","unique_users","normRole","rows","allowed","has","_priority$ra","_priority$rb","ra","rb","pr","display_name","email","columnStyles","cellWidth","pageCount","getNumberOfPages","i","setPage","save","toISOString","split","message","error","console","disabled","Object","values","placeholder","value","process","readOnly"],"ignoreList":[],"sourceRoot":""}
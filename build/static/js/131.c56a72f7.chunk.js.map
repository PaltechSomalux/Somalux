{"version":3,"file":"static/js/131.c56a72f7.chunk.js","mappings":"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","sources":["SomaLux/Books/Admin/pages/SubmissionsList.jsx","SomaLux/Books/Admin/pages/SubmissionDetailModal.jsx","SomaLux/Books/Admin/pages/Submissions.jsx"],"sourcesContent":["import React from 'react';\r\nimport { FiCheck, FiX, FiClock } from 'react-icons/fi';\r\n\r\nconst SubmissionsList = ({ items, loading, type, busy, onSelect, onApprove, onReject }) => {\r\n  const fmt = (d) => d ? new Date(d).toLocaleString() : '—';\r\n\r\n  if (loading) {\r\n    return <div style={{ padding: 12, color: '#8696a0', fontSize: 12 }}>Loading…</div>;\r\n  }\r\n\r\n  if (items.length === 0) {\r\n    return <div style={{ padding: 12, color: '#8696a0', fontSize: 12 }}>No submissions.</div>;\r\n  }\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: 'column', gap: 6 }}>\r\n      {items.map((sub) => (\r\n        <div\r\n          key={sub.id}\r\n          style={{ \r\n            background: '#0b141a', \r\n            border: '1px solid #1f2c33', \r\n            borderRadius: 4, \r\n            padding: 8, \r\n            cursor: 'pointer' \r\n          }}\r\n          onClick={() => onSelect(sub)}\r\n        >\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', gap: 6 }}>\r\n            <div style={{ minWidth: 0 }}>\r\n              <div style={{ color: '#e9edef', fontWeight: 600, fontSize: 12 }}>\r\n                {type === 'universities' ? (sub.name || 'Untitled') : (sub.title || 'Untitled')}\r\n              </div>\r\n              {type === 'books' ? (\r\n                <div style={{ color: '#8696a0', fontSize: 11 }}>\r\n                  {sub.author || 'Unknown'} {sub.isbn ? `• ISBN: ${sub.isbn}` : ''}\r\n                </div>\r\n              ) : type === 'universities' ? (\r\n                <div style={{ color: '#8696a0', fontSize: 11 }}>\r\n                  {sub.location || 'Unknown location'} {sub.website_url ? `• Has website` : ''}\r\n                </div>\r\n              ) : (\r\n                <div style={{ color: '#8696a0', fontSize: 11 }}>\r\n                  {sub.faculty || 'Unknown faculty'} {sub.unit_code ? `• ${sub.unit_code}` : ''} {sub.unit_name ? `• ${sub.unit_name}` : ''}\r\n                </div>\r\n              )}\r\n              <div style={{ color: '#8696a0', fontSize: 10, marginTop: 3 }}>\r\n                {fmt(sub.created_at)} • {sub.status}\r\n                {sub.uploader_email ? (\r\n                  <> • Uploaded by {sub.uploader_name || sub.uploader_email}</>\r\n                ) : sub.uploaded_by ? (\r\n                  <> • Uploaded by {String(sub.uploaded_by)}</>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n            <div style={{ display: 'flex', gap: 4 }}>\r\n              {sub.status === 'pending' ? (\r\n                <>\r\n                  <button\r\n                    className=\"btn\"\r\n                    disabled={!!busy[sub.id]}\r\n                    onClick={(e) => { e.stopPropagation(); onApprove(sub.id); }}\r\n                    style={{ display: 'flex', alignItems: 'center', gap: 4, background: '#00a884', color: '#fff', fontSize: 11, padding: '4px 8px' }}\r\n                  >\r\n                    <FiCheck /> Approve\r\n                  </button>\r\n                  <button\r\n                    className=\"btn\"\r\n                    disabled={!!busy[sub.id]}\r\n                    onClick={(e) => { e.stopPropagation(); onReject(sub.id); }}\r\n                    style={{ display: 'flex', alignItems: 'center', gap: 4, background: '#ea4335', color: '#fff', fontSize: 11, padding: '4px 8px' }}\r\n                  >\r\n                    <FiX /> Reject\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <div style={{ color: '#8696a0', display: 'flex', alignItems: 'center', gap: 4, fontSize: 11 }}>\r\n                  <FiClock /> Reviewed\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubmissionsList;","import React from 'react';\r\nimport { FiCheck, FiX, FiClock, FiBell } from 'react-icons/fi';\r\n\r\nconst SubmissionDetailModal = ({ submission, type, busy, onClose, onApprove, onReject }) => {\r\n  const fmt = (d) => d ? new Date(d).toLocaleString() : '—';\r\n\r\n  return (\r\n    <div\r\n      className=\"profile-signout-overlay\"\r\n      onClick={onClose}\r\n      style={{ zIndex: 60 }}\r\n    >\r\n      <div\r\n        className=\"profile-signout-modal\"\r\n        onClick={(e) => e.stopPropagation()}\r\n        style={{\r\n          maxWidth: 760,\r\n          width: '96%',\r\n          maxHeight: '90vh',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          background: '#111b21',\r\n        }}\r\n      >\r\n        <div className=\"profile-signout-header\" style={{ borderBottom: '1px solid #1f2c33', padding: '8px 12px' }}>\r\n          <h2 style={{ display: 'flex', alignItems: 'center', gap: 4, fontSize: '13px', margin: 0 }}>\r\n            <FiBell /> Review {type === 'books' ? 'Book' : type === 'universities' ? 'University' : 'Past Paper'} Submission\r\n          </h2>\r\n          <button className=\"profile-signout-close\" onClick={onClose}>×</button>\r\n        </div>\r\n\r\n        <div\r\n          className=\"profile-signout-body\"\r\n          style={{\r\n            padding: 8,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            gap: 8,\r\n            overflowY: 'auto',\r\n          }}\r\n        >\r\n          {/* Uploader Information Section */}\r\n          <div style={{\r\n            padding: 6,\r\n            background: 'rgba(0, 168, 132, 0.1)',\r\n            border: '1px solid rgba(0, 168, 132, 0.3)',\r\n            borderRadius: 4,\r\n          }}>\r\n            <div style={{ color: '#00a884', fontSize: 10, fontWeight: 600, marginBottom: 2 }}>\r\n              UPLOADER\r\n            </div>\r\n            <div style={{ color: '#e9edef', fontSize: 12, fontWeight: 500 }}>\r\n              {submission.uploader_name || submission.uploader_email || (submission.uploaded_by ? String(submission.uploaded_by) : 'Unknown')}\r\n            </div>\r\n            {submission.uploader_email && submission.uploader_email !== submission.uploader_name && (\r\n              <div style={{ color: '#8696a0', fontSize: 10 }}>\r\n                {submission.uploader_email}\r\n              </div>\r\n            )}\r\n            {!submission.uploader_email && submission.uploaded_by && String(submission.uploaded_by).includes('@') && (\r\n              <div style={{ color: '#8696a0', fontSize: 10 }}>\r\n                {String(submission.uploaded_by)}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {type === 'books' ? (\r\n            <>\r\n              {submission.cover_url && (\r\n                <div style={{ flex: '0 0 120px', alignSelf: 'center' }}>\r\n                  <img\r\n                    src={submission.cover_url}\r\n                    alt={submission.title || 'Cover'}\r\n                    style={{ width: '100%', borderRadius: 4, objectFit: 'cover', boxShadow: '0 2px 6px rgba(0,0,0,0.3)' }}\r\n                  />\r\n                </div>\r\n              )}\r\n              <div>\r\n                <h3 style={{ color: '#e9edef', marginBottom: 2, fontSize: 13, fontWeight: 600 }}>\r\n                  {submission.title || 'Untitled'}\r\n                </h3>\r\n                <div style={{ color: '#8696a0', marginBottom: 8, fontSize: 11 }}>\r\n                  <strong>{submission.author || 'Unknown author'}</strong>\r\n                  {submission.isbn && <> • ISBN: {submission.isbn}</>}\r\n                </div>\r\n                {submission.description && (\r\n                  <div style={{ color: '#cbd5f5', fontSize: 11, marginBottom: 8, lineHeight: 1.4, padding: '6px 0', borderTop: '1px solid #1f2c33', borderBottom: '1px solid #1f2c33' }}>\r\n                    <strong style={{ color: '#e9edef' }}>Description:</strong><br />\r\n                    {submission.description}\r\n                  </div>\r\n                )}\r\n                \r\n                {/* Details Grid */}\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', gap: 6, marginBottom: 8 }}>\r\n                  {submission.author && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>AUTHOR</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.author}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.year && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>YEAR</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.year}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.publisher && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>PUBLISHER</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.publisher}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.pages && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>PAGES</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.pages}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.language && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>LANGUAGE</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.language}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.isbn && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>ISBN</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500, wordBreak: 'break-all' }}>{submission.isbn}</div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Submission Info */}\r\n                <div style={{ marginTop: 12, padding: 10, background: '#0b141a', borderRadius: 6, border: '1px solid #1f2c33' }}>\r\n                  <div style={{ color: '#8696a0', fontSize: 11, marginBottom: 4 }}>SUBMISSION INFO</div>\r\n                  <div style={{ color: '#e9edef', fontSize: 12 }}>\r\n                    <div>Uploaded: {fmt(submission.created_at)}</div>\r\n                    <div>Status: <span style={{ color: submission.status === 'pending' ? '#fbbf24' : submission.status === 'approved' ? '#00a884' : '#ea4335', fontWeight: 600 }}>{submission.status.toUpperCase()}</span></div>\r\n                    {submission.rejection_reason && (\r\n                      <div style={{ color: '#ea4335', marginTop: 4 }}>Rejection Reason: {submission.rejection_reason}</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          ) : type === 'universities' ? (\r\n            <>\r\n              {submission.cover_image_url && (\r\n                <div style={{ flex: '0 0 150px', alignSelf: 'center' }}>\r\n                  <img\r\n                    src={submission.cover_image_url}\r\n                    alt={submission.name || 'Cover'}\r\n                    style={{ width: '100%', borderRadius: 4, objectFit: 'cover', boxShadow: '0 2px 6px rgba(0,0,0,0.3)' }}\r\n                  />\r\n                </div>\r\n              )}\r\n              <div>\r\n                <h3 style={{ color: '#e9edef', marginBottom: 4, fontSize: 16, fontWeight: 600 }}>\r\n                  {submission.name || 'Untitled'}\r\n                </h3>\r\n                <div style={{ color: '#8696a0', marginBottom: 12, fontSize: 13 }}>\r\n                  <strong>{submission.location || 'Unknown location'}</strong>\r\n                </div>\r\n\r\n                {submission.description && (\r\n                  <div style={{ color: '#cbd5f5', fontSize: 11, marginBottom: 8, lineHeight: 1.4, padding: '6px 0', borderTop: '1px solid #1f2c33', borderBottom: '1px solid #1f2c33' }}>\r\n                    <strong style={{ color: '#e9edef' }}>Description:</strong><br />\r\n                    {submission.description}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Details Grid for Universities */}\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', gap: 6, marginBottom: 8 }}>\r\n                  {submission.location && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>LOCATION</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.location}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.established && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>ESTABLISHED</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.established}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.website_url && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>WEBSITE</div>\r\n                      <a href={submission.website_url} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: '#00a884', fontSize: 11, fontWeight: 500, wordBreak: 'break-all' }}>\r\n                        Visit\r\n                      </a>\r\n                    </div>\r\n                  )}\r\n                  {submission.student_count && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>STUDENT COUNT</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.student_count.toLocaleString()}</div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Submission Info */}\r\n                <div style={{ marginTop: 12, padding: 10, background: '#0b141a', borderRadius: 6, border: '1px solid #1f2c33' }}>\r\n                  <div style={{ color: '#8696a0', fontSize: 11, marginBottom: 4 }}>SUBMISSION INFO</div>\r\n                  <div style={{ color: '#e9edef', fontSize: 12 }}>\r\n                    <div>Submitted: {fmt(submission.created_at)}</div>\r\n                    <div>Status: <span style={{ color: submission.status === 'pending' ? '#fbbf24' : submission.status === 'approved' ? '#00a884' : '#ea4335', fontWeight: 600 }}>{submission.status.toUpperCase()}</span></div>\r\n                    {submission.rejection_reason && (\r\n                      <div style={{ color: '#ea4335', marginTop: 4 }}>Rejection Reason: {submission.rejection_reason}</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <div>\r\n                <h3 style={{ color: '#e9edef', marginBottom: 4, fontSize: 16, fontWeight: 600 }}>\r\n                  {submission.unit_code ? `${submission.unit_code} — ` : ''}{submission.unit_name || 'Untitled'}\r\n                </h3>\r\n                <div style={{ color: '#8696a0', marginBottom: 12, fontSize: 13 }}>\r\n                  <strong>{submission.faculty || 'Unknown faculty'}</strong>\r\n                  {submission.year && <> • {submission.year}</>}\r\n                  {submission.semester && <> • Sem {submission.semester}</>}\r\n                  {submission.exam_type && <> • {submission.exam_type}</>}\r\n                </div>\r\n\r\n                {/* Details Grid for Past Papers */}\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', gap: 6, marginBottom: 8 }}>\r\n                  {submission.unit_code && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>UNIT CODE</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.unit_code}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.faculty && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>FACULTY</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.faculty}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.year && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>YEAR</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.year}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.semester && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>SEMESTER</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.semester}</div>\r\n                    </div>\r\n                  )}\r\n                  {submission.exam_type && (\r\n                    <div style={{ padding: 6, background: '#0b141a', borderRadius: 4, border: '1px solid #1f2c33' }}>\r\n                      <div style={{ color: '#8696a0', fontSize: 10 }}>EXAM TYPE</div>\r\n                      <div style={{ color: '#e9edef', fontSize: 11, fontWeight: 500 }}>{submission.exam_type}</div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Submission Info */}\r\n                <div style={{ marginTop: 12, padding: 10, background: '#0b141a', borderRadius: 6, border: '1px solid #1f2c33' }}>\r\n                  <div style={{ color: '#8696a0', fontSize: 11, marginBottom: 4 }}>SUBMISSION INFO</div>\r\n                  <div style={{ color: '#e9edef', fontSize: 12 }}>\r\n                    <div>Uploaded: {fmt(submission.created_at)}</div>\r\n                    <div>Status: <span style={{ color: submission.status === 'pending' ? '#fbbf24' : submission.status === 'approved' ? '#00a884' : '#ea4335', fontWeight: 600 }}>{submission.status.toUpperCase()}</span></div>\r\n                    {submission.rejection_reason && (\r\n                      <div style={{ color: '#ea4335', marginTop: 4 }}>Rejection Reason: {submission.rejection_reason}</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"profile-signout-footer\" style={{ borderTop: '1px solid #1f2c33', padding: 6, display: 'flex', justifyContent: 'flex-end', gap: 4 }}>\r\n          {submission.status === 'pending' ? (\r\n            <>\r\n              <button\r\n                className=\"btn\"\r\n                disabled={!!busy[submission.id]}\r\n                onClick={() => onApprove(submission.id)}\r\n                style={{ display: 'flex', alignItems: 'center', gap: 4, background: '#00a884', color: '#fff', fontSize: 11, padding: '4px 8px' }}\r\n              >\r\n                <FiCheck /> Approve\r\n              </button>\r\n              <button\r\n                className=\"btn\"\r\n                disabled={!!busy[submission.id]}\r\n                onClick={() => onReject(submission.id)}\r\n                style={{ display: 'flex', alignItems: 'center', gap: 4, background: '#ea4335', color: '#fff', fontSize: 11, padding: '4px 8px' }}\r\n              >\r\n                <FiX /> Reject\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <div style={{ color: '#8696a0', display: 'flex', alignItems: 'center', gap: 4, fontSize: 11 }}>\r\n              <FiClock /> Already reviewed\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubmissionDetailModal;","import React, { useEffect, useState, useMemo } from 'react';\r\nimport { FiRefreshCw, FiBook, FiFileText, FiMapPin } from 'react-icons/fi';\r\nimport { useAdminUI } from '../AdminUIContext';\r\nimport SubmissionsList from './SubmissionsList';\r\nimport SubmissionDetailModal from './SubmissionDetailModal';\r\nimport { API_URL } from '../../../../config';\r\n\r\nconst API_BASE = API_URL;\r\n\r\nconst Submissions = ({ userProfile }) => {\r\n  const [items, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [filter, setFilter] = useState('pending');\r\n  const [busy, setBusy] = useState({});\r\n  const [type, setType] = useState('books'); // 'books' | 'past_papers' | 'universities'\r\n  const [summary, setSummary] = useState({ booksPending: 0, pastPapersPending: 0, universitiesPending: 0 });\r\n  const [selected, setSelected] = useState(null);\r\n\r\n  const { confirm, prompt, showToast } = useAdminUI();\r\n\r\n  const headers = useMemo(() => ({\r\n    'Content-Type': 'application/json',\r\n    'x-actor-email': userProfile?.email || 'admin',\r\n    'x-actor-id': userProfile?.id || userProfile?.user_id || '' // Add user UUID if available\r\n  }), [userProfile?.email, userProfile?.id, userProfile?.user_id]);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      // Use submissions endpoint for all types (books, past_papers, universities)\r\n      // This endpoint queries the appropriate table and filters by status\r\n      const url = `${API_BASE}/api/elib/submissions?status=${encodeURIComponent(filter)}&type=${encodeURIComponent(type)}`;\r\n      console.log(`[Submissions] Fetching ${type} with status=${filter}: ${url}`);\r\n      \r\n      const res = await fetch(url);\r\n      const json = await res.json();\r\n      console.log(`[Submissions] Response for ${type}:`, { status: res.status, count: json.submissions?.length, items: json.submissions });\r\n      \r\n      if (!res.ok) throw new Error(json?.error || `Failed to load ${type} submissions`);\r\n      \r\n      const items = Array.isArray(json.submissions) ? json.submissions : [];\r\n      console.log(`[Submissions] Loaded ${items.length} ${type} submissions with status=${filter}`);\r\n      setItems(items);\r\n    } catch (e) {\r\n      console.error(`[Submissions] Error fetching ${type}:`, e);\r\n      setError(e.message || `Failed to load ${type} submissions`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchSummary = async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/elib/submissions/summary`);\r\n      const json = await res.json();\r\n      if (!res.ok) throw new Error(json?.error || 'Failed to load summary');\r\n      \r\n      setSummary({\r\n        booksPending: json.booksPending || 0,\r\n        pastPapersPending: json.pastPapersPending || 0,\r\n        universitiesPending: json.universitiesPending || 0,\r\n      });\r\n    } catch (_) {\r\n      // ignore summary errors in UI\r\n    }\r\n  };\r\n\r\n  useEffect(() => { fetchData(); }, [filter, type]);\r\n  useEffect(() => { fetchSummary(); }, []);\r\n\r\n  const approve = async (id) => {\r\n    console.log('Approve called with id:', id, 'type of id:', typeof id);\r\n    \r\n    const item = items.find((x) => x.id === id) || selected;\r\n    console.log('Found item:', item);\r\n    \r\n    const label = type === 'books'\r\n      ? (item?.title || 'this book')\r\n      : type === 'universities'\r\n      ? (item?.name || 'this university')\r\n      : (item?.unit_code || item?.unit_name || 'this past paper');\r\n\r\n    // Validate that id is a UUID, not an email\r\n    const uuidPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\r\n    if (!uuidPattern.test(id)) {\r\n      console.error('Invalid submission ID format:', id);\r\n      // If id is not valid but we have selected with valid id, use that\r\n      if (selected?.id && uuidPattern.test(selected.id)) {\r\n        console.log('Recursing with selected.id:', selected.id);\r\n        return approve(selected.id);\r\n      }\r\n      showToast({ type: 'error', message: 'Invalid submission ID format. Please refresh and try again.' });\r\n      return;\r\n    }\r\n\r\n    const ok = await confirm({\r\n      title: `Approve ${type === 'books' ? 'Book' : type === 'universities' ? 'University' : 'Past Paper'}?`,\r\n      message: `Are you sure you want to approve ${label}? It will become visible to users and count towards the uploader's contributions.`,\r\n      confirmLabel: 'Approve',\r\n      cancelLabel: 'Cancel',\r\n      variant: 'default',\r\n    });\r\n    if (!ok) return;\r\n\r\n    setBusy((prev) => ({ ...prev, [id]: true }));\r\n    \r\n    // Optimistic update: remove item immediately and decrement count\r\n    setItems((prev) => prev.filter((x) => x.id !== id));\r\n    setSelected(null);\r\n    setSummary((prev) => {\r\n      const updated = { ...prev };\r\n      if (type === 'books') updated.booksPending = Math.max(0, updated.booksPending - 1);\r\n      else if (type === 'universities') updated.universitiesPending = Math.max(0, updated.universitiesPending - 1);\r\n      else if (type === 'past_papers') updated.pastPapersPending = Math.max(0, updated.pastPapersPending - 1);\r\n      return updated;\r\n    });\r\n    \r\n    try {\r\n      let res;\r\n      if (type === 'universities') {\r\n        // For universities, just update the status\r\n        res = await fetch(`${API_BASE}/api/elib/universities/${id}`, {\r\n          method: 'PATCH',\r\n          headers,\r\n          body: JSON.stringify({ status: 'approved' }),\r\n        });\r\n      } else {\r\n        // For books/past_papers, use submissions endpoint\r\n        res = await fetch(`${API_BASE}/api/elib/submissions/${id}/approve?type=${encodeURIComponent(type)}`, { method: 'POST', headers });\r\n      }\r\n      const json = await res.json();\r\n      if (!res.ok) throw new Error(json?.details || json?.error || 'Approve failed');\r\n      showToast({ type: 'success', message: `${type === 'books' ? 'Book' : type === 'universities' ? 'University' : 'Past paper'} approved successfully.` });\r\n    } catch (e) {\r\n      console.error('Approve submission failed:', e);\r\n      showToast({ type: 'error', message: e.message || 'Approve failed.' });\r\n      // Restore item and count on error\r\n      fetchData();\r\n      fetchSummary();\r\n    } finally {\r\n      setBusy((prev) => ({ ...prev, [id]: false }));\r\n    }\r\n  };\r\n\r\n  const reject = async (id) => {\r\n    // Debug: log what was passed\r\n    console.log('Reject called with id:', id, 'type of id:', typeof id);\r\n    \r\n    const item = items.find((x) => x.id === id) || selected;\r\n    console.log('Found item:', item);\r\n    \r\n    const label = type === 'books'\r\n      ? (item?.title || 'this book')\r\n      : type === 'universities'\r\n      ? (item?.name || 'this university')\r\n      : (item?.unit_code || item?.unit_name || 'this past paper');\r\n\r\n    // Validate that id is a UUID, not an email\r\n    const uuidPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\r\n    if (!uuidPattern.test(id)) {\r\n      console.error('Invalid submission ID format:', id);\r\n      // If id is not valid but we have selected with valid id, use that\r\n      if (selected?.id && uuidPattern.test(selected.id)) {\r\n        console.log('Recursing with selected.id:', selected.id);\r\n        return reject(selected.id);\r\n      }\r\n      showToast({ type: 'error', message: 'Invalid submission ID format. Please refresh and try again.' });\r\n      return;\r\n    }\r\n\r\n    const reason = await prompt({\r\n      title: `Reject ${type === 'books' ? 'Book' : type === 'universities' ? 'University' : 'Past Paper'}?`,\r\n      message: `Optionally provide a reason for rejecting ${label}. This may be shared with the uploader.`,\r\n      label: 'Rejection reason',\r\n      defaultValue: '',\r\n      multiline: true,\r\n      confirmLabel: 'Reject',\r\n      cancelLabel: 'Cancel',\r\n      variant: 'danger',\r\n    });\r\n\r\n    if (reason === null) return;\r\n\r\n    setBusy((prev) => ({ ...prev, [id]: true }));\r\n    \r\n    // Optimistic update: remove item immediately and decrement count\r\n    setItems((prev) => prev.filter((x) => x.id !== id));\r\n    setSelected(null);\r\n    setSummary((prev) => {\r\n      const updated = { ...prev };\r\n      if (type === 'books') updated.booksPending = Math.max(0, updated.booksPending - 1);\r\n      else if (type === 'universities') updated.universitiesPending = Math.max(0, updated.universitiesPending - 1);\r\n      else if (type === 'past_papers') updated.pastPapersPending = Math.max(0, updated.pastPapersPending - 1);\r\n      return updated;\r\n    });\r\n    \r\n    try {\r\n      let res;\r\n      if (type === 'universities') {\r\n        // For universities, update status and add rejection reason\r\n        res = await fetch(`${API_BASE}/api/elib/universities/${id}`, {\r\n          method: 'PATCH',\r\n          headers,\r\n          body: JSON.stringify({ status: 'rejected', rejection_reason: reason || '' }),\r\n        });\r\n      } else {\r\n        // For books/past_papers, use submissions endpoint\r\n        res = await fetch(`${API_BASE}/api/elib/submissions/${id}/reject?type=${encodeURIComponent(type)}`, {\r\n          method: 'POST',\r\n          headers,\r\n          body: JSON.stringify({ reason: reason || '' }),\r\n        });\r\n      }\r\n      const json = await res.json();\r\n      if (!res.ok) throw new Error(json?.error || 'Reject failed');\r\n      showToast({ type: 'success', message: `${type === 'books' ? 'Book' : type === 'universities' ? 'University' : 'Past paper'} rejected.` });\r\n    } catch (e) {\r\n      console.error('Reject submission failed:', e);\r\n      showToast({ type: 'error', message: e.message || 'Reject failed.' });\r\n      // Restore item and count on error\r\n      fetchData();\r\n      fetchSummary();\r\n    } finally {\r\n      setBusy((prev) => ({ ...prev, [id]: false }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"panel\">\r\n      <div className=\"panel-title\">Submissions</div>\r\n      <div style={{ color: '#8696a0', fontSize: 12, marginBottom: 8 }}>\r\n        Review and approve or reject user-contributed books, universities, and past papers.\r\n      </div>\r\n\r\n      <div className=\"panel\" style={{ marginBottom: 8, display: 'flex', alignItems: 'center', gap: 6, flexWrap: 'wrap' }}>\r\n        <div style={{ display: 'flex', gap: 4, flexWrap: 'wrap' }}>\r\n          <button\r\n            className=\"btn\"\r\n            style={{\r\n              display: 'flex', alignItems: 'center', gap: 4,\r\n              background: type === 'books' ? '#00a884' : 'transparent',\r\n              color: type === 'books' ? '#fff' : '#e9edef',\r\n              borderColor: type === 'books' ? '#00a884' : '#374151',\r\n            }}\r\n            onClick={() => setType('books')}\r\n          >\r\n            <FiBook /> Books\r\n            {summary.booksPending > 0 && (\r\n              <span className=\"notification-badge\" style={{ marginLeft: 4 }}>\r\n                {summary.booksPending > 99 ? '99+' : summary.booksPending}\r\n              </span>\r\n            )}\r\n          </button>\r\n          <button\r\n            className=\"btn\"\r\n            style={{\r\n              display: 'flex', alignItems: 'center', gap: 4,\r\n              background: type === 'universities' ? '#00a884' : 'transparent',\r\n              color: type === 'universities' ? '#fff' : '#e9edef',\r\n              borderColor: type === 'universities' ? '#00a884' : '#374151',\r\n            }}\r\n            onClick={() => setType('universities')}\r\n          >\r\n            <FiMapPin /> Universities\r\n            {summary.universitiesPending > 0 && (\r\n              <span className=\"notification-badge\" style={{ marginLeft: 4 }}>\r\n                {summary.universitiesPending > 99 ? '99+' : summary.universitiesPending}\r\n              </span>\r\n            )}\r\n          </button>\r\n          <button\r\n            className=\"btn\"\r\n            style={{\r\n              display: 'flex', alignItems: 'center', gap: 4,\r\n              background: type === 'past_papers' ? '#00a884' : 'transparent',\r\n              color: type === 'past_papers' ? '#fff' : '#e9edef',\r\n              borderColor: type === 'past_papers' ? '#00a884' : '#374151',\r\n            }}\r\n            onClick={() => setType('past_papers')}\r\n          >\r\n            <FiFileText /> Past Papers\r\n            {summary.pastPapersPending > 0 && (\r\n              <span className=\"notification-badge\" style={{ marginLeft: 4 }}>\r\n                {summary.pastPapersPending > 99 ? '99+' : summary.pastPapersPending}\r\n              </span>\r\n            )}\r\n          </button>\r\n        </div>\r\n\r\n        <select\r\n          className=\"input\"\r\n          value={filter}\r\n          onChange={(e) => setFilter(e.target.value)}\r\n          style={{ maxWidth: 200 }}\r\n        >\r\n          <option value=\"pending\">Pending</option>\r\n          <option value=\"approved\">Approved</option>\r\n          <option value=\"rejected\">Rejected</option>\r\n          <option value=\"all\">All</option>\r\n        </select>\r\n        <button className=\"btn\" onClick={fetchData} style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\r\n          <FiRefreshCw /> Refresh\r\n        </button>\r\n      </div>\r\n\r\n      {error && (\r\n        <div style={{ marginBottom: 8, padding: 6, borderRadius: 4, border: '1px solid rgba(234,67,53,.35)', color: '#ffab91', background: 'rgba(234,67,53,.08)', fontSize: 12 }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      <SubmissionsList\r\n        items={items}\r\n        loading={loading}\r\n        type={type}\r\n        busy={busy}\r\n        onSelect={setSelected}\r\n        onApprove={approve}\r\n        onReject={reject}\r\n      />\r\n\r\n      {selected && (\r\n        <SubmissionDetailModal\r\n          submission={selected}\r\n          type={type}\r\n          busy={busy}\r\n          onClose={() => setSelected(null)}\r\n          onApprove={approve}\r\n          onReject={reject}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Submissions;"],"names":["_ref","items","loading","type","busy","onSelect","onApprove","onReject","_jsx","style","padding","color","fontSize","children","length","display","flexDirection","gap","map","sub","background","border","borderRadius","cursor","onClick","_jsxs","justifyContent","alignItems","minWidth","fontWeight","name","title","author","isbn","concat","location","website_url","faculty","unit_code","unit_name","marginTop","d","created_at","Date","toLocaleString","status","uploader_email","_Fragment","uploader_name","uploaded_by","String","className","disabled","id","e","stopPropagation","FiCheck","FiX","FiClock","submission","onClose","fmt","zIndex","maxWidth","width","maxHeight","borderBottom","margin","FiBell","overflowY","marginBottom","includes","cover_url","flex","alignSelf","src","alt","objectFit","boxShadow","description","lineHeight","borderTop","gridTemplateColumns","year","publisher","pages","language","wordBreak","toUpperCase","rejection_reason","cover_image_url","established","href","target","rel","student_count","semester","exam_type","API_BASE","API_URL","userProfile","setItems","useState","setLoading","error","setError","filter","setFilter","setBusy","setType","summary","setSummary","booksPending","pastPapersPending","universitiesPending","selected","setSelected","confirm","prompt","showToast","useAdminUI","headers","useMemo","email","user_id","fetchData","async","_json$submissions","url","encodeURIComponent","console","log","res","fetch","json","count","submissions","ok","Error","Array","isArray","message","fetchSummary","_","useEffect","approve","item","find","x","label","uuidPattern","test","confirmLabel","cancelLabel","variant","prev","_objectSpread","updated","Math","max","method","body","JSON","stringify","details","reject","reason","defaultValue","multiline","flexWrap","borderColor","FiBook","marginLeft","FiMapPin","FiFileText","value","onChange","FiRefreshCw","SubmissionsList","SubmissionDetailModal"],"ignoreList":[],"sourceRoot":""}